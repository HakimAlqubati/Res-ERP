/*! For license information please see main.889511a8.js.LICENSE.txt */
(()=>{var e={5:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),a=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var a=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(a,o),i=0,l=e.map([t,n],function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(r&&(i=s-Math.min(a,o)),s-=1;s>=i;){if(l[0][s]>l[1][s])return 1;if(l[0][s]===l[1][s]){if(s===i)return 0;s-=1}else if(l[0][s]<l[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var a=e[n];if(t(a,n))return a}},e.assign=function(e){for(var t,n,r=e,a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var i=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){r[t]=e[t]})};for(t=0,n=o.length;t<n;t+=1)i();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=a,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new a.default(e,t)},e.parse=function(e){return new a.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&s(t.prototype,n),r&&s(t,r),e}();t.default=i,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(92)),a=l(n(93)),o=l(n(94)),s=l(n(95)),i=l(n(17));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=i.default.find(r.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=i.default.find(a.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=i.default.find(o.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=i.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return i.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,a={},o=0;if(Object.keys(e).forEach(function(t){var s=e[t];"string"==typeof s?(a[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)}),r>0){var s=Object.keys(n),l=i.default.find(s,function(e){return t.isOS(e)});if(l){var u=this.satisfies(n[l]);if(void 0!==u)return u}var c=i.default.find(s,function(e){return t.isPlatform(e)});if(c){var d=this.satisfies(n[c]);if(void 0!==d)return d}}if(o>0){var p=Object.keys(a),h=i.default.find(p,function(e){return t.isBrowser(e,!0)});if(void 0!==h)return this.compareVersion(a[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),a=i.default.getBrowserTypeByAlias(r);return t&&a&&(r=a.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,a=this.getBrowserVersion();if("string"==typeof a)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(i.default.compareVersions(a,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=a.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=a.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=a.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=a.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=a.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=a.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=a.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=a.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=a.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=a.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=a.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=a.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=a.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=a.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=a.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=a.default.getFirstMatch(o,e)||a.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=a.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=a.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=a.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=a.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=a.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=a.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=a.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=a.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=a.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:a.default.getFirstMatch(t,e),version:a.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=a.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=a.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=a.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=a.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=a.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=a.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=a.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=a.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=a.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=a.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=a.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=a.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||a.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||a.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=a.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=a.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=a.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=a.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=a.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=a.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=a.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=a.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=a.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=a.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},940:(e,t,n)=>{var r=n(6882)(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});e.exports=r},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1234:()=>{},1372:(e,t,n)=>{var r=(()=>{var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(t){var r,a,o,s="undefined"!=typeof(t=t||{})?t:{};s.ready=new Promise(function(e,t){r=e,a=t}),"undefined"!==typeof process&&process.listeners&&(o={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var i,l,u,c=Object.assign({},s),d=[],p="object"==typeof window,h="function"==typeof importScripts,f="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";if(f){var g=n(9893),y=n(5281);m=h?y.dirname(m)+"/":"//",i=(e,t)=>(e=H(e)?new URL(e):y.normalize(e),g.readFileSync(e,t?void 0:"utf8")),u=e=>{var t=i(e,!0);return t.buffer||(t=new Uint8Array(t)),t},l=(e,t,n)=>{e=H(e)?new URL(e):y.normalize(e),g.readFile(e,function(e,r){e?n(e):t(r.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),d=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof q))throw e}),process.on("unhandledRejection",function(e){throw e}),s.inspect=function(){return"[Emscripten Module object]"}}else(p||h)&&(h?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),e&&(m=e),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},h&&(u=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),l=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},e=>document.title=e);var v=s.print||console.log.bind(console),b=s.printErr||console.warn.bind(console);Object.assign(s,c),c=null,s.arguments&&(d=s.arguments),s.thisProgram&&s.thisProgram,s.quit&&s.quit;var w;s.wasmBinary&&(w=s.wasmBinary);var k,S=s.noExitRuntime||!0;"object"!=typeof WebAssembly&&W("no native wasm support detected");var x=!1;var I,_,E,T,N="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,n){for(var r=(t>>>=0)+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.buffer&&N)return N.decode(e.subarray(t,a));for(var o="";t<a;){var s=e[t++];if(128&s){var i=63&e[t++];if(192!=(224&s)){var l=63&e[t++];if((s=224==(240&s)?(15&s)<<12|i<<6|l:(7&s)<<18|i<<12|l<<6|63&e[t++])<65536)o+=String.fromCharCode(s);else{var u=s-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&s)<<6|i)}else o+=String.fromCharCode(s)}return o}function A(e,t){return(e>>>=0)?C(E,e,t):""}function M(e){I=e,s.HEAP8=_=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=new Int32Array(e),s.HEAPU8=E=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=T=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=new Float64Array(e)}s.INITIAL_MEMORY;var O=[],R=[],F=[];function D(e){O.unshift(e)}function P(e){F.unshift(e)}var $=0,L=null,z=null;function W(e){s.onAbort&&s.onAbort(e),b(e="Aborted("+e+")"),x=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw a(t),t}var B,U;function j(e){return e.startsWith("data:application/octet-stream;base64,")}function H(e){return e.startsWith("file://")}function V(e){try{if(e==B&&w)return new Uint8Array(w);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(b){W(b)}}function q(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function G(e){for(;e.length>0;)e.shift()(s)}function K(e){try{return k.grow(e-I.byteLength+65535>>>16),M(k.buffer),1}catch(t){}}j(B="tfjs-backend-wasm.wasm")||(U=B,B=s.locateFile?s.locateFile(U,m):m+U);var Y=[null,[],[]];function Q(e,t){var n=Y[e];0===t||10===t?((1===e?v:b)(C(n,0)),n.length=0):n.push(t)}function X(e){return s["_"+e]}function J(e,t,n,r,a){var o={string:e=>{var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,r){if(!(r>0))return 0;for(var a=n>>>=0,o=n+r-1,s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++s)),i<=127){if(n>=o)break;t[n++>>>0]=i}else if(i<=2047){if(n+1>=o)break;t[n++>>>0]=192|i>>6,t[n++>>>0]=128|63&i}else if(i<=65535){if(n+2>=o)break;t[n++>>>0]=224|i>>12,t[n++>>>0]=128|i>>6&63,t[n++>>>0]=128|63&i}else{if(n+3>=o)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63,t[n++>>>0]=128|i>>6&63,t[n++>>>0]=128|63&i}}t[n>>>0]=0})(e,E,t,n)})(e,t=oe(n),n)}return t},array:e=>{var t=oe(e.length);return function(e,t){_.set(e,t>>>0)}(e,t),t}};var s=X(e),i=[],l=0;if(r)for(var u=0;u<r.length;u++){var c=o[n[u]];c?(0===l&&(l=re()),i[u]=c(r[u])):i[u]=r[u]}var d=s.apply(null,i);return d=function(e){return 0!==l&&ae(l),function(e){return"string"===t?A(e):"boolean"===t?Boolean(e):e}(e)}(d)}var Z,ee,te,ne={abort:function(){W("")},emscripten_get_heap_max:function(){return 4294901760},emscripten_memcpy_big:function(e,t,n){E.copyWithin(e>>>0,t>>>0,t+n>>>0)},emscripten_resize_heap:function(e){var t=E.length,n=4294901760;if((e>>>=0)>n)return!1;let r=(e,t)=>e+(t-e%t)%t;for(var a=1;a<=4;a*=2){var o=t*(1+.2/a);if(o=Math.min(o,e+100663296),K(Math.min(n,r(Math.max(e,o),65536))))return!0}return!1},fd_close:function(e){return 52},fd_seek:function(e,t,n,r,a){return 70},fd_write:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var s=T[t>>>2],i=T[t+4>>>2];t+=8;for(var l=0;l<i;l++)Q(e,E[s+l>>>0]);a+=i}return T[r>>>2]=a,0}},re=(function(){var e={env:ne,wasi_snapshot_preview1:ne};function t(e,t){var n,r=e.exports;s.asm=r,M((k=s.asm.memory).buffer),s.asm.__indirect_function_table,n=s.asm.__wasm_call_ctors,R.unshift(n),function(){if($--,s.monitorRunDependencies&&s.monitorRunDependencies($),0==$&&(null!==L&&(clearInterval(L),L=null),z)){var e=z;z=null,e()}}()}function n(e){t(e.instance)}function r(t){return function(){if(!w&&(p||h)){if("function"==typeof fetch&&!H(B))return fetch(B,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+B+"'";return e.arrayBuffer()}).catch(function(){return V(B)});if(l)return new Promise(function(e,t){l(B,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return V(B)})}().then(function(t){return WebAssembly.instantiate(t,e)}).then(function(e){return e}).then(t,function(e){b("failed to asynchronously prepare wasm: "+e),W(e)})}if($++,s.monitorRunDependencies&&s.monitorRunDependencies($),s.instantiateWasm)try{return s.instantiateWasm(e,t)}catch(o){b("Module.instantiateWasm callback failed with error: "+o),a(o)}(w||"function"!=typeof WebAssembly.instantiateStreaming||j(B)||H(B)||f||"function"!=typeof fetch?r(n):fetch(B,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(n,function(e){return b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),r(n)})})).catch(a)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm.__wasm_call_ctors).apply(null,arguments)},s._init=function(){return(s._init=s.asm.init).apply(null,arguments)},s._init_with_threads_count=function(){return(s._init_with_threads_count=s.asm.init_with_threads_count).apply(null,arguments)},s._get_threads_count=function(){return(s._get_threads_count=s.asm.get_threads_count).apply(null,arguments)},s._register_tensor=function(){return(s._register_tensor=s.asm.register_tensor).apply(null,arguments)},s._dispose_data=function(){return(s._dispose_data=s.asm.dispose_data).apply(null,arguments)},s._dispose=function(){return(s._dispose=s.asm.dispose).apply(null,arguments)},s._Abs=function(){return(s._Abs=s.asm.Abs).apply(null,arguments)},s._Acos=function(){return(s._Acos=s.asm.Acos).apply(null,arguments)},s._Acosh=function(){return(s._Acosh=s.asm.Acosh).apply(null,arguments)},s._Add=function(){return(s._Add=s.asm.Add).apply(null,arguments)},s._AddN=function(){return(s._AddN=s.asm.AddN).apply(null,arguments)},s._All=function(){return(s._All=s.asm.All).apply(null,arguments)},s._Any=function(){return(s._Any=s.asm.Any).apply(null,arguments)},s._ArgMax=function(){return(s._ArgMax=s.asm.ArgMax).apply(null,arguments)},s._ArgMin=function(){return(s._ArgMin=s.asm.ArgMin).apply(null,arguments)},s._Asin=function(){return(s._Asin=s.asm.Asin).apply(null,arguments)},s._Asinh=function(){return(s._Asinh=s.asm.Asinh).apply(null,arguments)},s._Atan=function(){return(s._Atan=s.asm.Atan).apply(null,arguments)},s._Atan2=function(){return(s._Atan2=s.asm.Atan2).apply(null,arguments)},s._Atanh=function(){return(s._Atanh=s.asm.Atanh).apply(null,arguments)},s._AvgPool=function(){return(s._AvgPool=s.asm.AvgPool).apply(null,arguments)},s._AvgPool3D=function(){return(s._AvgPool3D=s.asm.AvgPool3D).apply(null,arguments)},s._AvgPool3DGrad=function(){return(s._AvgPool3DGrad=s.asm.AvgPool3DGrad).apply(null,arguments)},s._AvgPoolGrad=function(){return(s._AvgPoolGrad=s.asm.AvgPoolGrad).apply(null,arguments)},s._BatchMatMul=function(){return(s._BatchMatMul=s.asm.BatchMatMul).apply(null,arguments)},s._Bincount=function(){return(s._Bincount=s.asm.Bincount).apply(null,arguments)},s._BitwiseAnd=function(){return(s._BitwiseAnd=s.asm.BitwiseAnd).apply(null,arguments)},s._Ceil=function(){return(s._Ceil=s.asm.Ceil).apply(null,arguments)},s._ClipByValue=function(){return(s._ClipByValue=s.asm.ClipByValue).apply(null,arguments)},s._Conv2D=function(){return(s._Conv2D=s.asm.Conv2D).apply(null,arguments)},s._Conv2DBackpropInput=function(){return(s._Conv2DBackpropInput=s.asm.Conv2DBackpropInput).apply(null,arguments)},s._Conv3D=function(){return(s._Conv3D=s.asm.Conv3D).apply(null,arguments)},s._Conv3DBackpropFilterV2=function(){return(s._Conv3DBackpropFilterV2=s.asm.Conv3DBackpropFilterV2).apply(null,arguments)},s._Conv3DBackpropInputV2=function(){return(s._Conv3DBackpropInputV2=s.asm.Conv3DBackpropInputV2).apply(null,arguments)},s._Cos=function(){return(s._Cos=s.asm.Cos).apply(null,arguments)},s._Cosh=function(){return(s._Cosh=s.asm.Cosh).apply(null,arguments)},s._CropAndResize=function(){return(s._CropAndResize=s.asm.CropAndResize).apply(null,arguments)},s._Cumprod=function(){return(s._Cumprod=s.asm.Cumprod).apply(null,arguments)},s._Cumsum=function(){return(s._Cumsum=s.asm.Cumsum).apply(null,arguments)},s._DenseBincount=function(){return(s._DenseBincount=s.asm.DenseBincount).apply(null,arguments)},s._DepthToSpace=function(){return(s._DepthToSpace=s.asm.DepthToSpace).apply(null,arguments)},s._DepthwiseConv2dNative=function(){return(s._DepthwiseConv2dNative=s.asm.DepthwiseConv2dNative).apply(null,arguments)},s._Diag=function(){return(s._Diag=s.asm.Diag).apply(null,arguments)},s._Dilation2D=function(){return(s._Dilation2D=s.asm.Dilation2D).apply(null,arguments)},s._Dilation2DBackpropFilter=function(){return(s._Dilation2DBackpropFilter=s.asm.Dilation2DBackpropFilter).apply(null,arguments)},s._Dilation2DBackpropInput=function(){return(s._Dilation2DBackpropInput=s.asm.Dilation2DBackpropInput).apply(null,arguments)},s._Elu=function(){return(s._Elu=s.asm.Elu).apply(null,arguments)},s._EluGrad=function(){return(s._EluGrad=s.asm.EluGrad).apply(null,arguments)},s._Equal=function(){return(s._Equal=s.asm.Equal).apply(null,arguments)},s._Erf=function(){return(s._Erf=s.asm.Erf).apply(null,arguments)},s._Exp=function(){return(s._Exp=s.asm.Exp).apply(null,arguments)},s._Expm1=function(){return(s._Expm1=s.asm.Expm1).apply(null,arguments)},s._FlipLeftRight=function(){return(s._FlipLeftRight=s.asm.FlipLeftRight).apply(null,arguments)},s._Floor=function(){return(s._Floor=s.asm.Floor).apply(null,arguments)},s._FloorDiv=function(){return(s._FloorDiv=s.asm.FloorDiv).apply(null,arguments)},s._FusedBatchNorm=function(){return(s._FusedBatchNorm=s.asm.FusedBatchNorm).apply(null,arguments)},s._FusedConv2D=function(){return(s._FusedConv2D=s.asm.FusedConv2D).apply(null,arguments)},s._FusedDepthwiseConv2D=function(){return(s._FusedDepthwiseConv2D=s.asm.FusedDepthwiseConv2D).apply(null,arguments)},s._Gather=function(){return(s._Gather=s.asm.Gather).apply(null,arguments)},s._GatherNd=function(){return(s._GatherNd=s.asm.GatherNd).apply(null,arguments)},s._Greater=function(){return(s._Greater=s.asm.Greater).apply(null,arguments)},s._GreaterEqual=function(){return(s._GreaterEqual=s.asm.GreaterEqual).apply(null,arguments)},s._IsFinite=function(){return(s._IsFinite=s.asm.IsFinite).apply(null,arguments)},s._IsInf=function(){return(s._IsInf=s.asm.IsInf).apply(null,arguments)},s._IsNan=function(){return(s._IsNan=s.asm.IsNan).apply(null,arguments)},s._LRN=function(){return(s._LRN=s.asm.LRN).apply(null,arguments)},s._LRNGrad=function(){return(s._LRNGrad=s.asm.LRNGrad).apply(null,arguments)},s._LeakyRelu=function(){return(s._LeakyRelu=s.asm.LeakyRelu).apply(null,arguments)},s._Less=function(){return(s._Less=s.asm.Less).apply(null,arguments)},s._LessEqual=function(){return(s._LessEqual=s.asm.LessEqual).apply(null,arguments)},s._LinSpace=function(){return(s._LinSpace=s.asm.LinSpace).apply(null,arguments)},s._Log=function(){return(s._Log=s.asm.Log).apply(null,arguments)},s._Log1p=function(){return(s._Log1p=s.asm.Log1p).apply(null,arguments)},s._LogicalAnd=function(){return(s._LogicalAnd=s.asm.LogicalAnd).apply(null,arguments)},s._LogicalNot=function(){return(s._LogicalNot=s.asm.LogicalNot).apply(null,arguments)},s._LogicalOr=function(){return(s._LogicalOr=s.asm.LogicalOr).apply(null,arguments)},s._LogicalXor=function(){return(s._LogicalXor=s.asm.LogicalXor).apply(null,arguments)},s._Max=function(){return(s._Max=s.asm.Max).apply(null,arguments)},s._MaxPool=function(){return(s._MaxPool=s.asm.MaxPool).apply(null,arguments)},s._MaxPool3D=function(){return(s._MaxPool3D=s.asm.MaxPool3D).apply(null,arguments)},s._MaxPool3DGrad=function(){return(s._MaxPool3DGrad=s.asm.MaxPool3DGrad).apply(null,arguments)},s._MaxPoolGrad=function(){return(s._MaxPoolGrad=s.asm.MaxPoolGrad).apply(null,arguments)},s._MaxPoolWithArgmax=function(){return(s._MaxPoolWithArgmax=s.asm.MaxPoolWithArgmax).apply(null,arguments)},s._Maximum=function(){return(s._Maximum=s.asm.Maximum).apply(null,arguments)},s._Mean=function(){return(s._Mean=s.asm.Mean).apply(null,arguments)},s._Min=function(){return(s._Min=s.asm.Min).apply(null,arguments)},s._Minimum=function(){return(s._Minimum=s.asm.Minimum).apply(null,arguments)},s._MirrorPad=function(){return(s._MirrorPad=s.asm.MirrorPad).apply(null,arguments)},s._Mod=function(){return(s._Mod=s.asm.Mod).apply(null,arguments)},s._Multinomial=function(){return(s._Multinomial=s.asm.Multinomial).apply(null,arguments)},s._Multiply=function(){return(s._Multiply=s.asm.Multiply).apply(null,arguments)},s._Neg=function(){return(s._Neg=s.asm.Neg).apply(null,arguments)},s._NonMaxSuppressionV3=function(){return(s._NonMaxSuppressionV3=s.asm.NonMaxSuppressionV3).apply(null,arguments)},s._NonMaxSuppressionV4=function(){return(s._NonMaxSuppressionV4=s.asm.NonMaxSuppressionV4).apply(null,arguments)},s._NonMaxSuppressionV5=function(){return(s._NonMaxSuppressionV5=s.asm.NonMaxSuppressionV5).apply(null,arguments)},s._NotEqual=function(){return(s._NotEqual=s.asm.NotEqual).apply(null,arguments)},s._OneHot=function(){return(s._OneHot=s.asm.OneHot).apply(null,arguments)},s._PadV2=function(){return(s._PadV2=s.asm.PadV2).apply(null,arguments)},s._Pow=function(){return(s._Pow=s.asm.Pow).apply(null,arguments)},s._Prelu=function(){return(s._Prelu=s.asm.Prelu).apply(null,arguments)},s._Prod=function(){return(s._Prod=s.asm.Prod).apply(null,arguments)},s._RealDiv=function(){return(s._RealDiv=s.asm.RealDiv).apply(null,arguments)},s._Reciprocal=function(){return(s._Reciprocal=s.asm.Reciprocal).apply(null,arguments)},s._Relu=function(){return(s._Relu=s.asm.Relu).apply(null,arguments)},s._Relu6=function(){return(s._Relu6=s.asm.Relu6).apply(null,arguments)},s._ResizeBilinear=function(){return(s._ResizeBilinear=s.asm.ResizeBilinear).apply(null,arguments)},s._ResizeBilinearGrad=function(){return(s._ResizeBilinearGrad=s.asm.ResizeBilinearGrad).apply(null,arguments)},s._ResizeNearestNeighbor=function(){return(s._ResizeNearestNeighbor=s.asm.ResizeNearestNeighbor).apply(null,arguments)},s._ResizeNearestNeighborGrad=function(){return(s._ResizeNearestNeighborGrad=s.asm.ResizeNearestNeighborGrad).apply(null,arguments)},s._Reverse=function(){return(s._Reverse=s.asm.Reverse).apply(null,arguments)},s._RotateWithOffset=function(){return(s._RotateWithOffset=s.asm.RotateWithOffset).apply(null,arguments)},s._Round=function(){return(s._Round=s.asm.Round).apply(null,arguments)},s._Rsqrt=function(){return(s._Rsqrt=s.asm.Rsqrt).apply(null,arguments)},s._ScatterNd=function(){return(s._ScatterNd=s.asm.ScatterNd).apply(null,arguments)},s._SearchSorted=function(){return(s._SearchSorted=s.asm.SearchSorted).apply(null,arguments)},s._SelectV2=function(){return(s._SelectV2=s.asm.SelectV2).apply(null,arguments)},s._Selu=function(){return(s._Selu=s.asm.Selu).apply(null,arguments)},s._Sigmoid=function(){return(s._Sigmoid=s.asm.Sigmoid).apply(null,arguments)},s._Sign=function(){return(s._Sign=s.asm.Sign).apply(null,arguments)},s._Sin=function(){return(s._Sin=s.asm.Sin).apply(null,arguments)},s._Sinh=function(){return(s._Sinh=s.asm.Sinh).apply(null,arguments)},s._Softmax=function(){return(s._Softmax=s.asm.Softmax).apply(null,arguments)},s._Softplus=function(){return(s._Softplus=s.asm.Softplus).apply(null,arguments)},s._SparseFillEmptyRows=function(){return(s._SparseFillEmptyRows=s.asm.SparseFillEmptyRows).apply(null,arguments)},s._SparseReshape=function(){return(s._SparseReshape=s.asm.SparseReshape).apply(null,arguments)},s._SparseSegmentReduction=function(){return(s._SparseSegmentReduction=s.asm.SparseSegmentReduction).apply(null,arguments)},s._SparseToDense=function(){return(s._SparseToDense=s.asm.SparseToDense).apply(null,arguments)},s._Sqrt=function(){return(s._Sqrt=s.asm.Sqrt).apply(null,arguments)},s._Square=function(){return(s._Square=s.asm.Square).apply(null,arguments)},s._SquaredDifference=function(){return(s._SquaredDifference=s.asm.SquaredDifference).apply(null,arguments)},s._Step=function(){return(s._Step=s.asm.Step).apply(null,arguments)},s._StridedSlice=function(){return(s._StridedSlice=s.asm.StridedSlice).apply(null,arguments)},s._Sub=function(){return(s._Sub=s.asm.Sub).apply(null,arguments)},s._Sum=function(){return(s._Sum=s.asm.Sum).apply(null,arguments)},s._Tan=function(){return(s._Tan=s.asm.Tan).apply(null,arguments)},s._Tanh=function(){return(s._Tanh=s.asm.Tanh).apply(null,arguments)},s._TensorScatterUpdate=function(){return(s._TensorScatterUpdate=s.asm.TensorScatterUpdate).apply(null,arguments)},s._Tile=function(){return(s._Tile=s.asm.Tile).apply(null,arguments)},s._TopK=function(){return(s._TopK=s.asm.TopK).apply(null,arguments)},s._Transform=function(){return(s._Transform=s.asm.Transform).apply(null,arguments)},s._Transpose=function(){return(s._Transpose=s.asm.Transpose).apply(null,arguments)},s.__FusedMatMul=function(){return(s.__FusedMatMul=s.asm._FusedMatMul).apply(null,arguments)},s._malloc=function(){return(s._malloc=s.asm.malloc).apply(null,arguments)},s._free=function(){return(s._free=s.asm.free).apply(null,arguments)},s.___errno_location=function(){return(s.___errno_location=s.asm.__errno_location).apply(null,arguments)},s.stackSave=function(){return(re=s.stackSave=s.asm.stackSave).apply(null,arguments)}),ae=s.stackRestore=function(){return(ae=s.stackRestore=s.asm.stackRestore).apply(null,arguments)},oe=s.stackAlloc=function(){return(oe=s.stackAlloc=s.asm.stackAlloc).apply(null,arguments)};s.dynCall_iijjiiii=function(){return(s.dynCall_iijjiiii=s.asm.dynCall_iijjiiii).apply(null,arguments)},s.dynCall_jiji=function(){return(s.dynCall_jiji=s.asm.dynCall_jiji).apply(null,arguments)};function se(e){function t(){Z||(Z=!0,s.calledRun=!0,x||(G(R),r(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),function(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)P(s.postRun.shift());G(F)}()))}e=e||d,$>0||(!function(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)D(s.preRun.shift());G(O)}(),$>0||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),t()},1)):t()))}if(s.cwrap=function(e,t,n,r){var a=(n=n||[]).every(e=>"number"===e||"boolean"===e);return"string"!==t&&a&&!r?X(e):function(){return J(e,t,n,arguments)}},z=function e(){Z||se(),Z||(z=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();if(se(),o&&(ee={uncaughtException:process.listeners("uncaughtException").filter(function(e){return!o.uncaughtException.indexOf(e)>-1}),unhandledRejection:process.listeners("unhandledRejection").filter(function(e){return!o.unhandledRejection.indexOf(e)>-1})}),"undefined"!==typeof t)te=t;else{if("undefined"===typeof WasmBackendModuleThreadedSimd)throw new Error("Could not find wasm module in post.js");te=WasmBackendModuleThreadedSimd}if(ee){var ie=te._dispose;te._dispose=function(){ie(),ee.uncaughtException.forEach(function(e){process.removeListener("uncaughtException",e)}),ee.unhandledRejection.forEach(function(e){process.removeListener("unhandledRejection",e)})}}return t.ready}})();e.exports=r},1540:e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",a="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+o+"]",i="\\d+",l="["+n+"]",u="["+r+"]",c="[^"+t+o+i+n+r+a+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+a+"]",f="(?:"+u+"|"+c+")",m="(?:"+h+"|"+c+")",g="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",y="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",v="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",b="[\\ufe0e\\ufe0f]?",w=b+v+("(?:\\u200d(?:"+["[^"+t+"]",d,p].join("|")+")"+b+v+")*"),k="(?:"+[l,d,p].join("|")+")"+w,S=RegExp([h+"?"+u+"+"+g+"(?="+[s,h,"$"].join("|")+")",m+"+"+y+"(?="+[s,h+f,"$"].join("|")+")",h+"?"+f+"+"+g,h+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i,k].join("|"),"g");e.exports=function(e){return e.match(S)||[]}},2037:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},2330:(e,t,n)=>{"use strict";var r=n(5043);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,i=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),a=r[0].inst,c=r[1];return i(function(){a.value=n,a.getSnapshot=t,u(a)&&c({inst:a})},[e,n,t]),s(function(){return u(a)&&c({inst:a}),e(function(){u(a)&&c({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},2430:function(e,t,n){var r;!function(a,o,s){var i,l=256,u=s.pow(l,6),c=s.pow(2,52),d=2*c,p=255;function h(e,t,n){var r=[],p=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,v(o)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(l):(e=new Uint8Array(l),(a.crypto||a.msCrypto).getRandomValues(e)),v(e)}catch(r){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,v(o)]}}():e,3),r),h=new f(r),b=function(){for(var e=h.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|h.g(4)},b.quick=function(){return h.g(4)/4294967296},b.double=b,y(v(h.S),o),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(s.random=e,t):e})(b,p,"global"in t?t.global:this==s,t.state)}function f(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);a<l;)s[a]=a++;for(a=0;a<l;a++)s[a]=s[o=p&o+e[a%n]+(t=s[a])],s[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,s=r.S;e--;)t=s[a=p&a+1],n=n*l+s[p&(s[a]=s[o=p&o+t])+(s[o]=t)];return r.i=a,r.j=o,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(g(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function y(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(y(s.random(),o),e.exports){e.exports=h;try{i=n(1234)}catch(b){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element");function r(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}Symbol.for("react.fragment"),t.jsx=r,t.jsxs=r},3086:(e,t,n)=>{var r=n(2037)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},3556:()=>{},4052:e=>{var t=Array.isArray;e.exports=t},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function I(e,t,r,a,o,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(){}function C(e,t,a,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(i){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case p:return C((c=e._init)(e._payload),t,a,o,s)}}if(c)return s=s(e),c=""===o?"."+T(e,0):o,k(s)?(a="",null!=c&&(a=c.replace(E,"$&/")+"/"),C(s,t,a,"",function(e){return e})):null!=s&&(_(s)&&(l=s,u=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+c,s=I(l.type,u,void 0,0,0,l.props)),t.push(s)),1;c=0;var d,f=""===o?".":o+":";if(k(e))for(var m=0;m<e.length;m++)c+=C(o=e[m],t,a,i=f+T(o,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)c+=C(o=o.value,t,a,i=f+T(o,m++),s);else if("object"===i){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function A(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",function(e){return t.call(n,e,a++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!x.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),i=0;i<o;i++)s[i]=arguments[i+2];r.children=s}return I(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,n){var r,a={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var i=Array(s),l=0;l<s;l++)i[l]=arguments[l+2];a.children=i}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return I(e,o,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),a=S.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,O)}catch(o){O(o)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},4334:(e,t,n)=>{var r=n(7359),a=n(7066),o=n(9016),s=n(9538),i=n(6288),l=n(5262),u=n(2430);u.alea=r,u.xor128=a,u.xorwow=o,u.xorshift7=s,u.xor4096=i,u.tychei=l,e.exports=u},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(l){}var a=s.call(e);return r&&(t?e[i]=n:delete e[i]),a}},4971:(e,t,n)=>{var r=n(3086),a=n(1069),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=a(e))&&e.replace(o,r).replace(s,"")}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5262:function(e,t,n){var r;!function(e,a){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.tychei=i}(0,e=n.nmd(e),n.amdD)},5281:()=>{},5615:function(e,t,n){(function(){"use strict";var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var a=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=a;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in n))break e;n=n[s]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function i(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function l(e){if(!(e instanceof Array)){e=i(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",a=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+a++,r)}}),o("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<n.length;o++){var i=a[n[o]];"function"===typeof i&&"function"!=typeof i.prototype[e]&&r(i.prototype,e,{configurable:!0,writable:!0,value:function(){return s(t(this))}})}return e});var u,c="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)u=Object.setPrototypeOf;else{var d;e:{var p={};try{p.__proto__={a:!0},d=p.a;break e}catch(qt){}d=!1}u=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var h=u;function f(e,t){if(e.prototype=c(t.prototype),e.prototype.constructor=e,h)h(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.na=t.prototype}function m(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function g(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function y(e,t){e.j={da:t,ea:!0},e.g=e.o||e.u}function v(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new m,this.h=e}function w(e,t,n,r){try{var a=t.call(e.g.i,n);if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");if(!a.done)return e.g.l=!1,a;var o=a.value}catch(s){return e.g.i=null,y(e.g,s),k(e)}return e.g.i=null,r.call(e.g,o),k(e)}function k(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,y(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.ea)throw t.da;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function S(e){this.next=function(t){return g(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.s):(e.g.s(t),t=k(e)),t},this.throw=function(t){return g(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.s):(y(e.g,t),t=k(e)),t},this.return=function(t){return function(e,t){g(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),k(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function x(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise(function(r,a){!function e(o){o.done?r(o.value):Promise.resolve(o.value).then(t,n).then(e,a)}(e.next())})}(new S(new b(e)))}m.prototype.s=function(e){this.h=e},m.prototype.return=function(e){this.j={return:e},this.g=this.u},o("Promise",function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.s=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i(function(){t.l()})}this.g.push(e)};var o=a.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i(function(){throw e})},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.o(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.I(t,e):this.o(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.o=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.B()},t.prototype.G=function(){var e=this;o(function(){if(e.C()){var t=a.console;"undefined"!==typeof t&&t.error(e.i)}},1)},t.prototype.C=function(){if(this.s)return!1;var e=a.CustomEvent,t=a.Event,n=a.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=a.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.B=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)s.h(this.g[e]);this.g=null}};var s=new n;return t.prototype.H=function(e){var t=this.j();e.M(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{a(e(t))}catch(n){o(n)}}:t}var a,o,s=new t(function(e,t){a=e,o=t});return this.M(r(e,a),r(n,o)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.M=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?s.h(n):this.g.push(n),this.s=!0},t.resolve=r,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var a=i(e),o=a.next();!o.done;o=a.next())r(o.value).M(t,n)})},t.all=function(e){var n=i(e),a=n.next();return a.done?r([]):new t(function(e,t){function o(t){return function(n){s[t]=n,0==--i&&e(s)}}var s=[],i=0;do{s.push(void 0),i++,r(a.value).M(o(s.length-1),t),a=n.next()}while(!a.done)})},t});var I="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};o("Object.assign",function(e){return e||I}),o("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}}),o("Array.prototype.includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var a=n[t];if(a===e||Object.is(a,e))return!0}return!1}}),o("String.prototype.includes",function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}}),o("Array.prototype.keys",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,function(e){return e})}});var _=this||self;function E(e,t){e=e.split(".");var n,r=_;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function T(){throw Error("Invalid UTF8")}function N(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var C,A,M="undefined"!==typeof TextDecoder,O="undefined"!==typeof TextEncoder,R={},F=null;function D(e){var t;void 0===t&&(t=0),$(),t=R[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",a=0,o=0;a<e.length-2;a+=3){var s=e[a],i=e[a+1],l=e[a+2],u=t[s>>2];s=t[(3&s)<<4|i>>4],i=t[(15&i)<<2|l>>6],l=t[63&l],n[o++]=u+s+i+l}switch(u=0,l=r,e.length-a){case 2:l=t[(15&(u=e[a+1]))<<2]||r;case 1:e=e[a],n[o]=t[e>>2]+t[(3&e)<<4|u>>4]+l+r}return n.join("")}function P(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),a=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),a=F[n];if(null!=a)return a;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}$();for(var r=0;;){var a=n(-1),o=n(0),s=n(64),i=n(64);if(64===i&&-1===a)break;t(a<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=i&&t(s<<6&192|i))}}(e,function(e){r[a++]=e}),a!==n?r.subarray(0,a):r}function $(){if(!F){F={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));R[n]=r;for(var a=0;a<r.length;a++){var o=r[a];void 0===F[o]&&(F[o]=a)}}}}var L,z="function"===typeof Uint8Array;function W(e){return z&&null!=e&&e instanceof Uint8Array}function B(e){if(this.L=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var U="function"===typeof Uint8Array.prototype.slice,j=0;function H(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function V(){return Error("Failed to read varint, encoding is invalid.")}function q(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.j=0,this.v=t,e&&G(this,e)}function G(e,t){e.h=function(e,t){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return P(e);if(e.constructor===B)return!t&&(t=e.L)&&t.constructor===Uint8Array?t:(t=null==(t=e.L)||W(t)?t:"string"===typeof t?P(t):null,(e=e.L=t)?new Uint8Array(e):L||(L=new Uint8Array(0)));if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t,e.v),e.j=0,e.i=e.h.length,e.g=e.j}function K(e){if(e.g>e.i)throw Error("Tried to read past the end of the data "+e.g+" > "+e.i)}function Y(e){var t=e.h,n=t[e.g],r=127&n;if(128>n)return e.g+=1,K(e),r;if(r|=(127&(n=t[e.g+1]))<<7,128>n)return e.g+=2,K(e),r;if(r|=(127&(n=t[e.g+2]))<<14,128>n)return e.g+=3,K(e),r;if(r|=(127&(n=t[e.g+3]))<<21,128>n)return e.g+=4,K(e),r;if(n=t[e.g+4],e.g+=5,r|=(15&n)<<28,128>n)return K(e),r;if(128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++])throw V();return K(e),r}q.prototype.reset=function(){this.g=this.j};var Q=[];function X(){this.g=[]}function J(e,t){for(;127<t;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function Z(e){var t={},n=void 0!==t.W&&t.W;this.l={v:void 0!==t.v&&t.v},this.W=n,t=this.l,Q.length?(n=Q.pop(),t&&(n.v=t.v),e&&G(n,e),e=n):e=new q(e,t),this.g=e,this.j=this.g.g,this.h=this.i=-1}function ee(e){var t=e.g;if(t.g==t.i)return!1;e.j=e.g.g;var n=Y(e.g)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw H(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.i=t,e.h=n,!0}function te(e){switch(e.h){case 0:if(0!=e.h)te(e);else e:{for(var t=(e=e.g).g,n=t+10;t<n;)if(0===(128&e.h[t++])){e.g=t,K(e);break e}throw V()}break;case 1:(e=e.g).g+=8,K(e);break;case 2:2!=e.h?te(e):(t=Y(e.g)>>>0,(e=e.g).g+=t,K(e));break;case 5:(e=e.g).g+=4,K(e);break;case 3:for(t=e.i;;){if(!ee(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.i!=t)throw Error("Unmatched end-group tag");break}te(e)}break;default:throw H(e.h,e.j)}}X.prototype.length=function(){return this.g.length},X.prototype.end=function(){var e=this.g;return this.g=[],e},Z.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var ne=[];function re(){this.i=[],this.h=0,this.g=new X}function ae(e,t){0!==t.length&&(e.i.push(t),e.h+=t.length)}var oe="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol(void 0):void 0;function se(e,t){Object.isFrozen(e)||(oe?e[oe]|=t:void 0!==e.N?e.N|=t:Object.defineProperties(e,{N:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function ie(e){var t;return null==(t=oe?e[oe]:e.N)?0:t}function le(e){return se(e,1),e}function ue(e){return!!Array.isArray(e)&&!!(2&ie(e))}function ce(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");se(e,2)}function de(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)&&e.constructor===Object}var pe=Object.freeze(le([]));function he(e){if(ue(e.m))throw Error("Cannot mutate an immutable Message")}var fe,me="undefined"!=typeof Symbol&&"undefined"!=typeof Symbol.hasInstance;function ge(e){return{value:e,configurable:!1,writable:!1,enumerable:!1}}function ye(e,t,n){return-1===t?null:t>=e.i?e.g?e.g[t]:void 0:void 0!==n&&n&&e.g&&null!=(n=e.g[t])?n:e.m[t+e.h]}function ve(e,t,n,r){r=void 0!==r&&r,he(e),t<e.i&&!r?e.m[t+e.h]=n:(e.g||(e.g=e.m[e.i+e.h]={}))[t]=n}function be(e,t,n,r){n=void 0===n||n;var a=ye(e,t,r=void 0!==r&&r);return null==a&&(a=pe),ue(e.m)?n&&(ce(a),Object.freeze(a)):(a===pe||ue(a))&&ve(e,t,a=le(a.slice()),r),a}function we(e,t,n){return null==(e=null==(e=ye(e,t))?e:+e)?void 0===n?0:n:e}function ke(e,t,n,r){e.j||(e.j={});var a=ue(e.m),o=e.j[n];if(!o){r=be(e,n,!0,void 0!==r&&r),o=[],a=a||ue(r);for(var s=0;s<r.length;s++)o[s]=new t(r[s]),a&&ce(o[s].m);a&&(ce(o),Object.freeze(o)),e.j[n]=o}return o}function Se(e,t,n,r,a){var o=void 0!==o&&o;return he(e),o=ke(e,n,t,o),n=r||new n,e=be(e,t),void 0!=a?(o.splice(a,0,n),e.splice(a,0,n.m)):(o.push(n),e.push(n.m)),n}function xe(e,t){return null==(e=ye(e,t))?0:e}function Ie(e,t){return null==(e=ye(e,t))?"":e}function _e(e){var t=Ne;return Te(e,t=void 0===t?Ce:t)}function Ee(e,t){if(null!=e){if(Array.isArray(e))e=Te(e,t);else if(de(e)){var n,r={};for(n in e)r[n]=Ee(e[n],t);e=r}else e=t(e);return e}}function Te(e,t){for(var n=e.slice(),r=0;r<n.length;r++)n[r]=Ee(n[r],t);return Array.isArray(e)&&1&ie(e)&&le(n),n}function Ne(e){return e&&"object"==typeof e&&e.toJSON?e.toJSON():(e=function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e&&!Array.isArray(e)){if(W(e))return D(e);if(e instanceof B){var t=e.L;return t=null==t||"string"===typeof t?t:z&&t instanceof Uint8Array?D(t):null,(e.L=t)||""}}}return e}(e),Array.isArray(e)?_e(e):e)}function Ce(e){return W(e)?new Uint8Array(e):e}function Ae(e,t,n){e||(e=fe),fe=null;var r=this.constructor.h;if(e||(e=r?[r]:[]),this.h=(r?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=e,e=(r=this.m.length)-1,r&&de(r=this.m[e])?(this.i=e-this.h,this.g=r):void 0!==t&&-1<t?(this.i=Math.max(t,e+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)if((e=n[t])<this.i)e+=this.h,(r=this.m[e])?Array.isArray(r)&&le(r):this.m[e]=pe;else{var a=(r=this.g||(this.g=this.m[this.i+this.h]={}))[e];a?Array.isArray(a)&&le(a):r[e]=pe}}function Me(){Ae.apply(this,arguments)}if(Ae.prototype.toJSON=function(){return _e(this.m)},Ae.prototype.toString=function(){return this.m.toString()},f(Me,Ae),me){var Oe={};Object.defineProperties(Me,(Oe[Symbol.hasInstance]=ge(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),Oe))}function Re(e,t,n){if(n){var r,a={};for(r in n){var o=n[r],s=o.ha;s||(a.F=o.la||o.fa.P,o.aa?(a.U=We(o.aa),s=function(e){return function(t,n,r){return e.F(t,n,r,e.U)}}(a)):o.ca?(a.T=Be(o.X.g,o.ca),s=function(e){return function(t,n,r){return e.F(t,n,r,e.T)}}(a)):s=a.F,o.ha=s),s(t,e,o.X),a={F:a.F,U:a.U,T:a.T}}}!function(e,t){if(t=t.ba){ae(e,e.g.end());for(var n=0;n<t.length;n++)ae(e,t[n])}}(t,e)}var Fe=Symbol();function De(e,t,n){return e[Fe]||(e[Fe]=function(e,r){return t(e,r,n)})}function Pe(e){var t=e[Fe];if(!t){var n=Ze(e);t=function(e,t){return et(e,t,n)},e[Fe]=t}return t}function $e(e){var t=function(e){var t=e.aa;return t?Pe(t):(t=e.ka)?De(e.X.g,t,e.ca):void 0}(e),n=e.X,r=e.fa.O;return t?function(e,a){return r(e,a,n,t)}:function(e,t){return r(e,t,n)}}function Le(e,t,n,r,a,o){var s=0;for((e=e()).length&&"number"!==typeof e[0]&&(n(t,e[0]),s++);s<e.length;){n=e[s++];for(var i=s+1;i<e.length&&"number"!==typeof e[i];)i++;var l=e[s++];switch(i-=s){case 0:r(t,n,l);break;case 1:r(t,n,l,e[s++]);break;case 2:a(t,n,l,e[s++],e[s++]);break;case 3:i=e[s++];var u=e[s++],c=e[s++];Array.isArray(c)?a(t,n,l,i,u,c):o(t,n,l,i,u,c);break;case 4:o(t,n,l,e[s++],e[s++],e[s++],e[s++]);break;default:throw Error("unexpected number of binary field arguments: "+i)}}return t}var ze=Symbol();function We(e){var t=e[ze];if(!t){var n=Ge(e);t=function(e,t){return nt(e,t,n)},e[ze]=t}return t}function Be(e,t){var n=e[ze];return n||(n=function(e,n){return Re(e,n,t)},e[ze]=n),n}var Ue=Symbol();function je(e,t){e.push(t)}function He(e,t,n){e.push(t,n.P)}function Ve(e,t,n,r,a){var o=We(a),s=n.P;e.push(t,function(e,t,n){return s(e,t,n,r,o)})}function qe(e,t,n,r,a,o){var s=Be(r,o),i=n.P;e.push(t,function(e,t,n){return i(e,t,n,r,s)})}function Ge(e){var t=e[Ue];return t||Le(e,e[Ue]=[],je,He,Ve,qe)}var Ke=Symbol();function Ye(e,t){e[0]=t}function Qe(e,t,n,r){var a=n.O;e[t]=r?function(e,t,n){return a(e,t,n,r)}:a}function Xe(e,t,n,r,a,o){var s=n.O,i=Pe(a);e[t]=function(e,t,n){return s(e,t,n,r,i,o)}}function Je(e,t,n,r,a,o,s){var i=n.O,l=De(r,a,o);e[t]=function(e,t,n){return i(e,t,n,r,l,s)}}function Ze(e){var t=e[Ke];return t||Le(e,e[Ke]={},Ye,Qe,Xe,Je)}function et(e,t,n){for(;ee(t)&&4!=t.h;){var r=t.i,a=n[r];if(!a){var o=n[0];o&&(o=o[r])&&(a=n[r]=$e(o))}if((!a||!a(t,e,r))&&(r=e,o=(a=t).j,te(a),!a.W)){var s=a.g.h;a=o===(a=a.g.g)?L||(L=new Uint8Array(0)):U?s.slice(o,a):new Uint8Array(s.subarray(o,a)),(o=r.ba)?o.push(a):r.ba=[a]}}return e}function tt(e,t,n){if(ne.length){var r=ne.pop();e&&(G(r.g,e),r.i=-1,r.h=-1),e=r}else e=new Z(e);try{return et(new t,e,Ze(n))}finally{(t=e.g).h=null,t.j=0,t.i=0,t.g=0,t.v=!1,e.i=-1,e.h=-1,100>ne.length&&ne.push(e)}}function nt(e,t,n){for(var r=n.length,a=1==r%2,o=a?1:0;o<r;o+=2)(0,n[o+1])(t,e,n[o]);Re(e,t,a?n[0]:void 0)}function rt(e,t){var n=new re;nt(e,n,Ge(t)),ae(n,n.g.end()),e=new Uint8Array(n.h);for(var r=(t=n.i).length,a=0,o=0;o<r;o++){var s=t[o];e.set(s,a),a+=s.length}return n.i=[e],e}function at(e,t){return{O:e,P:t}}var ot=at(function(e,t,n){if(5!==e.h)return!1;var r=(e=e.g).h[e.g],a=e.h[e.g+1],o=e.h[e.g+2],s=e.h[e.g+3];return e.g+=4,K(e),e=2*((a=(r|a<<8|o<<16|s<<24)>>>0)>>31)+1,r=a>>>23&255,a&=8388607,ve(t,n,255==r?a?NaN:1/0*e:0==r?e*Math.pow(2,-149)*a:e*Math.pow(2,r-150)*(a+Math.pow(2,23))),!0},function(e,t,n){if(null!=(t=ye(t,n))){J(e.g,8*n+5),e=e.g;var r=t;0===(r=(n=0>r?1:0)?-r:r)?0<1/r?j=0:j=2147483648:isNaN(r)?j=2147483647:34028234663852886e22<r?j=(n<<31|2139095040)>>>0:11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),j=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,j=(n<<31|t+127<<23|8388607&r)>>>0),n=j,e.g.push(n>>>0&255),e.g.push(n>>>8&255),e.g.push(n>>>16&255),e.g.push(n>>>24&255)}}),st=at(function(e,t,n){if(0!==e.h)return!1;for(var r=e.g,a=128,o=0,s=e=0;4>s&&128<=a;s++)a=r.h[r.g++],K(r),o|=(127&a)<<7*s;if(128<=a&&(a=r.h[r.g++],K(r),o|=(127&a)<<28,e|=(127&a)>>4),128<=a)for(s=0;5>s&&128<=a;s++)a=r.h[r.g++],K(r),e|=(127&a)<<7*s+3;if(!(128>a))throw V();return r=o>>>0,(e=2147483648&(a=e>>>0))&&(a=~a>>>0,0==(r=1+~r>>>0)&&(a=a+1>>>0)),r=4294967296*a+(r>>>0),ve(t,n,e?-r:r),!0},function(e,t,n){if(null!=(t=ye(t,n))&&null!=t){J(e.g,8*n),e=e.g;var r=t;for(n=0>r,t=(r=Math.abs(r))>>>0,r=Math.floor((r-t)/4294967296),r>>>=0,n&&(r=~r>>>0,4294967295<(t=(~t>>>0)+1)&&(t=0,4294967295<++r&&(r=0))),n=j=t,t=r;0<t||127<n;)e.g.push(127&n|128),n=(n>>>7|t<<25)>>>0,t>>>=7;e.g.push(n)}}),it=at(function(e,t,n){return 0===e.h&&(ve(t,n,Y(e.g)),!0)},function(e,t,n){if(null!=(t=ye(t,n))&&null!=t)if(J(e.g,8*n),e=e.g,0<=(n=t))J(e,n);else{for(t=0;9>t;t++)e.g.push(127&n|128),n>>=7;e.g.push(1)}}),lt=at(function(e,t,n){if(2!==e.h)return!1;var r,a=Y(e.g)>>>0,o=(e=e.g).g;if(e.g+=a,K(e),e=e.h,M)(r=C)||(r=C=new TextDecoder("utf-8",{fatal:!0})),r=r.decode(e.subarray(o,o+a));else{a=o+a;for(var s,i,l,u=[],c=null;o<a;)128>(s=e[o++])?u.push(s):224>s?o>=a?T():(i=e[o++],194>s||128!==(192&i)?(o--,T()):u.push((31&s)<<6|63&i)):240>s?o>=a-1?T():128!==(192&(i=e[o++]))||224===s&&160>i||237===s&&160<=i||128!==(192&(r=e[o++]))?(o--,T()):u.push((15&s)<<12|(63&i)<<6|63&r):244>=s?o>=a-2?T():128!==(192&(i=e[o++]))||0!==i-144+(s<<28)>>30||128!==(192&(r=e[o++]))||128!==(192&(l=e[o++]))?(o--,T()):(s=(7&s)<<18|(63&i)<<12|(63&r)<<6|63&l,s-=65536,u.push(55296+(s>>10&1023),56320+(1023&s))):T(),8192<=u.length&&(c=N(c,u),u.length=0);r=N(c,u)}return ve(t,n,r),!0},function(e,t,n){if(null!=(t=ye(t,n))){var r=!1;if(r=void 0!==r&&r,O){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(A||(A=new TextEncoder)).encode(t)}else{for(var a=0,o=new Uint8Array(3*t.length),s=0;s<t.length;s++){var i=t.charCodeAt(s);if(128>i)o[a++]=i;else{if(2048>i)o[a++]=i>>6|192;else{if(55296<=i&&57343>=i){if(56319>=i&&s<t.length){var l=t.charCodeAt(++s);if(56320<=l&&57343>=l){i=1024*(i-55296)+l-56320+65536,o[a++]=i>>18|240,o[a++]=i>>12&63|128,o[a++]=i>>6&63|128,o[a++]=63&i|128;continue}s--}if(r)throw Error("Found an unpaired surrogate");i=65533}o[a++]=i>>12|224,o[a++]=i>>6&63|128}o[a++]=63&i|128}}t=o.subarray(0,a)}J(e.g,8*n+2),J(e.g,t.length),ae(e,e.g.end()),ae(e,t)}}),ut=at(function(e,t,n,r,a){if(2!==e.h)return!1;t=Se(t,n,r),n=e.g.i,r=Y(e.g)>>>0;var o=e.g.g+r,s=o-n;if(0>=s&&(e.g.i=o,a(t,e),s=o-e.g.g),s)throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-s)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=o,e.g.i=n,!0},function(e,t,n,r,a){if(null!=(t=ke(t,r,n)))for(r=0;r<t.length;r++){var o=e;J(o.g,8*n+2);var s=o.g.end();ae(o,s),s.push(o.h),o=s,a(t[r],e),s=e;var i=o.pop();for(i=s.h+s.g.length()-i;127<i;)o.push(127&i|128),i>>>=7,s.h++;o.push(i),s.h++}});function ct(){Me.apply(this,arguments)}if(f(ct,Me),me){var dt={};Object.defineProperties(ct,(dt[Symbol.hasInstance]=ge(Object[Symbol.hasInstance]),dt))}function pt(e){ct.call(this,e)}function ht(){return[1,it,2,ot,3,lt,4,lt]}function ft(e){ct.call(this,e,-1,gt)}function mt(){return[1,ut,pt,ht]}f(pt,ct),f(ft,ct),ft.prototype.addClassification=function(e,t){return Se(this,1,pt,e,t),this};var gt=[1];function yt(e){ct.call(this,e)}function vt(){return[1,ot,2,ot,3,ot,4,ot,5,ot]}function bt(e){ct.call(this,e,-1,kt)}function wt(){return[1,ut,yt,vt]}f(yt,ct),f(bt,ct);var kt=[1];function St(e){ct.call(this,e)}function xt(){return[1,ot,2,ot,3,ot,4,ot,5,ot,6,st]}f(St,ct);var It=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],_t=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Et=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Tt=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Nt=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Ct=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],At=[].concat(l(It),l(_t),l(Et),l(Tt),l(Nt),l(Ct));function Mt(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ot(e){return ke(e,pt,1).map(function(e){return{index:xe(e,1),ga:we(e,2),label:null!=ye(e,3)?Ie(e,3):void 0,displayName:null!=ye(e,4)?Ie(e,4):void 0}})}function Rt(e){return{x:we(e,1),y:we(e,2),z:we(e,3),visibility:null!=ye(e,4)?we(e,4):void 0}}function Ft(e,t){this.h=e,this.g=t,this.l=0}function Dt(e,t,n){return function(e,t){var n=e.g;if(void 0===e.o){var r=Mt(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),a=Mt(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,a),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=e.o=o,n.useProgram(r),a=n.getUniformLocation(r,"sampler0"),e.j={K:n.getAttribLocation(r,"aVertex"),J:n.getAttribLocation(r,"aTex"),ma:a},e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.j.K),n.vertexAttribPointer(e.j.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.J),n.vertexAttribPointer(e.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(a,0)}r=e.j,n.useProgram(e.o),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.K),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(r.K,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.J,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.K),n.disableVertexAttribArray(r.J),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(e,t),"function"===typeof e.g.canvas.transferToImageBitmap?Promise.resolve(e.g.canvas.transferToImageBitmap()):n?Promise.resolve(e.g.canvas):"function"===typeof createImageBitmap?createImageBitmap(e.g.canvas):(void 0===e.i&&(e.i=document.createElement("canvas")),new Promise(function(t){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),t(e.i)}))}function Pt(e){this.g=e}var $t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Lt(e,t){return t+e}function zt(e,t){window[e]=t}function Wt(e){if(this.g=e,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=e&&e.locateFile||Lt,"object"===typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"===typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=t,e.options)for(var n=(t=i(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var r=e.options[n].default;void 0!==r&&(this.j[n]="function"===typeof r?r():r)}}function Bt(e){var t,n,r,a,o,s,i,u,c,d,p;return x(function(h){switch(h.g){case 1:return e.Z?(t=void 0===e.g.files?[]:"function"===typeof e.g.files?e.g.files(e.j):e.g.files,v(h,x(function(e){switch(e.g){case 1:return e.o=2,v(e,WebAssembly.instantiate($t),4);case 4:e.g=3,e.o=0;break;case 2:return e.o=0,e.j=null,e.return(!1);case 3:return e.return(!0)}}),2)):h.return();case 2:if(n=h.h,"object"===typeof window)return zt("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),zt("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),s=t.filter(function(e){return void 0!==e.data}),i=t.filter(function(e){return void 0===e.data}),u=Promise.all(s.map(function(t){var n=Ut(e,t.url);if(void 0!==t.path){var r=t.path;n=n.then(function(t){return e.overrideFile(r,t),Promise.resolve(t)})}return n})),c=Promise.all(i.map(function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise(function(e){t.addEventListener("load",function(){e()},!1),t.addEventListener("error",function(){e()},!1),document.body.appendChild(t)})}(e.locateFile(t.url,e.$)):Promise.resolve()})).then(function(){var t,n,r;return x(function(a){if(1==a.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=e,v(a,t(n),2);r.h=a.h,a.g=0})}),d=x(function(t){return e.g.graph&&e.g.graph.url?t=v(t,Ut(e,e.g.graph.url),0):(t.g=0,t=void 0),t}),v(h,Promise.all([c,u,d]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=t.filter(function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n}).map(function(t){return e.locateFile(t.url,e.$)}),importScripts.apply(null,l(r)),a=e,v(h,createMediapipeSolutionsWasm(Module),6);case 6:a.h=h.h,e.l=new OffscreenCanvas(1,1),e.h.canvas=e.l,o=e.h.GL.createContext(e.l,{antialias:!1,alpha:!1,ja:"undefined"!==typeof WebGL2RenderingContext?2:1}),e.h.GL.makeContextCurrent(o),h.g=4;break;case 7:if(e.l=document.createElement("canvas"),!(p=e.l.getContext("webgl2",{}))&&!(p=e.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),h.return();e.G=p,e.h.canvas=e.l,e.h.createContext(e.l,!0,!0,{});case 4:e.i=new e.h.SolutionWasm,e.Z=!1,h.g=0}})}function Ut(e,t){var n,r;return x(function(a){return t in e.H?a.return(e.H[t]):(n=e.locateFile(t,""),r=fetch(n).then(function(e){return e.arrayBuffer()}),e.H[t]=r,a.return(r))})}function jt(e,t,n){var r,a,o,s,l,u,c,d,p,h,f,m,g,y;return x(function(b){switch(b.g){case 1:if(!n)return b.return(t);for(r={},a=0,o=i(Object.keys(n)),s=o.next();!s.done;s=o.next())l=s.value,"string"!==typeof(u=n[l])&&"texture"===u.type&&void 0!==t[u.stream]&&++a;1<a&&(e.I=!1),c=i(Object.keys(n)),s=c.next();case 2:if(s.done){b.g=4;break}if(d=s.value,"string"===typeof(p=n[d]))return g=r,y=d,v(b,function(e,t,n){var r;return x(function(a){return"number"===typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?a.return(n):n instanceof e.h.Texture2dDataOut?((r=e.u[t])||(r=new Ft(e.h,e.G),e.u[t]=r),a.return(Dt(r,n,e.I))):a.return(void 0)})}(e,d,t[p]),14);if(h=t[p.stream],"detection_list"===p.type){if(h){for(var w=h.getRectList(),k=h.getLandmarksList(),S=h.getClassificationsList(),I=[],_=0;_<w.size();++_){var E=tt(w.get(_),St,xt);E={boundingBox:{xCenter:we(E,1),yCenter:we(E,2),height:we(E,3),width:we(E,4),rotation:we(E,5,0),rectId:xe(E,6)},landmarks:ke(tt(k.get(_),bt,wt),yt,1).map(Rt),V:Ot(tt(S.get(_),ft,mt))},I.push(E)}w=I}else w=[];r[d]=w,b.g=7;break}if("proto_list"===p.type){if(h){for(w=Array(h.size()),k=0;k<h.size();k++)w[k]=h.get(k);h.delete()}else w=[];r[d]=w,b.g=7;break}if(void 0===h){b.g=3;break}if("float_list"===p.type){r[d]=h,b.g=7;break}if("proto"===p.type){r[d]=h,b.g=7;break}if("texture"!==p.type)throw Error("Unknown output config type: '"+p.type+"'");return(f=e.u[d])||(f=new Ft(e.h,e.G),e.u[d]=f),v(b,Dt(f,h,e.I),13);case 13:m=b.h,r[d]=m;case 7:p.transform&&r[d]&&(r[d]=p.transform(r[d])),b.g=3;break;case 14:g[y]=b.h;case 3:s=c.next(),b.g=2;break;case 4:return b.return(r)}})}function Ht(e,t){for(var n=t.name||"$",r=[].concat(l(t.wants)),a=new e.h.StringList,o=i(t.wants),s=o.next();!s.done;s=o.next())a.push_back(s.value);o=e.h.PacketListener.implement({onResults:function(a){for(var o={},s=0;s<t.wants.length;++s)o[r[s]]=a.get(s);var i=e.listeners[n];i&&(e.D=jt(e,o,t.outs).then(function(n){n=i(n);for(var a=0;a<t.wants.length;++a){var s=o[r[a]];"object"===typeof s&&s.hasOwnProperty&&s.hasOwnProperty("delete")&&s.delete()}n&&(e.D=n)}))}}),e.i.attachMultiListener(a,o),a.delete()}function Vt(e){var t=this;e=e||{};var n={url:"face_detection_short.binarypb"},r={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Wt({locateFile:e.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:n,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"===typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(e){var a,o,s,l,u;return x(function(c){switch(c.g){case 1:a=i("short"===e?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),o=a.next();case 2:if(o.done){c.g=4;break}return s=o.value,l="third_party/mediapipe/modules/face_detection/"+s,v(c,Ut(t.g,s),5);case 5:u=c.h,t.g.overrideFile(l,u),o=a.next(),c.g=2;break;case 4:return n.url="short"===e?"face_detection_short.binarypb":"face_detection_full.binarypb",r.graphOptionXref.calculatorName="short"===e?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",c.return(!0)}})}},minDetectionConfidence:r}})}(e=Wt.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){var e=this;return x(function(t){e.i&&(e.i.reset(),e.o={},e.u={}),t.g=0})},e.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],a=[],o={},s=i(Object.keys(e)),l=s.next();!l.done;o={R:o.R,S:o.S},l=s.next()){var u=l.value;u in this.j&&this.j[u]===e[u]||(this.j[u]=e[u],void 0!==(l=t[u])&&(l.onChange&&(o.R=l.onChange,o.S=e[u],r.push(function(e){return function(){return x(function(t){if(1==t.g)return v(t,e.R(e.S),2);!0===t.h&&(n.s=!0),t.g=0})}}(o))),l.graphOptionXref&&(u={valueNumber:1===l.type?e[u]:0,valueBoolean:0===l.type&&e[u],valueString:2===l.type?e[u]:""},l=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),l.graphOptionXref),u),a.push(l))))}0===r.length&&0===a.length||(this.s=!0,this.B=(void 0===this.B?[]:this.B).concat(a),this.A=(void 0===this.A?[]:this.A).concat(r))}},e.initialize=function(){var e=this;return x(function(t){return 1==t.g?v(t,Bt(e),2):3!=t.g?v(t,function(e){var t,n,r,a,o,s,l,u;return x(function(c){if(1==c.g)return e.g.graph&&e.g.graph.url&&e.Y===e.g.graph.url?c.return():(e.s=!0,e.g.graph&&e.g.graph.url?(e.Y=e.g.graph.url,v(c,Ut(e,e.g.graph.url),3)):void(c.g=2));for(2!=c.g&&(t=c.h,e.i.loadGraph(t)),n=i(Object.keys(e.C)),r=n.next();!r.done;r=n.next())a=r.value,e.i.overrideFile(a,e.C[a]);if(e.C={},e.g.listeners)for(o=i(e.g.listeners),s=o.next();!s.done;s=o.next())l=s.value,Ht(e,l);u=e.j,e.j={},e.setOptions(u),c.g=0})}(e),3):v(t,function(e){var t,n,r,a,o,s;return x(function(l){switch(l.g){case 1:if(!e.s)return l.return();if(!e.A){l.g=2;break}t=i(e.A),n=t.next();case 3:if(n.done){l.g=5;break}return v(l,(0,n.value)(),4);case 4:n=t.next(),l.g=3;break;case 5:e.A=void 0;case 2:if(e.B){for(r=new e.h.GraphOptionChangeRequestList,a=i(e.B),o=a.next();!o.done;o=a.next())s=o.value,r.push_back(s);e.i.changeOptions(r),r.delete(),e.B=void 0}e.s=!1,l.g=0}})}(e),0)})},e.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.C[e]=t},e.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},e.send=function(e,t){var n,r,a,o,s,l,u,c,d,p=this;return x(function(h){switch(h.g){case 1:return p.g.inputs?(n=1e3*(void 0===t||null===t?performance.now():t),v(h,p.D,2)):h.return();case 2:return v(h,p.initialize(),3);case 3:for(r=new p.h.PacketDataList,a=i(Object.keys(e)),o=a.next();!o.done;o=a.next())if(s=o.value,l=p.g.inputs[s]){e:{var f=e[s];switch(l.type){case"video":var m=p.o[l.stream];if(m||(m=new Ft(p.h,p.G),p.o[l.stream]=m),0===m.l&&(m.l=m.h.createTexture()),"undefined"!==typeof HTMLVideoElement&&f instanceof HTMLVideoElement)var g=f.videoWidth,y=f.videoHeight;else"undefined"!==typeof HTMLImageElement&&f instanceof HTMLImageElement?(g=f.naturalWidth,y=f.naturalHeight):(g=f.width,y=f.height);y={glName:m.l,width:g,height:y},(g=m.g).canvas.width=y.width,g.canvas.height=y.height,g.activeTexture(g.TEXTURE0),m.h.bindTexture2d(m.l),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,f),m.h.bindTexture2d(0),m=y;break e;case"detections":for((m=p.o[l.stream])||(m=new Pt(p.h),p.o[l.stream]=m),m.data||(m.data=new m.g.DetectionListData),m.data.reset(f.length),y=0;y<f.length;++y){g=f[y];var b=m.data,w=b.setBoundingBox,k=y,S=g.boundingBox,x=new St;if(ve(x,1,S.xCenter),ve(x,2,S.yCenter),ve(x,3,S.height),ve(x,4,S.width),ve(x,5,S.rotation),ve(x,6,S.rectId),S=rt(x,xt),w.call(b,k,S),g.landmarks)for(b=0;b<g.landmarks.length;++b){var I=!!(x=g.landmarks[b]).visibility;k=(w=m.data).addNormalizedLandmark,S=y,x=Object.assign(Object.assign({},x),{visibility:I?x.visibility:0}),ve(I=new yt,1,x.x),ve(I,2,x.y),ve(I,3,x.z),x.visibility&&ve(I,4,x.visibility),x=rt(I,vt),k.call(w,S,x)}if(g.V)for(b=0;b<g.V.length;++b)k=(w=m.data).addClassification,S=y,x=g.V[b],ve(I=new pt,2,x.ga),x.index&&ve(I,1,x.index),x.label&&ve(I,3,x.label),x.displayName&&ve(I,4,x.displayName),x=rt(I,ht),k.call(w,S,x)}m=m.data;break e;default:m={}}}switch(u=m,c=l.stream,l.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},u),{stream:c,timestamp:n}));break;case"detections":(d=u).stream=c,d.timestamp=n,r.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return p.i.send(r),v(h,p.D,4);case 4:r.delete(),h.g=0}})},e.onResults=function(e,t){this.listeners[t||"$"]=e},E("Solution",Wt),E("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=Vt.prototype).close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(e){this.g.onResults(e)},e.initialize=function(){var e=this;return x(function(t){return v(t,e.g.initialize(),0)})},e.reset=function(){this.g.reset()},e.send=function(e){var t=this;return x(function(n){return v(n,t.g.send(e),0)})},e.setOptions=function(e){this.g.setOptions(e)},E("FaceDetection",Vt),E("FACEDETECTION_LIPS",It),E("FACEDETECTION_LEFT_EYE",_t),E("FACEDETECTION_LEFT_EYEBROW",Et),E("FACEDETECTION_RIGHT_EYE",Tt),E("FACEDETECTION_RIGHT_EYEBROW",Nt),E("FACEDETECTION_FACE_OVAL",Ct),E("FACEDETECTION_CONTOURS",At),E("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),E("VERSION","0.4.1646425229")}).call(this)},5817:()=>{},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var i=2*(r+1)-1,l=e[i],u=i+1,c=e[u];if(0>o(l,n))u<a&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[i]=n,r=i);else{if(!(u<a&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var u=[],c=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function S(e){if(g=!1,k(e),!m)if(null!==r(u))m=!0,I||(I=!0,x());else{var t=r(c);null!==t&&O(S,t.startTime-e)}}var x,I=!1,_=-1,E=5,T=-1;function N(){return!!y||!(t.unstable_now()-T<E)}function C(){if(y=!1,I){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(_),_=-1),f=!0;var o=h;try{t:{for(k(e),p=r(u);null!==p&&!(p.expirationTime>e&&N());){var s=p.callback;if("function"===typeof s){p.callback=null,h=p.priorityLevel;var i=s(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){p.callback=i,k(e),n=!0;break t}p===r(u)&&a(u),k(e)}else a(u);p=r(u)}if(null!==p)n=!0;else{var l=r(c);null!==l&&O(S,l.startTime-e),n=!1}}break e}finally{p=null,h=o,f=!1}n=void 0}}finally{n?x():I=!1}}}if("function"===typeof w)x=function(){w(C)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,M=A.port2;A.port1.onmessage=C,x=function(){M.postMessage(null)}}else x=function(){v(C,0)};function O(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(b(_),_=-1):g=!0,O(S,o-s))):(e.sortIndex=i,n(u,e),m||f||(m=!0,I||(I=!0,x()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5967:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6288:function(e,t,n){var r;!function(e,a){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,s,i=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,o=-32;o<l;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(s=s+1640531527|0,a=0==(n=i[127&o]^=r+s)?a+1:0);for(a>=128&&(i[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=i[a+34&127],n=i[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,i[a]=r^n;e.w=s,e.X=i,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.xor4096=i}(0,e=n.nmd(e),n.amdD)},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},6672:(e,t,n)=>{"use strict";var r=n(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},i=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},6882:(e,t,n)=>{var r=n(9421),a=n(4971),o=n(7676),s=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(o(a(t).replace(s,"")),e,"")}}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),o=n(6095),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?a(e):o(e)}},7004:(e,t,n)=>{"use strict";var r=n(8853),a=n(5043),o=n(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),k=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var M=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===M?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case x:return"Suspense";case I:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case k:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var R=Array.isArray,F=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},$=[],L=-1;function z(e){return{current:e}}function W(e){0>L||(e.current=$[L],$[L]=null,L--)}function B(e,t){L++,$[L]=e.current,e.current=t}var U=z(null),j=z(null),H=z(null),V=z(null);function q(e,t){switch(B(H,t),B(j,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(U),B(U,e)}function G(){W(U),W(j),W(H)}function K(e){null!==e.memoizedState&&B(V,e);var t=U.current,n=od(t,e.type);t!==n&&(B(j,e),B(U,n))}function Y(e){j.current===e&&(W(U),W(j)),V.current===e&&(W(V),Kd._currentValue=P)}var Q=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,se=r.unstable_LowPriority,ie=r.unstable_IdlePriority,le=r.log,ue=r.unstable_setDisableYieldValue,ce=null,de=null;function pe(e){if("function"===typeof le&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var i=134217727&r;return 0!==i?0!==(r=i&~o)?a=ve(r):0!==(s&=i)?a=ve(s):n||0!==(n=i&~e)&&(a=ve(n)):0!==(i=r&~o)?a=ve(i):0!==s?a=ve(s):n||0!==(n=r&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&o)&&((o=a&-a)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:a}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function xe(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-he(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-he(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ce(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:up(e.type)}var Me=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Me,Re="__reactProps$"+Me,Fe="__reactContainer$"+Me,De="__reactEvents$"+Me,Pe="__reactListeners$"+Me,$e="__reactHandles$"+Me,Le="__reactResources$"+Me,ze="__reactMarker$"+Me;function We(e){delete e[Oe],delete e[Re],delete e[De],delete e[Pe],delete e[$e]}function Be(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fe]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Oe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Oe]||e[Fe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[Le];return t||(t=e[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[ze]=!0}var qe=new Set,Ge={};function Ke(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ge[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Qe,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(a=t,Q.call(et,a)||!Q.call(Ze,a)&&(Je.test(a)?et[a]=!0:(Ze[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Qe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Xe}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&r&&"string"===typeof i.stack)return[i.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],i=o[1];if(s&&i){var l=s.split("\n"),u=i.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===u.length)for(r=l.length-1,a=u.length-1;1<=r&&0<=a&&l[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==u[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==u[a]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=a);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function it(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=it(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,a,o,s,i){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ut(t)):null!=n?vt(e,s,ut(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=o&&(e.defaultChecked=!!o),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ut(i):e.removeAttribute("name")}function yt(e,t,n,r,a,o,s,i){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(R(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&It(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&It(e,o,t[o])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Rt=null;function Ft(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Re]||null;if(!a)throw Error(s(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Pt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Ot||null!==Rt)&&(Bu(),Ot&&(t=Ot,e=Rt,Rt=Ot=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function $t(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Lt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Lt)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(Rp){zt=!1}var Bt=null,Ut=null,jt=null;function Ht(){if(jt)return jt;var e,t,n=Ut,r=n.length,a="value"in Bt?Bt.value:Bt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[o-t];t++);return jt=a.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Gt(){return!1}function Kt(e){function t(t,n,r,a,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?qt:Gt,this.isPropagationStopped=Gt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Yt,Qt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Jt),en=p({},Jt,{view:0,detail:0}),tn=Kt(en),nn=p({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,Qt=e.screenY-Xt.screenY):Qt=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),rn=Kt(nn),an=Kt(p({},nn,{dataTransfer:0})),on=Kt(p({},en,{relatedTarget:0})),sn=Kt(p({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Kt(p({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Kt(p({},Jt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function fn(){return hn}var mn=Kt(p({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Kt(p({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Kt(p({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Kt(p({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Kt(p({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Kt(p({},Jt,{newState:0,oldState:0})),kn=[9,13,27,32],Sn=Lt&&"CompositionEvent"in window,xn=null;Lt&&"documentMode"in document&&(xn=document.documentMode);var In=Lt&&"TextEvent"in window&&!xn,_n=Lt&&(!Sn||xn&&8<xn&&11>=xn),En=String.fromCharCode(32),Tn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Rn(e,t,n,r){Ot?Rt?Rt.push(r):Rt=[r]:Ot=r,0<(t=Hc(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,Dn=null;function Pn(e){Pc(e,0)}function $n(e){if(pt(je(e)))return e}function Ln(e,t){if("change"===e)return t}var zn=!1;if(Lt){var Wn;if(Lt){var Bn="oninput"in document;if(!Bn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Bn="function"===typeof Un.oninput}Wn=Bn}else Wn=!1;zn=Wn&&(!document.documentMode||9<document.documentMode)}function jn(){Fn&&(Fn.detachEvent("onpropertychange",Hn),Dn=Fn=null)}function Hn(e){if("value"===e.propertyName&&$n(Dn)){var t=[];Rn(t,Dn,e,Mt(e)),Pt(Pn,t)}}function Vn(e,t,n){"focusin"===e?(jn(),Dn=n,(Fn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&jn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Dn)}function Gn(e,t){if("click"===e)return $n(t)}function Kn(e,t){if("input"===e||"change"===e)return $n(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Q.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Lt&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,or=null,sr=!1;function ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Qn(or,r)||(or=r,0<(r=Hc(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},cr={},dr={};function pr(e){if(cr[e])return cr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return cr[e]=n[t];return e}Lt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var hr=pr("animationend"),fr=pr("animationiteration"),mr=pr("animationstart"),gr=pr("transitionrun"),yr=pr("transitionstart"),vr=pr("transitioncancel"),br=pr("transitionend"),wr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),Ke(t,[e])}kr.push("scrollEnd");var xr=new WeakMap;function Ir(e,t){if("object"===typeof e&&null!==e){var n=xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},xr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var _r=[],Er=0,Tr=0;function Nr(){for(var e=Er,t=Tr=Er=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var a=_r[t];_r[t++]=null;var o=_r[t];if(_r[t++]=null,null!==r&&null!==a){var s=r.pending;null===s?a.next=a:(a.next=s.next,s.next=a),r.pending=a}0!==o&&Or(n,a,o)}}function Cr(e,t,n,r){_r[Er++]=e,_r[Er++]=t,_r[Er++]=n,_r[Er++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Cr(e,t,n,r),Rr(e)}function Mr(e,t){return Cr(e,null,null,t),Rr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(a=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,a&&null!==t&&(a=31-he(n),null===(r=(e=o.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),o):null}function Rr(e){if(50<Ou)throw Ou=0,Ru=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(e,t,n,r){return new Dr(e,t,n,r)}function $r(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lr(e,t){var n=e.alternate;return null===n?((n=Pr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,r,a,o){var i=0;if(r=e,"function"===typeof e)$r(e)&&(i=1);else if("string"===typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Pr(31,n,t,a)).elementType=T,e.lanes=o,e;case g:return Br(n.children,a,o,t);case y:i=8,a|=24;break;case v:return(e=Pr(12,n,t,2|a)).elementType=v,e.lanes=o,e;case x:return(e=Pr(13,n,t,a)).elementType=x,e.lanes=o,e;case I:return(e=Pr(19,n,t,a)).elementType=I,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case k:i=10;break e;case w:i=9;break e;case S:i=11;break e;case _:i=14;break e;case E:i=16,r=null;break e}i=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Pr(i,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=Pr(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Pr(6,e,null,t)).lanes=n,e}function jr(e,t,n){return(t=Pr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Vr=0,qr=null,Gr=0,Kr=[],Yr=0,Qr=null,Xr=1,Jr="";function Zr(e,t){Hr[Vr++]=Gr,Hr[Vr++]=qr,qr=e,Gr=t}function ea(e,t,n){Kr[Yr++]=Xr,Kr[Yr++]=Jr,Kr[Yr++]=Qr,Qr=e;var r=Xr;e=Jr;var a=32-he(r)-1;r&=~(1<<a),n+=1;var o=32-he(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Xr=1<<32-he(t)+a|n<<a|r,Jr=o+e}else Xr=1<<o|n<<a|r,Jr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===qr;)qr=Hr[--Vr],Hr[Vr]=null,Gr=Hr[--Vr],Hr[Vr]=null;for(;e===Qr;)Qr=Kr[--Yr],Kr[Yr]=null,Jr=Kr[--Yr],Kr[Yr]=null,Xr=Kr[--Yr],Kr[Yr]=null}var ra=null,aa=null,oa=!1,sa=null,ia=!1,la=Error(s(519));function ua(e){throw ma(Ir(Error(s(418,"")),e)),la}function ca(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Oe]=e,t[Re]=r,n){case"dialog":$c("cancel",t),$c("close",t);break;case"iframe":case"object":case"embed":$c("load",t);break;case"video":case"audio":for(n=0;n<Fc.length;n++)$c(Fc[n],t);break;case"source":$c("error",t);break;case"img":case"image":case"link":$c("error",t),$c("load",t);break;case"details":$c("toggle",t);break;case"input":$c("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":$c("invalid",t);break;case"textarea":$c("invalid",t),kt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Qc(t.textContent,n)?(null!=r.popover&&($c("beforetoggle",t),$c("toggle",t)),null!=r.onScroll&&$c("scroll",t),null!=r.onScrollEnd&&$c("scrollend",t),null!=r.onClick&&(t.onclick=Xc),t=!0):t=!1,t||ua(e)}function da(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(ia=!1);case 27:case 3:return void(ia=!0);default:ra=ra.return}}function pa(e){if(e!==ra)return!1;if(!oa)return da(e),oa=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&aa&&ua(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,hd(e.type)?(e=vd,vd=null,aa=e):aa=n):aa=ra?yd(e.stateNode.nextSibling):null;return!0}function ha(){aa=ra=null,oa=!1}function fa(){var e=sa;return null!==e&&(null===bu?bu=e:bu.push.apply(bu,e),sa=null),e}function ma(e){null===sa?sa=[e]:sa.push(e)}var ga=z(null),ya=null,va=null;function ba(e,t,n){B(ga,t._currentValue),t._currentValue=n}function wa(e){e._currentValue=ga.current,W(ga)}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var i=a.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=a;for(var u=0;u<t.length;u++)if(l.context===t[u]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ka(o.return,n,e),r||(i=null);break e}o=l.next}}else if(18===a.tag){if(null===(i=a.return))throw Error(s(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),ka(i,n,e),i=null}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===e){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}}function xa(e,t,n,r){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(0!==(524288&a.flags))o=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var i=a.alternate;if(null===i)throw Error(s(387));if(null!==(i=i.memoizedProps)){var l=a.type;Yn(a.pendingProps.value,i.value)||(null!==e?e.push(l):e=[l])}}else if(a===V.current){if(null===(i=a.alternate))throw Error(s(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Kd):e=[Kd])}a=a.return}null!==e&&Sa(t,e,n,r),t.flags|=262144}function Ia(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _a(e){ya=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ea(e){return Na(ya,e)}function Ta(e,t){return null===ya&&_a(e),Na(e,t)}function Na(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(s(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Ca="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Aa=r.unstable_scheduleCallback,Ma=r.unstable_NormalPriority,Oa={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ra(){return{controller:new Ca,data:new Map,refCount:0}}function Fa(e){e.refCount--,0===e.refCount&&Aa(Ma,function(){e.controller.abort()})}var Da=null,Pa=0,$a=0,La=null;function za(){if(0===--Pa&&null!==Da){null!==La&&(La.status="fulfilled");var e=Da;Da=null,$a=0,La=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wa=F.S;F.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Da){var n=Da=[];Pa=0,$a=Cc(),La={status:"pending",value:void 0,then:function(e){n.push(e)}}}Pa++,t.then(za,za)}(0,t),null!==Wa&&Wa(e,t)};var Ba=z(null);function Ua(){var e=Ba.current;return null!==e?e:ru.pooledCache}function ja(e,t){B(Ba,null===t?Ba.current:t.pool)}function Ha(){var e=Ua();return null===e?null:{parent:Oa._currentValue,pool:e}}var Va=Error(s(460)),qa=Error(s(474)),Ga=Error(s(542)),Ka={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qa(){}function Xa(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qa,Qa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qa,Qa);else{if(null!==(e=ru)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Ja=t,Va}}var Ja=null;function Za(){if(null===Ja)throw Error(s(459));var e=Ja;return Ja=null,e}function eo(e){if(e===Va||e===Ga)throw Error(s(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ao(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nu)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Rr(e),Or(e,null,n),t}return Cr(e,r,t,n),Rr(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function io(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?a=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function uo(){if(lo){if(null!==La)throw La}}function co(e,t,n,r){lo=!1;var a=e.updateQueue;to=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===i?c.firstBaseUpdate=u:i.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(s=0,c=u=l=null,i=o;;){var h=-536870913&i.lane,f=h!==i.lane;if(f?(ou&h)===h:(r&h)===h){0!==h&&h===$a&&(lo=!0),null!==c&&(c=c.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var m=e,g=i;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,d,h):m)||void 0===h)break e;d=p({},d,h);break e;case 2:to=!0}}null!==(h=i.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[h]:f.push(h))}else f={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(f=i).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null===o&&(a.shared.lanes=0),hu|=s,e.lanes=s,e.memoizedState=d}}function po(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function ho(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)po(n[e],t)}var fo=z(null),mo=z(0);function go(e,t){B(mo,e=du),B(fo,t),du=e|t.baseLanes}function yo(){B(mo,du),B(fo,fo.current)}function vo(){du=mo.current,W(fo),W(mo)}var bo=0,wo=null,ko=null,So=null,xo=!1,Io=!1,_o=!1,Eo=0,To=0,No=null,Co=0;function Ao(){throw Error(s(321))}function Mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Oo(e,t,n,r,a,o){return bo=o,wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=null===e||null===e.memoizedState?qs:Gs,_o=!1,o=n(r,a),_o=!1,Io&&(o=Fo(t,n,r,a)),Ro(e),o}function Ro(e){F.H=Vs;var t=null!==ko&&null!==ko.next;if(bo=0,So=ko=wo=null,xo=!1,To=0,No=null,t)throw Error(s(300));null===e||Ti||null!==(e=e.dependencies)&&Ia(e)&&(Ti=!0)}function Fo(e,t,n,r){wo=e;var a=0;do{if(Io&&(No=null),To=0,Io=!1,25<=a)throw Error(s(301));if(a+=1,So=ko=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}F.H=Ks,o=t(n,r)}while(Io);return o}function Do(){var e=F.H,t=e.useState()[0];return t="function"===typeof t.then?Bo(t):t,e=e.useState()[0],(null!==ko?ko.memoizedState:null)!==e&&(wo.flags|=1024),t}function Po(){var e=0!==Eo;return Eo=0,e}function $o(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Lo(e){if(xo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xo=!1}bo=0,So=ko=wo=null,Io=!1,To=Eo=0,No=null}function zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===So?wo.memoizedState=So=e:So=So.next=e,So}function Wo(){if(null===ko){var e=wo.alternate;e=null!==e?e.memoizedState:null}else e=ko.next;var t=null===So?wo.memoizedState:So.next;if(null!==t)So=t,ko=e;else{if(null===e){if(null===wo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(ko=e).memoizedState,baseState:ko.baseState,baseQueue:ko.baseQueue,queue:ko.queue,next:null},null===So?wo.memoizedState=So=e:So=So.next=e}return So}function Bo(e){var t=To;return To+=1,null===No&&(No=[]),e=Xa(No,e,t),t=wo,null===(null===So?t.memoizedState:So.next)&&(t=t.alternate,F.H=null===t||null===t.memoizedState?qs:Gs),e}function Uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bo(e);if(e.$$typeof===k)return Ea(e)}throw Error(s(438,String(e)))}function jo(e){var t=null,n=wo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function Ho(e,t){return"function"===typeof t?t(e):t}function Vo(e){return qo(Wo(),ko,e)}function qo(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var l=i=null,u=null,c=t=a.next,d=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(ou&p)===p:(bo&p)===p){var h=c.revertLane;if(0===h)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===$a&&(d=!0);else{if((bo&h)===h){c=c.next,h===$a&&(d=!0);continue}p={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=p,i=o):u=u.next=p,wo.lanes|=h,hu|=h}p=c.action,_o&&n(o,p),o=c.hasEagerState?c.eagerState:n(o,p)}else h={lane:p,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,i=o):u=u.next=h,wo.lanes|=p,hu|=p;c=c.next}while(null!==c&&c!==t);if(null===u?i=o:u.next=l,!Yn(o,e.memoizedState)&&(Ti=!0,d&&null!==(n=La)))throw n;e.memoizedState=o,e.baseState=i,e.baseQueue=u,r.lastRenderedState=o}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Go(e){var t=Wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);Yn(o,t.memoizedState)||(Ti=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ko(e,t,n){var r=wo,a=Wo(),o=oa;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var i=!Yn((ko||a).memoizedState,n);if(i&&(a.memoizedState=n,Ti=!0),a=a.queue,ys(2048,8,Xo.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||null!==So&&1&So.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Qo.bind(null,r,a,n,t),null),null===ru)throw Error(s(349));o||0!==(124&bo)||Yo(r,t,n)}return n}function Yo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qo(e,t,n,r){t.value=n,t.getSnapshot=r,Jo(t)&&Zo(e)}function Xo(e,t,n){return n(function(){Jo(t)&&Zo(e)})}function Jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Zo(e){var t=Mr(e,2);null!==t&&Pu(t,e,2)}function es(e){var t=zo();if("function"===typeof e){var n=e;if(e=n(),_o){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,qo(e,ko,"function"===typeof r?r:Ho)}function ns(e,t,n,r,a){if(Us(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==F.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,rs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function rs(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var o=F.T,s={};F.T=s;try{var i=n(a,r),l=F.S;null!==l&&l(s,i),as(e,t,i)}catch(u){ss(e,t,u)}finally{F.T=o}}else try{as(e,t,o=n(a,r))}catch(c){ss(e,t,c)}}function as(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){os(e,t,n)},function(n){return ss(e,t,n)}):os(e,t,n)}function os(e,t,n){t.status="fulfilled",t.value=n,is(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,is(t),t=t.next}while(t!==r)}e.action=null}function is(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function us(e,t){if(oa){var n=ru.formState;if(null!==n){e:{var r=wo;if(oa){if(aa){t:{for(var a=aa,o=ia;8!==a.nodeType;){if(!o){a=null;break t}if(null===(a=yd(a.nextSibling))){a=null;break t}}a="F!"===(o=a.data)||"F"===o?a:null}if(a){aa=yd(a.nextSibling),r="F!"===a.data;break e}}ua(r)}r=!1}r&&(t=n[0])}}return(n=zo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=zs.bind(null,wo,r),r.dispatch=n,r=es(!1),o=Bs.bind(null,wo,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=zo()).queue=a,n=ns.bind(null,wo,a,o,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return ds(Wo(),ko,e)}function ds(e,t,n){if(t=qo(e,t,ls)[0],e=Vo(Ho)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bo(t)}catch(s){if(s===Va)throw Ga;throw s}else r=t;var a=(t=Wo()).queue,o=a.dispatch;return n!==t.memoizedState&&(wo.flags|=2048,fs(9,{destroy:void 0,resource:void 0},ps.bind(null,a,n),null)),[r,o,e]}function ps(e,t){e.action=t}function hs(e){var t=Wo(),n=ko;if(null!==n)return ds(t,n,e);Wo(),t=t.memoizedState;var r=(n=Wo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return Wo().memoizedState}function gs(e,t,n,r){var a=zo();r=void 0===r?null:r,wo.flags|=e,a.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function ys(e,t,n,r){var a=Wo();r=void 0===r?null:r;var o=a.memoizedState.inst;null!==ko&&null!==r&&Mo(r,ko.memoizedState.deps)?a.memoizedState=fs(t,o,n,r):(wo.flags|=e,a.memoizedState=fs(1|t,o,n,r))}function vs(e,t){gs(8390656,8,e,t)}function bs(e,t){ys(2048,8,e,t)}function ws(e,t){return ys(4,2,e,t)}function ks(e,t){return ys(4,4,e,t)}function Ss(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function xs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ys(4,4,Ss.bind(null,t,e),n)}function Is(){}function _s(e,t){var n=Wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Es(e,t){var n=Wo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Mo(t,r[1]))return r[0];if(r=e(),_o){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r}function Ts(e,t,n){return void 0===n||0!==(1073741824&bo)?e.memoizedState=t:(e.memoizedState=n,e=Du(),wo.lanes|=e,hu|=e,n)}function Ns(e,t,n,r){return Yn(n,t)?n:null!==fo.current?(e=Ts(e,n,r),Yn(e,t)||(Ti=!0),e):0===(42&bo)?(Ti=!0,e.memoizedState=n):(e=Du(),wo.lanes|=e,hu|=e,t)}function Cs(e,t,n,r,a){var o=D.p;D.p=0!==o&&8>o?o:8;var s=F.T,i={};F.T=i,Bs(e,!1,t,n);try{var l=a(),u=F.S;if(null!==u&&u(i,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ws(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Fu());else Ws(e,t,r,Fu())}catch(c){Ws(e,t,{then:function(){},status:"rejected",reason:c},Fu())}finally{D.p=o,F.T=s}}function As(){}function Ms(e,t,n,r){if(5!==e.tag)throw Error(s(476));var a=Os(e).queue;Cs(e,a,t,P,null===n?As:function(){return Rs(e),n(r)})}function Os(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:P},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Rs(e){Ws(e,Os(e).next.queue,{},Fu())}function Fs(){return Ea(Kd)}function Ds(){return Wo().memoizedState}function Ps(){return Wo().memoizedState}function $s(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Fu(),r=oo(t,e=ao(n),n);return null!==r&&(Pu(r,t,n),so(r,t,n)),t={cache:Ra()},void(e.payload=t)}t=t.return}}function Ls(e,t,n){var r=Fu();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Us(e)?js(t,n):null!==(n=Ar(e,t,n,r))&&(Pu(n,e,r),Hs(n,t,r))}function zs(e,t,n){Ws(e,t,n,Fu())}function Ws(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Us(e))js(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,Yn(i,s))return Cr(e,t,a,0),null===ru&&Nr(),!1}catch(l){}if(null!==(n=Ar(e,t,a,r)))return Pu(n,e,r),Hs(n,t,r),!0}return!1}function Bs(e,t,n,r){if(r={lane:2,revertLane:Cc(),action:r,hasEagerState:!1,eagerState:null,next:null},Us(e)){if(t)throw Error(s(479))}else null!==(t=Ar(e,n,r,2))&&Pu(t,e,2)}function Us(e){var t=e.alternate;return e===wo||null!==t&&t===wo}function js(e,t){Io=xo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Vs={readContext:Ea,use:Uo,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useLayoutEffect:Ao,useInsertionEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useSyncExternalStore:Ao,useId:Ao,useHostTransitionStatus:Ao,useFormState:Ao,useActionState:Ao,useOptimistic:Ao,useMemoCache:Ao,useCacheRefresh:Ao},qs={readContext:Ea,use:Uo,useCallback:function(e,t){return zo().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4194308,4,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=zo();t=void 0===t?null:t;var r=e();if(_o){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=zo();if(void 0!==n){var a=n(t);if(_o){pe(!0);try{n(t)}finally{pe(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Ls.bind(null,wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zo().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=zs.bind(null,wo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Is,useDeferredValue:function(e,t){return Ts(zo(),e,t)},useTransition:function(){var e=es(!1);return e=Cs.bind(null,wo,e.queue,!0,!1),zo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wo,a=zo();if(oa){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===ru)throw Error(s(349));0!==(124&ou)||Yo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,vs(Xo.bind(null,r,o,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Qo.bind(null,r,o,n,t),null),n},useId:function(){var e=zo(),t=ru.identifierPrefix;if(oa){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-he(Xr)-1)).toString(32)+n),0<(n=Eo++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Co++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Fs,useFormState:us,useActionState:us,useOptimistic:function(e){var t=zo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bs.bind(null,wo,!0,n),n.dispatch=t,[e,t]},useMemoCache:jo,useCacheRefresh:function(){return zo().memoizedState=$s.bind(null,wo)}},Gs={readContext:Ea,use:Uo,useCallback:_s,useContext:Ea,useEffect:bs,useImperativeHandle:xs,useInsertionEffect:ws,useLayoutEffect:ks,useMemo:Es,useReducer:Vo,useRef:ms,useState:function(){return Vo(Ho)},useDebugValue:Is,useDeferredValue:function(e,t){return Ns(Wo(),ko.memoizedState,e,t)},useTransition:function(){var e=Vo(Ho)[0],t=Wo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Ko,useId:Ds,useHostTransitionStatus:Fs,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return ts(Wo(),0,e,t)},useMemoCache:jo,useCacheRefresh:Ps},Ks={readContext:Ea,use:Uo,useCallback:_s,useContext:Ea,useEffect:bs,useImperativeHandle:xs,useInsertionEffect:ws,useLayoutEffect:ks,useMemo:Es,useReducer:Go,useRef:ms,useState:function(){return Go(Ho)},useDebugValue:Is,useDeferredValue:function(e,t){var n=Wo();return null===ko?Ts(n,e,t):Ns(n,ko.memoizedState,e,t)},useTransition:function(){var e=Go(Ho)[0],t=Wo().memoizedState;return["boolean"===typeof e?e:Bo(e),t]},useSyncExternalStore:Ko,useId:Ds,useHostTransitionStatus:Fs,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=Wo();return null!==ko?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:jo,useCacheRefresh:Ps},Ys=null,Qs=0;function Xs(e){var t=Qs;return Qs+=1,null===Ys&&(Ys=[]),Xa(Ys,e,t)}function Js(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===h)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ei(e){return(0,e._init)(e._payload)}function ti(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Lr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&ei(o)===t.type)?(Js(t=a(t,n.props),n),t.return=e,t):(Js(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Br(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Js(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=jr(t,e.mode,n)).return=e,t;case E:return p(e,t=(0,t._init)(t._payload),n)}if(R(t)||A(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,Xs(t),n);if(t.$$typeof===k)return p(e,Ta(e,t),n);Zs(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===a?u(e,t,n,r):null;case m:return n.key===a?c(e,t,n,r):null;case E:return h(e,t,n=(a=n._init)(n._payload),r)}if(R(n)||A(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,Xs(n),r);if(n.$$typeof===k)return h(e,t,Ta(e,n),r);Zs(e,n)}return null}function y(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case E:return y(e,t,n,r=(0,r._init)(r._payload),a)}if(R(r)||A(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return y(e,t,n,Xs(r),a);if(r.$$typeof===k)return y(e,t,n,Ta(t,r),a);Zs(t,r)}return null}function v(l,u,c,d){if("object"===typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case f:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===g){if(7===u.tag){n(l,u.sibling),(d=a(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&ei(b)===u.type){n(l,u.sibling),Js(d=a(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===g?((d=Br(c.props.children,l.mode,d,c.key)).return=l,l=d):(Js(d=Wr(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return i(l);case m:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=a(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=jr(c,l.mode,d)).return=l,l=d}return i(l);case E:return v(l,u,c=(b=c._init)(c._payload),d)}if(R(c))return function(a,s,i,l){for(var u=null,c=null,d=s,f=s=0,m=null;null!==d&&f<i.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var g=h(a,d,i[f],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),s=o(g,s,f),null===c?u=g:c.sibling=g,c=g,d=m}if(f===i.length)return n(a,d),oa&&Zr(a,f),u;if(null===d){for(;f<i.length;f++)null!==(d=p(a,i[f],l))&&(s=o(d,s,f),null===c?u=d:c.sibling=d,c=d);return oa&&Zr(a,f),u}for(d=r(d);f<i.length;f++)null!==(m=y(d,a,f,i[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),s=o(m,s,f),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach(function(e){return t(a,e)}),oa&&Zr(a,f),u}(l,u,c,d);if(A(c)){if("function"!==typeof(b=A(c)))throw Error(s(150));return function(a,i,l,u){if(null==l)throw Error(s(151));for(var c=null,d=null,f=i,m=i=0,g=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var b=h(a,f,v.value,u);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(a,f),i=o(b,i,m),null===d?c=b:d.sibling=b,d=b,f=g}if(v.done)return n(a,f),oa&&Zr(a,m),c;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=p(a,v.value,u))&&(i=o(v,i,m),null===d?c=v:d.sibling=v,d=v);return oa&&Zr(a,m),c}for(f=r(f);!v.done;m++,v=l.next())null!==(v=y(f,a,m,v.value,u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),i=o(v,i,m),null===d?c=v:d.sibling=v,d=v);return e&&f.forEach(function(e){return t(a,e)}),oa&&Zr(a,m),c}(l,u,c=b.call(c),d)}if("function"===typeof c.then)return v(l,u,Xs(c),d);if(c.$$typeof===k)return v(l,u,Ta(l,c),d);Zs(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=a(u,c)).return=l,l=d):(n(l,u),(d=Ur(c,l.mode,d)).return=l,l=d),i(l)):n(l,u)}return function(e,t,n,r){try{Qs=0;var a=v(e,t,n,r);return Ys=null,a}catch(s){if(s===Va||s===Ga)throw s;var o=Pr(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}var ni=ti(!0),ri=ti(!1),ai=z(null),oi=null;function si(e){var t=e.alternate;B(ci,1&ci.current),B(ai,e),null===oi&&(null===t||null!==fo.current||null!==t.memoizedState)&&(oi=e)}function ii(e){if(22===e.tag){if(B(ci,ci.current),B(ai,e),null===oi){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oi=e)}}else li()}function li(){B(ci,ci.current),B(ai,ai.current)}function ui(e){W(ai),oi===e&&(oi=null),W(ci)}var ci=z(0);function di(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function pi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hi={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fu(),a=ao(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=oo(e,a,r))&&(Pu(t,e,r),so(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fu(),a=ao(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=oo(e,a,r))&&(Pu(t,e,r),so(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fu(),r=ao(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Pu(t,e,n),so(t,e,n))}};function fi(e,t,n,r,a,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(a,o))}function mi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hi.enqueueReplaceState(t,t.state,null)}function gi(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=p({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var yi="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vi(e){yi(e)}function bi(e){console.error(e)}function wi(e){yi(e)}function ki(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Si(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function xi(e,t,n){return(n=ao(n)).tag=3,n.payload={element:null},n.callback=function(){ki(e,t)},n}function Ii(e){return(e=ao(e)).tag=3,e}function _i(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var o=r.value;e.payload=function(){return a(o)},e.callback=function(){Si(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Si(t,n,r),"function"!==typeof a&&(null===Iu?Iu=new Set([this]):Iu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ei=Error(s(461)),Ti=!1;function Ni(e,t,n,r){t.child=null===e?ri(t,null,n,r):ni(t,e.child,n,r)}function Ci(e,t,n,r,a){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var i in r)"ref"!==i&&(s[i]=r[i])}else s=r;return _a(t),r=Oo(e,t,n,s,o,a),i=Po(),null===e||Ti?(oa&&i&&ta(t),t.flags|=1,Ni(e,t,r,a),t.child):($o(e,t,a),Yi(e,t,a))}function Ai(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||$r(o)||void 0!==o.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Mi(e,t,o,r,a))}if(o=e.child,!Qi(e,a)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(s,r)&&e.ref===t.ref)return Yi(e,t,a)}return t.flags|=1,(e=Lr(o,r)).ref=t.ref,e.return=t,t.child=e}function Mi(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(Qn(o,r)&&e.ref===t.ref){if(Ti=!1,t.pendingProps=r=o,!Qi(e,a))return t.lanes=e.lanes,Yi(e,t,a);0!==(131072&e.flags)&&(Ti=!0)}}return Di(e,t,n,r,a)}function Oi(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(a=t.child=e.child,o=0;null!==a;)o=o|a.lanes|a.childLanes,a=a.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Ri(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ri(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&ja(0,null!==o?o.cachePool:null),null!==o?go(t,o):yo(),ii(t)}else null!==o?(ja(0,o.cachePool),go(t,o),li(),t.memoizedState=null):(null!==e&&ja(0,null),yo(),li());return Ni(e,t,a,n),t.child}function Ri(e,t,n,r){var a=Ua();return a=null===a?null:{parent:Oa._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&ja(0,null),yo(),ii(t),null!==e&&xa(e,t,r,!0),null}function Fi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Di(e,t,n,r,a){return _a(t),n=Oo(e,t,n,r,void 0,a),r=Po(),null===e||Ti?(oa&&r&&ta(t),t.flags|=1,Ni(e,t,n,a),t.child):($o(e,t,a),Yi(e,t,a))}function Pi(e,t,n,r,a,o){return _a(t),t.updateQueue=null,n=Fo(t,r,n,a),Ro(e),r=Po(),null===e||Ti?(oa&&r&&ta(t),t.flags|=1,Ni(e,t,n,o),t.child):($o(e,t,o),Yi(e,t,o))}function $i(e,t,n,r,a){if(_a(t),null===t.stateNode){var o=Fr,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ea(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=hi,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ea(s):Fr,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(pi(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&hi.enqueueReplaceState(o,o.state,null),co(t,r,o,a),uo(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var i=t.memoizedProps,l=gi(n,i);o.props=l;var u=o.context,c=n.contextType;s=Fr,"object"===typeof c&&null!==c&&(s=Ea(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,i=t.pendingProps!==i,c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i||u!==s)&&mi(t,o,r,s),to=!1;var p=t.memoizedState;o.state=p,co(t,r,o,a),uo(),u=t.memoizedState,i||p!==u||to?("function"===typeof d&&(pi(t,n,d,r),u=t.memoizedState),(l=to||fi(t,n,l,r,p,u,s))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),c=gi(n,s=t.memoizedProps),o.props=c,d=t.pendingProps,p=o.context,u=n.contextType,l=Fr,"object"===typeof u&&null!==u&&(l=Ea(u)),(u="function"===typeof(i=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||p!==l)&&mi(t,o,r,l),to=!1,p=t.memoizedState,o.state=p,co(t,r,o,a),uo();var h=t.memoizedState;s!==d||p!==h||to||null!==e&&null!==e.dependencies&&Ia(e.dependencies)?("function"===typeof i&&(pi(t,n,i,r),h=t.memoizedState),(c=to||fi(t,n,c,r,p,h,l)||null!==e&&null!==e.dependencies&&Ia(e.dependencies))?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Fi(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=ni(t,e.child,null,a),t.child=ni(t,null,n,a)):Ni(e,t,n,a),t.memoizedState=o.state,e=t.child):e=Yi(e,t,a),e}function Li(e,t,n,r){return ha(),t.flags|=256,Ni(e,t,n,r),t.child}var zi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wi(e){return{baseLanes:e,cachePool:Ha()}}function Bi(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gu),e}function Ui(e,t,n){var r,a=t.pendingProps,o=!1,i=0!==(128&t.flags);if((r=i)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ci.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oa){if(o?si(t):li(),oa){var l,u=aa;if(l=u){e:{for(l=u,u=ia;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=yd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Qr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Pr(18,null,null,0)).stateNode=u,l.return=t,t.child=l,ra=t,aa=null,l=!0):l=!1}l||ua(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return gd(u)?t.lanes=32:t.lanes=536870912,null;ui(t)}return u=a.children,a=a.fallback,o?(li(),u=Hi({mode:"hidden",children:u},o=t.mode),a=Br(a,o,n,null),u.return=t,a.return=t,u.sibling=a,t.child=u,(o=t.child).memoizedState=Wi(n),o.childLanes=Bi(e,r,n),t.memoizedState=zi,a):(si(t),ji(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(i)256&t.flags?(si(t),t.flags&=-257,t=Vi(e,t,n)):null!==t.memoizedState?(li(),t.child=e.child,t.flags|=128,t=null):(li(),o=a.fallback,u=t.mode,a=Hi({mode:"visible",children:a.children},u),(o=Br(o,u,n,null)).flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,ni(t,e.child,null,n),(a=t.child).memoizedState=Wi(n),a.childLanes=Bi(e,r,n),t.memoizedState=zi,t=o);else if(si(t),gd(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(a=Error(s(419))).stack="",a.digest=r,ma({value:a,source:null,stack:null}),t=Vi(e,t,n)}else if(Ti||xa(e,t,n,!1),r=0!==(n&e.childLanes),Ti||r){if(null!==(r=ru)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Ne(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Mr(e,a),Pu(r,e,a),Ei;"$?"===u.data||Gu(),t=Vi(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=yd(u.nextSibling),ra=t,oa=!0,sa=null,ia=!1,null!==e&&(Kr[Yr++]=Xr,Kr[Yr++]=Jr,Kr[Yr++]=Qr,Xr=e.id,Jr=e.overflow,Qr=t),(t=ji(t,a.children)).flags|=4096);return t}return o?(li(),o=a.fallback,u=t.mode,c=(l=e.child).sibling,(a=Lr(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?o=Lr(c,o):(o=Br(o,u,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,null===(u=e.child.memoizedState)?u=Wi(n):(null!==(l=u.cachePool)?(c=Oa._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Ha(),u={baseLanes:u.baseLanes|n,cachePool:l}),o.memoizedState=u,o.childLanes=Bi(e,r,n),t.memoizedState=zi,a):(si(t),e=(n=e.child).sibling,(n=Lr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ji(e,t){return(t=Hi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hi(e,t){return(e=Pr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vi(e,t,n){return ni(t,e.child,null,n),(e=ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Gi(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Ki(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Ni(e,t,r.children,n),0!==(2&(r=ci.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qi(e,n,t);else if(19===e.tag)qi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(ci,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===di(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Gi(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===di(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Gi(t,!0,n,null,o);break;case"together":Gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(xa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Lr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qi(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ia(e))}function Xi(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ti=!0;else{if(!Qi(e,n)&&0===(128&t.flags))return Ti=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),ba(0,Oa,e.memoizedState.cache),ha();break;case 27:case 5:K(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:ba(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(si(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ui(e,t,n):(si(t),null!==(e=Yi(e,t,n))?e.sibling:null);si(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(xa(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Ki(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),B(ci,ci.current),r)break;return null;case 22:case 23:return t.lanes=0,Oi(e,t,n);case 24:ba(0,Oa,e.memoizedState.cache)}return Yi(e,t,n)}(e,t,n);Ti=0!==(131072&e.flags)}else Ti=!1,oa&&0!==(1048576&t.flags)&&ea(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===S){t.tag=11,t=Ci(null,t,r,e,n);break e}if(a===_){t.tag=14,t=Ai(null,t,r,e,n);break e}}throw t=O(r)||r,Error(s(306,t,""))}$r(r)?(e=gi(r,e),t.tag=1,t=$i(null,t,r,e,n)):(t.tag=0,t=Di(null,t,r,e,n))}return t;case 0:return Di(e,t,t.type,t.pendingProps,n);case 1:return $i(e,t,r=t.type,a=gi(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,ro(e,t),co(t,r,null,n);var i=t.memoizedState;if(r=i.cache,ba(0,Oa,r),r!==o.cache&&Sa(t,[Oa],n,!0),uo(),r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Li(e,t,r,n);break e}if(r!==a){ma(a=Ir(Error(s(424)),t)),t=Li(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yd(e.firstChild),ra=t,oa=!0,sa=null,ia=!0,n=ri(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===a){t=Yi(e,t,n);break e}Ni(e,t,r,n)}t=t.child}return t;case 26:return Fi(e,t),null===e?(n=Nd(t.type,null,t.pendingProps,null))?t.memoizedState=n:oa||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Oe]=t,r[Re]=e,ed(r,n,e),Ve(r),t.stateNode=r):t.memoizedState=Nd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&oa&&(r=t.stateNode=wd(t.type,t.pendingProps,H.current),ra=t,ia=!0,a=aa,hd(t.type)?(vd=a,aa=yd(r.firstChild)):aa=a),Ni(e,t,t.pendingProps.children,n),Fi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oa&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===o)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ia))?(t.stateNode=r,ra=t,aa=yd(r.firstChild),ia=!1,a=!0):a=!1),a||ua(t)),K(t),a=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,r=o.children,sd(a,o)?r=null:null!==i&&sd(a,i)&&(t.flags|=32),null!==t.memoizedState&&(a=Oo(e,t,Do,null,null,n),Kd._currentValue=a),Fi(e,t),Ni(e,t,r,n),t.child;case 6:return null===e&&oa&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,ia))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ua(t)),null;case 13:return Ui(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ni(t,null,r,n):Ni(e,t,r,n),t.child;case 11:return Ci(e,t,t.type,t.pendingProps,n);case 7:return Ni(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ni(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ba(0,t.type,r.value),Ni(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,_a(t),r=r(a=Ea(a)),t.flags|=1,Ni(e,t,r,n),t.child;case 14:return Ai(e,t,t.type,t.pendingProps,n);case 15:return Mi(e,t,t.type,t.pendingProps,n);case 19:return Ki(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Hi(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Lr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Oi(e,t,n);case 24:return _a(t),r=Ea(Oa),null===e?(null===(a=Ua())&&(a=ru,o=Ra(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},no(t),ba(0,Oa,a)):(0!==(e.lanes&n)&&(ro(e,t),co(t,null,null,n),uo()),a=e.memoizedState,o=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ba(0,Oa,r)):(r=o.cache,ba(0,Oa,r),r!==a.cache&&Sa(t,[Oa],n,!0))),Ni(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ji(e){e.flags|=4}function Zi(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ai.current)&&((4194048&ou)===ou?null!==oi:(62914560&ou)!==ou&&0===(536870912&ou)||t!==oi))throw Ja=Ka,qa;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?xe():536870912,e.lanes|=t,yu|=t)}function tl(e,t){if(!oa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wa(Oa),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pa(t)?Ji(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fa())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Ji(t),null!==n?(nl(t),Zi(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ji(t),nl(t),Zi(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ji(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ji(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=U.current,pa(t)?ca(t):(e=wd(a,r,n),t.stateNode=e,Ji(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ji(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=U.current,pa(t))ca(t);else{switch(a=rd(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Oe]=t,e[Re]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ji(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ji(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,pa(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Qc(e.nodeValue,n)))||ua(t)}else(e=rd(e).createTextNode(r))[Oe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=pa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[Oe]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else a=fa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(ui(t),t):(ui(t),null)}if(ui(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Wc(t.stateNode.containerInfo),nl(t),null;case 10:return wa(t.type),nl(t),null;case 19:if(W(ci),null===(a=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=a.rendering))if(r)tl(a,!1);else{if(0!==pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=di(e))){for(t.flags|=128,tl(a,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return B(ci,1&ci.current|2),t.child}e=e.sibling}null!==a.tail&&te()>Su&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=di(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!oa)return nl(t),null}else 2*te()-a.renderingStartTime>Su&&536870912!==n&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=a.last)?e.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=ci.current,B(ci,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ui(t),vo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&W(Ba),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wa(Oa),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function al(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wa(Oa),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(ui(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(ci),null;case 4:return G(),null;case 10:return wa(t.type),null;case 22:case 23:return ui(t),vo(),null!==e&&W(Ba),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wa(Oa),null;default:return null}}function ol(e,t){switch(na(t),t.tag){case 3:wa(Oa),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 13:ui(t);break;case 19:W(ci);break;case 10:wa(t.type);break;case 22:case 23:ui(t),vo(),null!==e&&W(Ba);break;case 24:wa(Oa)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==a)}}catch(i){cc(t,t.return,i)}}function il(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var o=a.next;r=o;do{if((r.tag&e)===e){var s=r.inst,i=s.destroy;if(void 0!==i){s.destroy=void 0,a=t;var l=n,u=i;try{u()}catch(c){cc(a,l,c)}}}r=r.next}while(r!==o)}}catch(c){cc(t,t.return,c)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ho(t,n)}catch(r){cc(e,e.return,r)}}}function ul(e,t,n){n.props=gi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){cc(e,t,r)}}function cl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){cc(e,t,a)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){cc(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){cc(e,t,o)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){cc(e,e.return,a)}}function hl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,i=null,l=null,u=null,c=null,d=null;for(f in n){var p=n[f];if(n.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":u=p;default:r.hasOwnProperty(f)||Jc(e,t,f,null,r,p)}}for(var h in r){var f=r[h];if(p=n[h],r.hasOwnProperty(h)&&(null!=f||null!=p))switch(h){case"type":o=f;break;case"name":a=f;break;case"checked":c=f;break;case"defaultChecked":d=f;break;case"value":i=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==p&&Jc(e,t,h,f,r,p)}}return void gt(e,i,l,u,c,d,o,a);case"select":for(o in f=i=l=h=null,n)if(u=n[o],n.hasOwnProperty(o)&&null!=u)switch(o){case"value":break;case"multiple":f=u;default:r.hasOwnProperty(o)||Jc(e,t,o,null,r,u)}for(a in r)if(o=r[a],u=n[a],r.hasOwnProperty(a)&&(null!=o||null!=u))switch(a){case"value":h=o;break;case"defaultValue":l=o;break;case"multiple":i=o;default:o!==u&&Jc(e,t,a,o,r,u)}return t=l,n=i,r=f,void(null!=h?bt(e,!!n,h,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=h=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Jc(e,t,l,null,r,a)}for(i in r)if(a=r[i],o=n[i],r.hasOwnProperty(i)&&(null!=a||null!=o))switch(i){case"value":h=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==o&&Jc(e,t,i,a,r,o)}return void wt(e,h,f);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Jc(e,t,m,null,r,h);for(u in r)if(h=r[u],f=n[u],r.hasOwnProperty(u)&&h!==f&&(null!=h||null!=f))if("selected"===u)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Jc(e,t,u,h,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&Jc(e,t,g,null,r,h);for(c in r)if(h=r[c],f=n[c],r.hasOwnProperty(c)&&h!==f&&(null!=h||null!=f))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:Jc(e,t,c,h,r,f)}return;default:if(Et(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&void 0!==h&&!r.hasOwnProperty(y)&&Zc(e,t,y,void 0,r,h);for(d in r)h=r[d],f=n[d],!r.hasOwnProperty(d)||h===f||void 0===h&&void 0===f||Zc(e,t,d,h,r,f);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v)&&Jc(e,t,v,null,r,h);for(p in r)h=r[p],f=n[p],!r.hasOwnProperty(p)||h===f||null==h&&null==f||Jc(e,t,p,h,r,f)}(r,e.type,n,t),r[Re]=t}catch(a){cc(e,e.return,a)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xc));else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,r,n),t[Oe]=e,t[Re]=n}catch(o){cc(e,e.return,o)}}var bl=!1,wl=!1,kl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,xl=null;function Il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$l(e,n),4&r&&sl(5,n);break;case 1:if($l(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){cc(n,n.return,s)}else{var a=gi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){cc(n,n.return,i)}}64&r&&ll(n),512&r&&cl(n,n.return);break;case 3:if($l(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ho(e,t)}catch(s){cc(n,n.return,s)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:$l(e,n),null===t&&4&r&&pl(n),512&r&&cl(n,n.return);break;case 12:$l(e,n);break;case 13:$l(e,n),4&r&&Al(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,a=bl;var o=wl;bl=r,(wl=t)&&!o?zl(e,n,0!==(8772&n.subtreeFlags)):$l(e,n),bl=a,wl=o}break;case 30:break;default:$l(e,n)}}function _l(e){var t=e.alternate;null!==t&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&We(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Tl=!1;function Nl(e,t,n){for(n=n.child;null!==n;)Cl(e,t,n),n=n.sibling}function Cl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,n)}catch(o){}switch(n.tag){case 26:wl||dl(n,t),Nl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=El,a=Tl;hd(n.type)&&(El=n.stateNode,Tl=!1),Nl(e,t,n),kd(n.stateNode),El=r,Tl=a;break;case 5:wl||dl(n,t);case 6:if(r=El,a=Tl,El=null,Nl(e,t,n),Tl=a,null!==(El=r))if(Tl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(s){cc(n,t,s)}else try{El.removeChild(n.stateNode)}catch(s){cc(n,t,s)}break;case 18:null!==El&&(Tl?(fd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Tp(e)):fd(El,n.stateNode));break;case 4:r=El,a=Tl,El=n.stateNode.containerInfo,Tl=!0,Nl(e,t,n),El=r,Tl=a;break;case 0:case 11:case 14:case 15:wl||il(2,n,t),wl||il(4,n,t),Nl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Nl(e,t,n),wl=r;break;default:Nl(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Tp(e)}catch(n){cc(t,t.return,n)}}function Ml(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ol(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 27:if(hd(l.type)){El=l.stateNode,Tl=!1;break e}break;case 5:El=l.stateNode,Tl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===El)throw Error(s(160));Cl(o,i,a),El=null,Tl=!1,null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Fl(t,e),t=t.sibling}var Rl=null;function Fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),Dl(e),4&r&&(il(3,e,e.return),sl(3,e),il(5,e,e.return));break;case 1:Ol(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Rl;if(Ol(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(o=a.getElementsByTagName("title")[0])||o[ze]||o[Oe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector("head > title"))),ed(o,r,n),o[Oe]=e,Ve(o),r=o;break e;case"link":var i=zd("link","href",a).get(r+(n.href||""));if(i)for(var l=0;l<i.length;l++)if((o=i[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(l,1);break t}ed(o=a.createElement(r),r,n),a.head.appendChild(o);break;case"meta":if(i=zd("meta","content",a).get(r+(n.content||"")))for(l=0;l<i.length;l++)if((o=i[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(l,1);break t}ed(o=a.createElement(r),r,n),a.head.appendChild(o);break;default:throw Error(s(468,r))}o[Oe]=e,Ve(o),r=o}e.stateNode=r}else Wd(a,e.type,e.stateNode);else e.stateNode=Fd(a,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Wd(a,e.type,e.stateNode):Fd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){a=e.stateNode;try{St(a,"")}catch(f){cc(e,e.return,f)}}4&r&&null!=e.stateNode&&hl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(kl=!0);break;case 6:if(Ol(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){cc(e,e.return,f)}}break;case 3:if(Ld=null,a=Rl,Rl=Id(t.containerInfo),Ol(t,e),Rl=a,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Tp(t.containerInfo)}catch(f){cc(e,e.return,f)}kl&&(kl=!1,Pl(e));break;case 4:r=Rl,Rl=Id(e.stateNode.containerInfo),Ol(t,e),Dl(e),Rl=r;break;case 12:default:Ol(t,e),Dl(e);break;case 13:Ol(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(ku=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ml(e,r)));break;case 22:a=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=bl,d=wl;if(bl=c||a,wl=d||u,Ol(t,e),wl=d,bl=c,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||u||bl||wl||Ll(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(o=u.stateNode,a)"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(f){cc(u,u.return,f)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(f){cc(u,u.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ml(e,n))));break;case 19:Ol(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ml(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var a=n.stateNode;yl(e,ml(e),a);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),yl(e,ml(e),o);break;case 3:case 4:var i=n.stateNode.containerInfo;gl(e,ml(e),i);break;default:throw Error(s(161))}}catch(l){cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Pl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Pl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $l(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Il(e,t.alternate,t),t=t.sibling}function Ll(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:il(4,t,t.return),Ll(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Ll(t);break;case 27:kd(t.stateNode);case 26:case 5:dl(t,t.return),Ll(t);break;case 22:null===t.memoizedState&&Ll(t);break;default:Ll(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:zl(a,o,n),sl(4,o);break;case 1:if(zl(a,o,n),"function"===typeof(a=(r=o).stateNode).componentDidMount)try{a.componentDidMount()}catch(u){cc(r,r.return,u)}if(null!==(a=(r=o).updateQueue)){var i=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)po(l[a],i)}catch(u){cc(r,r.return,u)}}n&&64&s&&ll(o),cl(o,o.return);break;case 27:vl(o);case 26:case 5:zl(a,o,n),n&&null===r&&4&s&&pl(o),cl(o,o.return);break;case 12:zl(a,o,n);break;case 13:zl(a,o,n),n&&4&s&&Al(a,o);break;case 22:null===o.memoizedState&&zl(a,o,n),cl(o,o.return);break;case 30:break;default:zl(a,o,n)}t=t.sibling}}function Wl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Fa(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fa(e))}function Ul(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)jl(e,t,n,r),t=t.sibling}function jl(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,r),2048&a&&sl(9,t);break;case 1:case 13:default:Ul(e,t,n,r);break;case 3:Ul(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fa(e)));break;case 12:if(2048&a){Ul(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,i=o.onPostCommit;"function"===typeof i&&i(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){cc(t,t.return,l)}}else Ul(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Ul(e,t,n,r):Vl(e,t):2&o._visibility?Ul(e,t,n,r):(o._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&Wl(s,t);break;case 24:Ul(e,t,n,r),2048&a&&Bl(t.alternate,t)}}function Hl(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,i=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(o,s,i,l,a),sl(8,s);break;case 23:break;case 22:var c=s.stateNode;null!==s.memoizedState?2&c._visibility?Hl(o,s,i,l,a):Vl(o,s):(c._visibility|=2,Hl(o,s,i,l,a)),a&&2048&u&&Wl(s.alternate,s);break;case 24:Hl(o,s,i,l,a),a&&2048&u&&Bl(s.alternate,s);break;default:Hl(o,s,i,l,a)}t=t.sibling}}function Vl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Vl(n,r),2048&a&&Wl(r.alternate,r);break;case 24:Vl(n,r),2048&a&&Bl(r.alternate,r);break;default:Vl(n,r)}t=t.sibling}}var ql=8192;function Gl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:Gl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(s(475));var r=Ud;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Cd(n.href),o=e.querySelector(Ad(a));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void Ve(o);o=e.ownerDocument||e,n=Md(n),(a=Sd.get(a))&&Pd(n,a),Ve(o=o.createElement("link"));var i=o;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),ed(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Rl;Rl=Id(e.stateNode.containerInfo),Gl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Gl(e),ql=t):Gl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,Zl(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&il(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Ql(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,Zl(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:il(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==xl;){var n=xl;switch(n.tag){case 0:case 11:case 15:il(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Fa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,xl=r;else e:for(n=e;null!==xl;){var a=(r=xl).sibling,o=r.return;if(_l(r),r===n){xl=null;break e}if(null!==a){a.return=o,xl=a;break e}xl=o}}}var eu={getCacheForType:function(e){var t=Ea(Oa),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tu="function"===typeof WeakMap?WeakMap:Map,nu=0,ru=null,au=null,ou=0,su=0,iu=null,lu=!1,uu=!1,cu=!1,du=0,pu=0,hu=0,fu=0,mu=0,gu=0,yu=0,vu=null,bu=null,wu=!1,ku=0,Su=1/0,xu=null,Iu=null,_u=0,Eu=null,Tu=null,Nu=0,Cu=0,Au=null,Mu=null,Ou=0,Ru=null;function Fu(){if(0!==(2&nu)&&0!==ou)return ou&-ou;if(null!==F.T){return 0!==$a?$a:Cc()}return Ae()}function Du(){0===gu&&(gu=0===(536870912&ou)||oa?Se():536870912);var e=ai.current;return null!==e&&(e.flags|=32),gu}function Pu(e,t,n){(e!==ru||2!==su&&9!==su)&&null===e.cancelPendingCommit||(ju(e,0),Wu(e,ou,gu,!1)),_e(e,n),0!==(2&nu)&&e===ru||(e===ru&&(0===(2&nu)&&(fu|=n),4===pu&&Wu(e,ou,gu,!1)),Sc(e))}function $u(e,t,n){if(0!==(6&nu))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),a=r?function(e,t){var n=nu;nu|=2;var r=Vu(),a=qu();ru!==e||ou!==t?(xu=null,Su=te()+500,ju(e,t)):uu=we(e,t);e:for(;;)try{if(0!==su&&null!==au){t=au;var o=iu;t:switch(su){case 1:su=0,iu=null,Zu(e,t,o,1);break;case 2:case 9:if(Ya(o)){su=0,iu=null,Ju(t);break}t=function(){2!==su&&9!==su||ru!==e||(su=7),Sc(e)},o.then(t,t);break e;case 3:su=7;break e;case 4:su=5;break e;case 7:Ya(o)?(su=0,iu=null,Ju(t)):(su=0,iu=null,Zu(e,t,o,7));break;case 5:var i=null;switch(au.tag){case 26:i=au.memoizedState;case 5:case 27:var l=au;if(!i||Bd(i)){su=0,iu=null;var u=l.sibling;if(null!==u)au=u;else{var c=l.return;null!==c?(au=c,ec(c)):au=null}break t}}su=0,iu=null,Zu(e,t,o,5);break;case 6:su=0,iu=null,Zu(e,t,o,6);break;case 8:Uu(),pu=6;break e;default:throw Error(s(462))}}Qu();break}catch(d){Hu(e,d)}return va=ya=null,F.H=r,F.A=a,nu=n,null!==au?0:(ru=null,ou=0,Nr(),pu)}(e,t):Ku(e,t,!0),o=r;;){if(0===a){uu&&!r&&Wu(e,t,0,!1);break}if(n=e.current.alternate,!o||zu(n)){if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var l=e;a=vu;var u=l.current.memoizedState.isDehydrated;if(u&&(ju(l,i).flags|=256),2!==(i=Ku(l,i,!1))){if(cu&&!u){l.errorRecoveryDisabledLanes|=o,fu|=o,a=4;break e}o=bu,bu=a,null!==o&&(null===bu?bu=o:bu.push.apply(bu,o))}a=i}if(o=!1,2!==a)continue}}if(1===a){ju(e,0),Wu(e,t,0,!0);break}e:{switch(r=e,o=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Wu(r,t,gu,!lu);break e;case 2:bu=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=ku+300-te())){if(Wu(r,t,gu,!lu),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Lu.bind(null,r,n,bu,xu,wu,t,gu,fu,yu,lu,o,2,-0,0),a)}else Lu(r,n,bu,xu,wu,t,gu,fu,yu,lu,o,0,-0,0)}break}a=Ku(e,t,!1),o=!1}Sc(e)}function Lu(e,t,n,r,a,o,i,l,u,c,d,p,h,f){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||16785408===(16785408&p))&&(Ud={stylesheets:null,count:0,unsuspend:jd},Kl(t),null!==(p=function(){if(null===Ud)throw Error(s(475));var e=Ud;return e.stylesheets&&0===e.count&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=p(nc.bind(null,e,t,o,n,r,a,i,l,u,d,1,h,f)),void Wu(e,o,i,!c);nc(e,t,o,n,r,a,i,l,u)}function zu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!Yn(o(),a))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wu(e,t,n,r){t&=~mu,t&=~fu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var o=31-he(a),s=1<<o;r[o]=-1,a&=~s}0!==n&&Ee(e,n,t)}function Bu(){return 0!==(6&nu)||(xc(0,!1),!1)}function Uu(){if(null!==au){if(0===su)var e=au.return;else va=ya=null,Lo(e=au),Ys=null,Qs=0,e=au;for(;null!==e;)ol(e.alternate,e),e=e.return;au=null}}function ju(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uu(),ru=e,au=n=Lr(e.current,null),ou=t,su=0,iu=null,lu=!1,uu=we(e,t),cu=!1,yu=gu=mu=fu=hu=pu=0,bu=vu=null,wu=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-he(r),o=1<<a;t|=e[a],r&=~o}return du=t,Nr(),n}function Hu(e,t){wo=null,F.H=Vs,t===Va||t===Ga?(t=Za(),su=3):t===qa?(t=Za(),su=4):su=t===Ei?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,iu=t,null===au&&(pu=1,ki(e,Ir(t,e.current)))}function Vu(){var e=F.H;return F.H=Vs,null===e?Vs:e}function qu(){var e=F.A;return F.A=eu,e}function Gu(){pu=4,lu||(4194048&ou)!==ou&&null!==ai.current||(uu=!0),0===(134217727&hu)&&0===(134217727&fu)||null===ru||Wu(ru,ou,gu,!1)}function Ku(e,t,n){var r=nu;nu|=2;var a=Vu(),o=qu();ru===e&&ou===t||(xu=null,ju(e,t)),t=!1;var s=pu;e:for(;;)try{if(0!==su&&null!==au){var i=au,l=iu;switch(su){case 8:Uu(),s=6;break e;case 3:case 2:case 9:case 6:null===ai.current&&(t=!0);var u=su;if(su=0,iu=null,Zu(e,i,l,u),n&&uu){s=0;break e}break;default:u=su,su=0,iu=null,Zu(e,i,l,u)}}Yu(),s=pu;break}catch(c){Hu(e,c)}return t&&e.shellSuspendCounter++,va=ya=null,nu=r,F.H=a,F.A=o,null===au&&(ru=null,ou=0,Nr()),s}function Yu(){for(;null!==au;)Xu(au)}function Qu(){for(;null!==au&&!Z();)Xu(au)}function Xu(e){var t=Xi(e.alternate,e,du);e.memoizedProps=e.pendingProps,null===t?ec(e):au=t}function Ju(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Pi(n,t,t.pendingProps,t.type,void 0,ou);break;case 11:t=Pi(n,t,t.pendingProps,t.type.render,t.ref,ou);break;case 5:Lo(t);default:ol(n,t),t=Xi(n,t=au=zr(t,du),du)}e.memoizedProps=e.pendingProps,null===t?ec(e):au=t}function Zu(e,t,n,r){va=ya=null,Lo(t),Ys=null,Qs=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&xa(t,n,a,!0),null!==(n=ai.current)){switch(n.tag){case 13:return null===oi?Gu():null===n.alternate&&0===pu&&(pu=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ka?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),dc(e,r,a)),!1;case 22:return n.flags|=65536,r===Ka?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),dc(e,r,a)),!1}throw Error(s(435,n.tag))}return dc(e,r,a),Gu(),!1}if(oa)return null!==(t=ai.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==la&&ma(Ir(e=Error(s(422),{cause:r}),n))):(r!==la&&ma(Ir(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Ir(r,n),io(e,a=xi(e.stateNode,r,a)),4!==pu&&(pu=2)),!1;var o=Error(s(520),{cause:r});if(o=Ir(o,n),null===vu?vu=[o]:vu.push(o),4!==pu&&(pu=2),null===t)return!0;r=Ir(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,io(n,e=xi(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Iu||!Iu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,_i(a=Ii(a),e,n,r),io(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ou))return pu=1,ki(e,Ir(n,e.current)),void(au=null)}catch(o){if(null!==a)throw au=a,o;return pu=1,ki(e,Ir(n,e.current)),void(au=null)}32768&t.flags?(oa||1===r?e=!0:uu||0!==(536870912&ou)?e=!1:(lu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ai.current)&&13===r.tag&&(r.flags|=16384))),tc(t,e)):ec(t)}function ec(e){var t=e;do{if(0!==(32768&t.flags))return void tc(t,lu);e=t.return;var n=rl(t.alternate,t,du);if(null!==n)return void(au=n);if(null!==(t=t.sibling))return void(au=t);au=t=e}while(null!==t);0===pu&&(pu=5)}function tc(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(au=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(au=e);au=e=n}while(null!==e);pu=6,au=null}function nc(e,t,n,r,a,o,i,l,u){e.cancelPendingCommit=null;do{ic()}while(0!==_u);if(0!==(6&nu))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,a,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-he(n),d=1<<c;i[c]=0,l[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var h=p[c];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Ee(e,r,0),0!==o&&0===a&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Tr,i,l,u),e===ru&&(au=ru=null,ou=0),Tu=t,Eu=e,Nu=n,Cu=o,Au=a,Mu=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(oe,function(){return lc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=F.T,F.T=null,a=D.p,D.p=2,i=nu,nu|=4;try{!function(e,t){if(e=e.containerInfo,td=np,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var i=0,l=-1,u=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==a&&3!==p.nodeType||(l=i+a),p!==o||0!==r&&3!==p.nodeType||(u=i+r),3===p.nodeType&&(i+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++c===a&&(l=i),h===o&&++d===r&&(u=i),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},np=!1,xl=t;null!==xl;)if(e=(t=xl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,xl=e;else for(;null!==xl;){switch(o=(t=xl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=gi(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){cc(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,xl=e;break}xl=t.return}}(e,t)}finally{nu=i,D.p=a,F.T=r}}_u=1,rc(),ac(),oc()}}function rc(){if(1===_u){_u=0;var e=Eu,t=Tu,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=F.T,F.T=null;var r=D.p;D.p=2;var a=nu;nu|=4;try{Fl(t,e);var o=nd,s=er(e.containerInfo),i=o.focusedElem,l=o.selectionRange;if(s!==i&&i&&i.ownerDocument&&Zn(i.ownerDocument.documentElement,i)){if(null!==l&&tr(i)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in i)i.selectionStart=u,i.selectionEnd=Math.min(c,i.value.length);else{var d=i.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var h=p.getSelection(),f=i.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!h.extend&&m>g&&(s=g,g=m,m=s);var y=Jn(i,m),v=Jn(i,g);if(y&&v&&(1!==h.rangeCount||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),h.removeAllRanges(),m>g?(h.addRange(b),h.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),h.addRange(b))}}}}for(d=[],h=i;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<d.length;i++){var w=d[i];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}np=!!td,nd=td=null}finally{nu=a,D.p=r,F.T=n}}e.current=t,_u=2}}function ac(){if(2===_u){_u=0;var e=Eu,t=Tu,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=F.T,F.T=null;var r=D.p;D.p=2;var a=nu;nu|=4;try{Il(e,t.alternate,t)}finally{nu=a,D.p=r,F.T=n}}_u=3}}function oc(){if(4===_u||3===_u){_u=0,ee();var e=Eu,t=Tu,n=Nu,r=Mu;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?_u=5:(_u=0,Tu=Eu=null,sc(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Iu=null),Ce(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=F.T,a=D.p,D.p=2,F.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var i=r[s];o(i.value,{componentStack:i.stack})}}finally{F.T=t,D.p=a}}0!==(3&Nu)&&ic(),Sc(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Ru?Ou++:(Ou=0,Ru=e):Ou=0,xc(0,!1)}}function sc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fa(t)))}function ic(e){return rc(),ac(),oc(),lc()}function lc(){if(5!==_u)return!1;var e=Eu,t=Cu;Cu=0;var n=Ce(Nu),r=F.T,a=D.p;try{D.p=32>n?32:n,F.T=null,n=Au,Au=null;var o=Eu,i=Nu;if(_u=0,Tu=Eu=null,Nu=0,0!==(6&nu))throw Error(s(331));var l=nu;if(nu|=4,Xl(o.current),jl(o,o.current,i,n),nu=l,xc(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,o)}catch(u){}return!0}finally{D.p=a,F.T=r,sc(e,t)}}function uc(e,t,n){t=Ir(n,t),null!==(e=oo(e,t=xi(e.stateNode,t,2),2))&&(_e(e,2),Sc(e))}function cc(e,t,n){if(3===e.tag)uc(e,e,n);else for(;null!==t;){if(3===t.tag){uc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Iu||!Iu.has(r))){e=Ir(n,e),null!==(r=oo(t,n=Ii(2),2))&&(_i(n,r,t,e),_e(r,2),Sc(r));break}}t=t.return}}function dc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tu;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(cu=!0,a.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ru===e&&(ou&n)===n&&(4===pu||3===pu&&(62914560&ou)===ou&&300>te()-ku?0===(2&nu)&&ju(e,0):mu|=n,yu===ou&&(yu=0)),Sc(e)}function hc(e,t){0===t&&(t=xe()),null!==(e=Mr(e,t))&&(_e(e,t),Sc(e))}function fc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hc(e,n)}function mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),hc(e,n)}var gc=null,yc=null,vc=!1,bc=!1,wc=!1,kc=0;function Sc(e){e!==yc&&null===e.next&&(null===yc?gc=yc=e:yc=yc.next=e),bc=!0,vc||(vc=!0,dd(function(){0!==(6&nu)?X(re,Ic):_c()}))}function xc(e,t){if(!wc&&bc){wc=!0;do{for(var n=!1,r=gc;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var o=0;else{var s=r.suspendedLanes,i=r.pingedLanes;o=(1<<31-he(42|e)+1)-1,o=201326741&(o&=a&~(s&~i))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Nc(r,o))}else o=ou,0===(3&(o=be(r,r===ru?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,o)||(n=!0,Nc(r,o));r=r.next}}while(n);wc=!1}}function Ic(){_c()}function _c(){bc=vc=!1;var e=0;0!==kc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==id&&(id=e,!0);return id=null,!1}()&&(e=kc),kc=0);for(var t=te(),n=null,r=gc;null!==r;){var a=r.next,o=Ec(r,t);0===o?(r.next=null,null===n?gc=a:n.next=a,null===a&&(yc=n)):(n=r,(0!==e||0!==(3&o))&&(bc=!0)),r=a}xc(e,!1)}function Ec(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-he(o),i=1<<s,l=a[s];-1===l?0!==(i&n)&&0===(i&r)||(a[s]=ke(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}if(n=ou,n=be(e,e===(t=ru)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===su||9===su)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ce(n)){case 2:case 8:n=ae;break;case 32:default:n=oe;break;case 268435456:n=ie}return r=Tc.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Tc(e,t){if(0!==_u&&5!==_u)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ic()&&e.callbackNode!==n)return null;var r=ou;return 0===(r=be(e,e===ru?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:($u(e,r,t),Ec(e,te()),null!=e.callbackNode&&e.callbackNode===n?Tc.bind(null,e):null)}function Nc(e,t){if(ic())return null;$u(e,t,!0)}function Cc(){return 0===kc&&(kc=Se()),kc}function Ac(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ct(""+e)}function Mc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Oc=0;Oc<kr.length;Oc++){var Rc=kr[Oc];Sr(Rc.toLowerCase(),"on"+(Rc[0].toUpperCase()+Rc.slice(1)))}Sr(hr,"onAnimationEnd"),Sr(fr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fc));function Pc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,u=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(c){yi(c)}a.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(i=r[s]).instance,u=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(c){yi(c)}a.currentTarget=null,o=l}}}}function $c(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Bc(t,e,2,!1),n.add(r))}function Lc(e,t,n){var r=0;t&&(r|=4),Bc(n,e,r,t)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Wc(e){if(!e[zc]){e[zc]=!0,qe.forEach(function(t){"selectionchange"!==t&&(Dc.has(t)||Lc(t,!1,e),Lc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zc]||(t[zc]=!0,Lc("selectionchange",!1,t))}}function Bc(e,t,n,r){switch(up(t)){case 2:var a=rp;break;case 8:a=ap;break;default:a=op}n=a.bind(null,t,n,e),a=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Uc(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var i=r.stateNode.containerInfo;if(i===a)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==i;){if(null===(s=Be(i)))return;if(5===(u=s.tag)||6===u||26===u||27===u){r=o=s;continue e}i=i.parentNode}}r=r.return}Pt(function(){var r=o,a=Mt(n),s=[];e:{var i=wr.get(e);if(void 0!==i){var u=Zt,c=e;switch(e){case"keypress":if(0===Vt(n))break e;case"keydown":case"keyup":u=mn;break;case"focusin":c="focus",u=on;break;case"focusout":c="blur",u=on;break;case"beforeblur":case"afterblur":u=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=yn;break;case hr:case fr:case mr:u=sn;break;case br:u=vn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=bn;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=gn;break;case"toggle":case"beforetoggle":u=wn}var d=0!==(4&t),p=!d&&("scroll"===e||"scrollend"===e),h=d?null!==i?i+"Capture":null:i;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=$t(m,h))&&d.push(jc(m,g,f)),p)break;m=m.return}0<d.length&&(i=new u(i,c,null,n,a),s.push({event:i,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===At||!(c=n.relatedTarget||n.fromElement)||!Be(c)&&!c[Fe])&&(u||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Be(c):null)&&(p=l(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=rn,g="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",h="onPointerEnter",m="pointer"),p=null==u?i:je(u),f=null==c?i:je(c),(i=new d(g,m+"leave",u,n,a)).target=p,i.relatedTarget=f,g=null,Be(a)===r&&((d=new d(h,m+"enter",c,n,a)).target=f,d.relatedTarget=p,g=d),p=g,u&&c)e:{for(h=c,m=0,f=d=u;f;f=Vc(f))m++;for(f=0,g=h;g;g=Vc(g))f++;for(;0<m-f;)d=Vc(d),m--;for(;0<f-m;)h=Vc(h),f--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Vc(d),h=Vc(h)}d=null}else d=null;null!==u&&qc(s,i,u,d,!1),null!==c&&null!==p&&qc(s,p,c,d,!0)}if("select"===(u=(i=r?je(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===u&&"file"===i.type)var y=Ln;else if(On(i))if(zn)y=Kn;else{y=qn;var v=Vn}else!(u=i.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?r&&Et(r.elementType)&&(y=Ln):y=Gn;switch(y&&(y=y(e,r))?Rn(s,y,n,a):(v&&v(e,i,r),"focusout"===e&&r&&"number"===i.type&&null!=r.memoizedProps.value&&vt(i,"number",i.value)),v=r?je(r):window,e){case"focusin":(On(v)||"true"===v.contentEditable)&&(rr=v,ar=r,or=null);break;case"focusout":or=ar=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ir(s,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ir(s,n,a)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else An?Nn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(_n&&"ko"!==n.locale&&(An||"onCompositionStart"!==w?"onCompositionEnd"===w&&An&&(b=Ht()):(Ut="value"in(Bt=a)?Bt.value:Bt.textContent,An=!0)),0<(v=Hc(r,w)).length&&(w=new un(w,e,null,n,a),s.push({event:w,listeners:v}),b?w.data=b:null!==(b=Cn(n))&&(w.data=b))),(b=In?function(e,t){switch(e){case"compositionend":return Cn(t);case"keypress":return 32!==t.which?null:(Tn=!0,En);case"textInput":return(e=t.data)===En&&Tn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!Sn&&Nn(e,t)?(e=Ht(),jt=Ut=Bt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Hc(r,"onBeforeInput")).length&&(v=new un("onBeforeInput","beforeinput",null,n,a),s.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var o=Ac((a[Re]||null).action),s=r.submitter;s&&null!==(t=(t=s[Re]||null)?Ac(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var i=new Zt("action","action",null,r,a);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==kc){var e=s?Mc(a,s):new FormData(a);Ms(n,{pending:!0,data:e,method:a.method,action:o},null,e)}}else"function"===typeof o&&(i.preventDefault(),e=s?Mc(a,s):new FormData(a),Ms(n,{pending:!0,data:e,method:a.method,action:o},o,e))},currentTarget:a}]})}}(s,e,r,n,a)}Pc(s,t)})}function jc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hc(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===o||(null!=(a=$t(e,n))&&r.unshift(jc(e,a,o)),null!=(a=$t(e,t))&&r.push(jc(e,a,o))),3===e.tag)return r;e=e.return}return[]}function Vc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qc(e,t,n,r,a){for(var o=t._reactName,s=[];null!==n&&n!==r;){var i=n,l=i.alternate,u=i.stateNode;if(i=i.tag,null!==l&&l===r)break;5!==i&&26!==i&&27!==i||null===u||(l=u,a?null!=(u=$t(n,o))&&s.unshift(jc(n,u,l)):a||null!=(u=$t(n,o))&&s.push(jc(n,u,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gc=/\r\n?/g,Kc=/\u0000|\uFFFD/g;function Yc(e){return("string"===typeof e?e:""+e).replace(Gc,"\n").replace(Kc,"")}function Qc(e,t){return t=Yc(t),Yc(e)===t}function Xc(){}function Jc(e,t,n,r,a,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":_t(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Jc(e,t,"name",a.name,a,null),Jc(e,t,"formEncType",a.formEncType,a,null),Jc(e,t,"formMethod",a.formMethod,a,null),Jc(e,t,"formTarget",a.formTarget,a,null)):(Jc(e,t,"encType",a.encType,a,null),Jc(e,t,"method",a.method,a,null),Jc(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ct(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xc);break;case"onScroll":null!=r&&$c("scroll",e);break;case"onScrollEnd":null!=r&&$c("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ct(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$c("beforetoggle",e),$c("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Tt.get(n)||n,r)}}function Zc(e,t,n,r,a,o){switch(n){case"style":_t(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&$c("scroll",e);break;case"onScrollEnd":null!=r&&$c("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Re]||null)?o[n]:null)&&e.removeEventListener(t,o,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$c("error",e),$c("load",e);var r,a=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var i=n[r];if(null!=i)switch(r){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Jc(e,t,r,i,n,null)}}return o&&Jc(e,t,"srcSet",n.srcSet,n,null),void(a&&Jc(e,t,"src",n.src,n,null));case"input":$c("invalid",e);var l=r=i=o=null,u=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":o=d;break;case"type":i=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Jc(e,t,a,d,n,null)}}return yt(e,r,l,u,c,i,o,!1),void dt(e);case"select":for(o in $c("invalid",e),a=i=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":i=l;break;case"multiple":a=l;default:Jc(e,t,o,l,n,null)}return t=r,n=i,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=n&&bt(e,!!a,n,!0));case"textarea":for(i in $c("invalid",e),r=o=a=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":a=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Jc(e,t,i,l,n,null)}return kt(e,a,o,r),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))if("selected"===u)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Jc(e,t,u,a,n,null);return;case"dialog":$c("beforetoggle",e),$c("toggle",e),$c("cancel",e),$c("close",e);break;case"iframe":case"object":$c("load",e);break;case"video":case"audio":for(a=0;a<Fc.length;a++)$c(Fc[a],e);break;case"image":$c("error",e),$c("load",e);break;case"details":$c("toggle",e);break;case"embed":case"source":case"link":$c("error",e),$c("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Jc(e,t,c,a,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Zc(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Jc(e,t,l,a,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var id=null;var ld="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,cd="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof cd?function(e){return cd.resolve(null).then(e).catch(pd)}:ld;function pd(e){setTimeout(function(){throw e})}function hd(e){return"head"===e}function fd(e,t){var n=t,r=0,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&kd(s.documentElement),2&n&&kd(s.body),4&n)for(kd(n=s.head),s=n.firstChild;s;){var i=s.nextSibling,l=s.nodeName;s[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=i}}if(0===a)return e.removeChild(o),void Tp(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Tp(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),We(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function kd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);We(e)}var Sd=new Map,xd=new Set;function Id(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _d=D.d;D.d={f:function(){var e=_d.f(),t=Bu();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Rs(t):_d.r(e)},D:function(e){_d.D(e),Td("dns-prefetch",e,null)},C:function(e,t){_d.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){_d.L(e,t,n);var r=Ed;if(r&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+mt(n.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var o=a;switch(t){case"style":o=Cd(e);break;case"script":o=Od(e)}Sd.has(o)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(o,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Ad(o))||"script"===t&&r.querySelector(Rd(o))||(ed(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}},m:function(e,t){_d.m(e,t);var n=Ed;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Od(e)}if(!Sd.has(o)&&(e=p({rel:"modulepreload",href:e},t),Sd.set(o,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(o)))return}ed(r=n.createElement("link"),"link",e),Ve(r),n.head.appendChild(r)}}},X:function(e,t){_d.X(e,t);var n=Ed;if(n&&e){var r=He(n).hoistableScripts,a=Od(e),o=r.get(a);o||((o=n.querySelector(Rd(a)))||(e=p({src:e,async:!0},t),(t=Sd.get(a))&&$d(e,t),Ve(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}},S:function(e,t,n){_d.S(e,t,n);var r=Ed;if(r&&e){var a=He(r).hoistableStyles,o=Cd(e);t=t||"default";var s=a.get(o);if(!s){var i={loading:0,preload:null};if(s=r.querySelector(Ad(o)))i.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(o))&&Pd(e,n);var l=s=r.createElement("link");Ve(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){i.loading|=1}),l.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Dd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:i},a.set(o,s)}}},M:function(e,t){_d.M(e,t);var n=Ed;if(n&&e){var r=He(n).hoistableScripts,a=Od(e),o=r.get(a);o||((o=n.querySelector(Rd(a)))||(e=p({src:e,async:!0,type:"module"},t),(t=Sd.get(a))&&$d(e,t),Ve(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}};var Ed="undefined"===typeof document?null:document;function Td(e,t,n){var r=Ed;if(r&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),xd.has(a)||(xd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(ed(t=r.createElement("link"),"link",e),Ve(t),r.head.appendChild(t)))}}function Nd(e,t,n,r){var a,o,i,l,u=(u=H.current)?Id(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Cd(n.href),(r=(n=He(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Cd(n.href);var c=He(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Ad(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),c||(a=u,o=e,i=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=a.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),ed(o,"link",i),Ve(o),a.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Od(n),(r=(n=He(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Cd(e){return'href="'+mt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Md(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Od(e){return'[src="'+mt(e)+'"]'}function Rd(e){return"script[async]"+e}function Fd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Ve(r),r;var a=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ve(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",a),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Cd(n.href);var o=e.querySelector(Ad(a));if(o)return t.state.loading|=4,t.instance=o,Ve(o),o;r=Md(n),(a=Sd.get(a))&&Pd(r,a),Ve(o=(e.ownerDocument||e).createElement("link"));var i=o;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),ed(o,"link",r),t.state.loading|=4,Dd(o,n.precedence,e),t.instance=o;case"script":return o=Od(n.src),(a=e.querySelector(Rd(o)))?(t.instance=a,Ve(a),a):(r=n,(a=Sd.get(o))&&$d(r=p({},n),a),Ve(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,o=a,s=0;s<r.length;s++){var i=r[s];if(i.dataset.precedence===t)o=i;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Pd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function $d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ld=null;function zd(e,t,n){if(null===Ld){var r=new Map,a=Ld=new Map;a.set(n,r)}else(r=(a=Ld).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[ze]||o[Oe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var i=r.get(s);i?i.push(o):r.set(s,[o])}}return r}function Wd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ud=null;function jd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Vd=null;function qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Vd=new Map,t.forEach(Gd,e),Vd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Vd.get(e);if(n)var r=n.get(null);else{n=new Map,Vd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var s=a[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(a=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,a),n.set(s,a),this.count++,r=Hd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),o?o.parentNode.insertBefore(a,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Kd={$$typeof:k,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function Yd(e,t,n,r,a,o,s,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Qd(e,t,n,r,a,o,s,i,l,u,c,d){return e=new Yd(e,t,n,s,i,l,u,d),t=1,!0===o&&(t|=24),o=Pr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ra()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Xd(e){return e?e=Fr:Fr}function Jd(e,t,n,r,a,o){a=Xd(a),null===r.context?r.context=a:r.pendingContext=a,(r=ao(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Pu(n,0,t),so(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ep(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tp(e){if(13===e.tag){var t=Mr(e,67108864);null!==t&&Pu(t,0,67108864),ep(e,67108864)}}var np=!0;function rp(e,t,n,r){var a=F.T;F.T=null;var o=D.p;try{D.p=2,op(e,t,n,r)}finally{D.p=o,F.T=a}}function ap(e,t,n,r){var a=F.T;F.T=null;var o=D.p;try{D.p=8,op(e,t,n,r)}finally{D.p=o,F.T=a}}function op(e,t,n,r){if(np){var a=sp(r);if(null===a)Uc(e,t,r,ip,n),vp(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return dp=bp(dp,e,t,n,r,a),!0;case"dragenter":return pp=bp(pp,e,t,n,r,a),!0;case"mouseover":return hp=bp(hp,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return fp.set(o,bp(fp.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,mp.set(o,bp(mp.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(vp(e,r),4&t&&-1<yp.indexOf(e)){for(;null!==a;){var o=Ue(a);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=ve(o.pendingLanes);if(0!==s){var i=o;for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var l=1<<31-he(s);i.entanglements[1]|=l,s&=~l}Sc(o),0===(6&nu)&&(Su=te()+500,xc(0,!1))}}break;case 13:null!==(i=Mr(o,2))&&Pu(i,0,2),Bu(),ep(o,2)}if(null===(o=sp(r))&&Uc(e,t,r,ip,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Uc(e,t,r,null,n)}}function sp(e){return lp(e=Mt(e))}var ip=null;function lp(e){if(ip=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ip=e,null}function up(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case oe:case se:return 32;case ie:return 268435456;default:return 32}default:return 32}}var cp=!1,dp=null,pp=null,hp=null,fp=new Map,mp=new Map,gp=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vp(e,t){switch(e){case"focusin":case"focusout":dp=null;break;case"dragenter":case"dragleave":pp=null;break;case"mouseover":case"mouseout":hp=null;break;case"pointerover":case"pointerout":fp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mp.delete(t.pointerId)}}function bp(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=Ue(t))&&tp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function wp(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Fu();e=Ne(e);var t=Mr(n,e);null!==t&&Pu(t,0,e),ep(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sp(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&tp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function Sp(e,t,n){kp(e)&&n.delete(t)}function xp(){cp=!1,null!==dp&&kp(dp)&&(dp=null),null!==pp&&kp(pp)&&(pp=null),null!==hp&&kp(hp)&&(hp=null),fp.forEach(Sp),mp.forEach(Sp)}function Ip(e,t){e.blockedOn===t&&(e.blockedOn=null,cp||(cp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xp)))}var _p=null;function Ep(e){_p!==e&&(_p=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_p===e&&(_p=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===lp(r||n))continue;break}var o=Ue(n);null!==o&&(e.splice(t,3),t-=3,Ms(o,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Tp(e){function t(t){return Ip(t,e)}null!==dp&&Ip(dp,e),null!==pp&&Ip(pp,e),null!==hp&&Ip(hp,e),fp.forEach(t),mp.forEach(t);for(var n=0;n<gp.length;n++){var r=gp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gp.length&&null===(n=gp[0]).blockedOn;)wp(n),null===n.blockedOn&&gp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],s=a[Re]||null;if("function"===typeof o)s||Ep(n);else if(s){var i=null;if(o&&o.hasAttribute("formAction")){if(a=o,s=o[Re]||null)i=s.formAction;else if(null!==lp(a))continue}else i=s.action;"function"===typeof i?n[r+1]=i:(n.splice(r,3),r-=3),Ep(n)}}}function Np(e){this._internalRoot=e}function Cp(e){this._internalRoot=e}Cp.prototype.render=Np.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jd(t.current,Fu(),e,t,null,null)},Cp.prototype.unmount=Np.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Bu(),t[Fe]=null}},Cp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gp.length&&0!==t&&t<gp[n].priority;n++);gp.splice(n,0,e),0===n&&wp(e)}};var Ap=a.version;if("19.1.0"!==Ap)throw Error(s(527,Ap,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return c(a),e;if(o===r)return c(a),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,u=a.child;u;){if(u===n){i=!0,n=a,r=o;break}if(u===r){i=!0,r=a,n=o;break}u=u.sibling}if(!i){for(u=o.child;u;){if(u===n){i=!0,n=o,r=a;break}if(u===r){i=!0,r=o,n=a;break}u=u.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Mp={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{ce=Op.inject(Mp),de=Op}catch(Fp){}}t.createRoot=function(e,t){if(!i(e))throw Error(s(299));var n=!1,r="",a=vi,o=bi,l=wi;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qd(e,1,!1,null,0,n,r,a,o,l,0,null),e[Fe]=t.current,Wc(e),new Np(t)},t.hydrateRoot=function(e,t,n){if(!i(e))throw Error(s(299));var r=!1,a="",o=vi,l=bi,u=wi,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Qd(e,1,!0,t,0,r,a,o,l,u,0,c)).context=Xd(null),n=t.current,(a=ao(r=Ne(r=Fu()))).callback=null,oo(n,a,r),n=r,t.current.lanes=n,_e(t,n),Sc(t),e[Fe]=t.current,Wc(e),new Cp(t)},t.version="19.1.0"},7066:function(e,t,n){var r;!function(e,a){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.xor128=i}(0,e=n.nmd(e),n.amdD)},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7244:()=>{},7353:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(_){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},o={};function s(e,t){var n,r,s;return t?(s=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=l(e,(0|e)<0?-1:0,!0),s&&(o[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=l(e,e<0?-1:0,!1),s&&(a[e]=n),n)}function i(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=h)return S}else{if(e<=-f)return x;if(e+1>=f)return k}return e<0?i(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=s,n.fromNumber=i,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var a=i(u(n,8)),o=g,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),d=parseInt(e.substring(s,s+l),n);if(l<8){var p=i(u(n,l));o=o.mul(p).add(i(d))}else o=(o=o.mul(a)).add(i(d))}return o.unsigned=t,o}function d(e,t){return"number"===typeof e?i(e,t):"string"===typeof e?c(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var p=4294967296,h=p*p,f=h/2,m=s(1<<24),g=s(0);n.ZERO=g;var y=s(0,!0);n.UZERO=y;var v=s(1);n.ONE=v;var b=s(1,!0);n.UONE=b;var w=s(-1);n.NEG_ONE=w;var k=l(-1,2147483647,!1);n.MAX_VALUE=k;var S=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var x=l(0,-2147483648,!1);n.MIN_VALUE=x;var I=n.prototype;I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},I.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=i(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=i(u(e,6),this.unsigned),o=this,s="";;){var l=o.div(a),c=(o.sub(l.mul(a)).toInt()>>>0).toString(e);if((o=l).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},I.isZero=function(){return 0===this.high&&0===this.low},I.eqz=I.isZero,I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return 1===(1&this.low)},I.isEven=function(){return 0===(1&this.low)},I.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},I.eq=I.equals,I.notEquals=function(e){return!this.eq(e)},I.neq=I.notEquals,I.ne=I.notEquals,I.lessThan=function(e){return this.comp(e)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(e){return this.comp(e)<=0},I.lte=I.lessThanOrEqual,I.le=I.lessThanOrEqual,I.greaterThan=function(e){return this.comp(e)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(e){return this.comp(e)>=0},I.gte=I.greaterThanOrEqual,I.ge=I.greaterThanOrEqual,I.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(v)},I.neg=I.negate,I.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,o=65535&this.low,s=e.high>>>16,i=65535&e.high,u=e.low>>>16,c=0,p=0,h=0,f=0;return h+=(f+=o+(65535&e.low))>>>16,p+=(h+=a+u)>>>16,c+=(p+=n+i)>>>16,c+=t+s,l((h&=65535)<<16|(f&=65535),(c&=65535)<<16|(p&=65535),this.unsigned)},I.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},I.sub=I.subtract,I.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(x))return e.isOdd()?x:g;if(e.eq(x))return this.isOdd()?x:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return i(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,o=this.low>>>16,s=65535&this.low,u=e.high>>>16,c=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,y=0,v=0,b=0;return v+=(b+=s*h)>>>16,y+=(v+=o*h)>>>16,v&=65535,y+=(v+=s*p)>>>16,f+=(y+=a*h)>>>16,y&=65535,f+=(y+=o*p)>>>16,y&=65535,f+=(y+=s*c)>>>16,f+=n*h+a*p+o*c+s*u,l((v&=65535)<<16|(b&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},I.mul=I.multiply,I.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,a,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return b;o=y}else{if(this.eq(x))return e.eq(v)||e.eq(w)?x:e.eq(x)?v:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?v:w:(a=this.sub(e.mul(n)),o=n.add(a.div(e)));if(e.eq(x))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),c=s<=48?1:u(2,s-48),p=i(n),h=p.mul(e);h.isNegative()||h.gt(a);)h=(p=i(n-=c,this.unsigned)).mul(e);p.isZero()&&(p=v),o=o.add(p),a=a.sub(h)}return o},I.div=I.divide,I.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},I.mod=I.modulo,I.rem=I.modulo,I.not=function(){return l(~this.low,~this.high,this.unsigned)},I.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},I.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},I.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},I.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.shr_u=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},I.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},I.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},7359:function(e,t,n){var r;!function(e,a){function o(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new o(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.alea=i}(0,e=n.nmd(e),n.amdD)},7676:(e,t,n)=>{var r=n(9648),a=n(5967),o=n(1069),s=n(1540);e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?a(e)?s(e):r(e):e.match(t)||[]}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8074:()=>{},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8541:(e,t,n)=>{var r=n(9812),a=n(149),o=n(4052),s=n(9841),i=r?r.prototype:void 0,l=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8562:e=>{e.exports.$='"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",data=>onmessage({data:data}));var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8")+"//# sourceURL="+f)},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}var initializedJS=false;var pendingNotifiedProxyingQueues=[];function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"\n");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=(info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onunhandledrejection=e=>{throw e.reason??e};self.startWorker=instance=>{Module=instance;postMessage({"cmd":"loaded"})};self.onmessage=e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;for(const handler of e.data.handlers){Module[handler]=function(){postMessage({cmd:"callHandler",handler:handler,args:[...arguments]})}}Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob=="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module)}else if(e.data.cmd==="run"){Module["__emscripten_thread_init"](e.data.pthread_ptr,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInitTLS();if(!initializedJS){pendingNotifiedProxyingQueues.forEach(queue=>{Module["executeNotifiedProxyingQueue"](queue)});pendingNotifiedProxyingQueues=[];initializedJS=true}try{Module["invokeEntryPoint"](e.data.start_routine,e.data.arg)}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processProxyingQueue"){if(initializedJS){Module["executeNotifiedProxyingQueue"](e.data.queue)}else{pendingNotifiedProxyingQueues.push(e.data.queue)}}else if(e.data.cmd){err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}};'},8590:()=>{},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},9016:function(e,t,n){var r;!function(e,a){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.xorwow=i}(0,e=n.nmd(e),n.amdD)},9421:e=>{e.exports=function(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9538:function(e,t,n){var r;!function(e,a){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=i:n.amdD&&n.amdO?void 0===(r=function(){return i}.call(t,n,t,a))||(a.exports=r):this.xorshift7=i}(0,e=n.nmd(e),n.amdD)},9648:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},9717:(e,t,n)=>{"use strict";var r=n(5043),a=n(9461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=a.useSyncExternalStore,i=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=i(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=u(function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==a&&p.hasValue){var t=p.value;if(a(t,e))return i=t}return i=e}if(t=i,o(s,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(s=e,t):(s=e,i=n)}var s,i,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,a]);var h=s(e,d[0],d[1]);return l(function(){p.hasValue=!0,p.value=h},[h]),c(h),h}},9764:(e,t,n)=>{var r=(()=>{var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(t){function r(){return M.buffer!=P&&V(M.buffer),$}function a(){return M.buffer!=P&&V(M.buffer),L}function o(){return M.buffer!=P&&V(M.buffer),z}function s(){return M.buffer!=P&&V(M.buffer),W}function i(){return M.buffer!=P&&V(M.buffer),B}var l,u,c,d="undefined"!=typeof(t=t||{})?t:{};d.ready=new Promise(function(e,t){l=e,u=t}),"undefined"!==typeof process&&process.listeners&&(c={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var p,h,f,m=Object.assign({},d),g=[],y=(e,t)=>{throw t},v="object"==typeof window,b="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,k=d.ENVIRONMENT_IS_PTHREAD||!1,S="";function x(e){return d.locateFile?d.locateFile(e,S):S+e}if(w){var I=n(9893),_=n(5281);let e;S=b?_.dirname(S)+"/":"//",p=(e,t)=>(e=ie(e)?new URL(e):_.normalize(e),I.readFileSync(e,t?void 0:"utf8")),f=e=>{var t=p(e,!0);return t.buffer||(t=new Uint8Array(t)),t},h=(e,t,n)=>{e=ie(e)?new URL(e):_.normalize(e),I.readFile(e,function(e,r){e?n(e):t(r.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),g=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof ce))throw e}),process.on("unhandledRejection",function(e){throw e}),y=(e,t)=>{if(X())throw process.exitCode=e,t;!function(e){if(e instanceof ce)return;C("exiting due to exception: "+e)}(t),process.exit(e)},d.inspect=function(){return"[Emscripten Module object]"};try{e=n(3556)}catch(Xe){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),Xe}n.g.Worker=e.Worker}else(v||b)&&(b?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),"undefined"!==typeof e&&e&&(S=e),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},b&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),h=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}),e=>document.title=e);w&&"undefined"==typeof performance&&(n.g.performance=n(7244).performance);var E=console.log.bind(console),T=console.warn.bind(console);w&&(E=e=>I.writeSync(1,e+"\n"),T=e=>I.writeSync(2,e+"\n"));var N=d.print||E,C=d.printErr||T;Object.assign(d,m),m=null,d.arguments&&(g=d.arguments),d.thisProgram&&d.thisProgram,d.quit&&(y=d.quit);var A;Atomics.load,Atomics.store,Atomics.compareExchange;d.wasmBinary&&(A=d.wasmBinary);var M,O,R=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&ae("no native wasm support detected");var F,D=!1;var P,$,L,z,W,B,U="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function j(e,t,n){for(var r=(t>>>=0)+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.buffer&&U)return U.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,a):e.subarray(t,a));for(var o="";t<a;){var s=e[t++];if(128&s){var i=63&e[t++];if(192!=(224&s)){var l=63&e[t++];if((s=224==(240&s)?(15&s)<<12|i<<6|l:(7&s)<<18|i<<12|l<<6|63&e[t++])<65536)o+=String.fromCharCode(s);else{var u=s-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&s)<<6|i)}else o+=String.fromCharCode(s)}return o}function H(e,t){return(e>>>=0)?j(a(),e,t):""}function V(e){P=e,d.HEAP8=$=new Int8Array(e),d.HEAP16=new Int16Array(e),d.HEAP32=z=new Int32Array(e),d.HEAPU8=L=new Uint8Array(e),d.HEAPU16=new Uint16Array(e),d.HEAPU32=W=new Uint32Array(e),d.HEAPF32=new Float32Array(e),d.HEAPF64=B=new Float64Array(e)}k&&(P=d.buffer);var q,G=d.INITIAL_MEMORY||16777216;if(k)M=d.wasmMemory,P=d.buffer;else if(d.wasmMemory)M=d.wasmMemory;else if(!((M=new WebAssembly.Memory({initial:G/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw C("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&C("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");M&&(P=M.buffer),G=P.byteLength,V(P);var K=[],Y=[],Q=[];function X(){return R}function J(){k||ge(Y)}function Z(e){K.unshift(e)}function ee(e){Q.unshift(e)}var te=0,ne=null,re=null;function ae(e){d.onAbort&&d.onAbort(e),C(e="Aborted("+e+")"),D=!0,F=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw u(t),t}var oe;function se(e){return e.startsWith("data:application/octet-stream;base64,")}function ie(e){return e.startsWith("file://")}function le(e){try{if(e==oe&&A)return new Uint8Array(A);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}catch(C){ae(C)}}se(oe="tfjs-backend-wasm-threaded-simd.wasm")||(oe=x(oe));var ue={};function ce(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function de(e){var t,n=me.pthreads[e];n||ae(t),me.returnWorkerToPool(n)}function pe(e){var t=me.getNewWorker();if(!t)return 6;me.runningWorkers.push(t),me.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var n={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return t.runPthread=()=>{w&&t.ref(),t.postMessage(n,e.transferList),delete t.runPthread},t.loaded&&t.runPthread(),0}function he(e){if(k)return Ie(1,1,e);F=e,X()||(me.terminateAllThreads(),d.onExit&&d.onExit(e),D=!0),y(e,new ce(e))}var fe=function(e,t){if(F=e,!t&&k)throw ye(e),"unwind";he(e)};var me={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){k?me.initWorker():me.initMainThread()},initMainThread:function(){for(var e=8;e--;)me.allocateUnusedWorker()},initWorker:function(){R=!1},setExitStatus:function(e){F=e},terminateAllThreads:function(){for(var e of Object.values(me.pthreads))me.returnWorkerToPool(e);for(var e of me.unusedWorkers)e.terminate();me.unusedWorkers=[]},returnWorkerToPool:function(e){var t=e.pthread_ptr;delete me.pthreads[t],me.unusedWorkers.push(e),me.runningWorkers.splice(me.runningWorkers.indexOf(e),1),e.pthread_ptr=0,w&&e.unref(),je(t)},receiveObjectTransfer:function(e){},threadInitTLS:function(){me.tlsInitFunctions.forEach(e=>e())},loadWasmModuleToWorker:function(t,n){t.onmessage=e=>{var r,a=e.data,o=a.cmd;if(t.pthread_ptr&&(me.currentProxiedOperationCallerThread=t.pthread_ptr),a.targetThread&&a.targetThread!=ze()){var s=me.pthreads[a.targetThread];return s?s.postMessage(a,a.transferList):C('Internal error! Worker sent a message "'+o+'" to target pthread '+a.targetThread+", but that thread no longer exists!"),void(me.currentProxiedOperationCallerThread=void 0)}"processProxyingQueue"===o?Se(a.queue):"spawnThread"===o?pe(a):"cleanupThread"===o?de(a.thread):"killThread"===o?function(e){var t=me.pthreads[e];delete me.pthreads[e],t.terminate(),je(e),me.runningWorkers.splice(me.runningWorkers.indexOf(t),1),t.pthread_ptr=0}(a.thread):"cancelThread"===o?(r=a.thread,me.pthreads[r].postMessage({cmd:"cancel"})):"loaded"===o?(t.loaded=!0,w&&t.unref(),n&&n(t),t.runPthread&&t.runPthread()):"print"===o?N("Thread "+a.threadId+": "+a.text):"printErr"===o?C("Thread "+a.threadId+": "+a.text):"alert"===o?alert("Thread "+a.threadId+": "+a.text):"setimmediate"===a.target?t.postMessage(a):"callHandler"===o?d[a.handler](...a.args):o&&C("worker sent an unknown command "+o),me.currentProxiedOperationCallerThread=void 0},t.onerror=e=>{throw C("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(t.on("message",function(e){t.onmessage({data:e})}),t.on("error",function(e){t.onerror(e)}),t.on("detachedExit",function(){}));var r=[];for(var a of["onExit","onAbort","print","printErr"])d.hasOwnProperty(a)&&r.push(a);t.postMessage({cmd:"load",handlers:r,urlOrBlob:d.mainScriptUrlOrBlob||e,wasmMemory:M,wasmModule:O})},allocateUnusedWorker:function(){var e,t=x("tfjs-backend-wasm-threaded-simd.worker.js");e=new Worker(t),me.unusedWorkers.push(e)},getNewWorker:function(){return 0==me.unusedWorkers.length&&(me.allocateUnusedWorker(),me.loadWasmModuleToWorker(me.unusedWorkers[0])),me.unusedWorkers.pop()}};function ge(e){for(;e.length>0;)e.shift()(d)}function ye(e){if(k)return Ie(2,0,e);try{fe(e)}catch(Xe){!function(e){if(e instanceof ce||"unwind"==e)return F;y(1,e)}(Xe)}}d.PThread=me,d.establishStackSpace=function(){var e=ze(),t=o()[e+52>>>2],n=o()[e+56>>>2];Ve(t,t-n),Ge(t)};var ve=[];function be(e,t,n,r){return k?Ie(3,1,e,t,n,r):we(e,t,n,r)}function we(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return C("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];if(k&&0===a.length)return be(e,t,n,r);var o={startRoutine:n,pthread_ptr:e,arg:r,transferList:a};return k?(o.cmd="spawnThread",postMessage(o,a),0):pe(o)}d.invokeEntryPoint=function(e,t){var n=function(e){var t=ve[e];return t||(e>=ve.length&&(ve.length=e+1),ve[e]=t=q.get(e)),t}(e)(t);X()?me.setExitStatus(n):He(n)};var ke;function Se(e){Atomics.store(o(),e>>2,1),ze()&&Ue(e),Atomics.compareExchange(o(),e>>2,1,0)}function xe(e){xe.shown||(xe.shown={}),xe.shown[e]||(xe.shown[e]=1,w&&(e="warning: "+e),C(e))}function Ie(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=qe(),n=e();return Ge(t),n}(()=>{for(var a=n,o=Ke(8*a),s=o>>3,l=0;l<n;l++){var u=r[2+l];i()[s+l>>>0]=u}return Be(e,a,o,t)})}d.executeNotifiedProxyingQueue=Se,ke=w?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.timeOrigin+performance.now();var _e=[];function Ee(e){try{return M.grow(e-P.byteLength+65535>>>16),V(M.buffer),1}catch(Xe){}}function Te(e){return k?Ie(4,1,e):52}function Ne(e,t,n,r,a){return k?Ie(5,1,e,t,n,r,a):70}var Ce=[null,[],[]];function Ae(e,t){var n=Ce[e];0===t||10===t?((1===e?N:C)(j(n,0)),n.length=0):n.push(t)}function Me(e,t,n,r){if(k)return Ie(6,1,e,t,n,r);for(var o=0,i=0;i<n;i++){var l=s()[t>>>2],u=s()[t+4>>>2];t+=8;for(var c=0;c<u;c++)Ae(e,a()[l+c>>>0]);o+=u}return s()[r>>>2]=o,0}function Oe(e){return d["_"+e]}function Re(e,t,n,o,s){var i={string:e=>{var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,r){if(!(r>0))return 0;for(var a=n>>>=0,o=n+r-1,s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++s)),i<=127){if(n>=o)break;t[n++>>>0]=i}else if(i<=2047){if(n+1>=o)break;t[n++>>>0]=192|i>>6,t[n++>>>0]=128|63&i}else if(i<=65535){if(n+2>=o)break;t[n++>>>0]=224|i>>12,t[n++>>>0]=128|i>>6&63,t[n++>>>0]=128|63&i}else{if(n+3>=o)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63,t[n++>>>0]=128|i>>6&63,t[n++>>>0]=128|63&i}}t[n>>>0]=0})(e,a(),t,n)})(e,t=Ke(n),n)}return t},array:e=>{var t=Ke(e.length);return function(e,t){r().set(e,t>>>0)}(e,t),t}};var l=Oe(e),u=[],c=0;if(o)for(var d=0;d<o.length;d++){var p=i[n[d]];p?(0===c&&(c=qe()),u[d]=p(o[d])):u[d]=o[d]}var h=l.apply(null,u);return h=function(e){return 0!==c&&Ge(c),function(e){return"string"===t?H(e):"boolean"===t?Boolean(e):e}(e)}(h)}me.init();var Fe,De,Pe,$e=[null,he,ye,be,Te,Ne,Me],Le={__emscripten_init_main_thread_js:function(e){We(e,!b,1,!v),me.threadInitTLS()},__emscripten_thread_cleanup:function(e){k?postMessage({cmd:"cleanupThread",thread:e}):de(e)},__pthread_create_js:we,_emscripten_default_pthread_stack_size:function(){return 65536},_emscripten_get_now_is_monotonic:function(){return true},_emscripten_notify_task_queue:function(e,t,n,r){if(e==t)setTimeout(()=>Se(r));else if(k)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{var a=me.pthreads[e];if(!a)return;a.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},_emscripten_set_offscreencanvas_size:function(e,t,n){return-1},abort:function(){ae("")},emscripten_check_blocking_allowed:function(){w||b||xe("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},emscripten_date_now:function(){return Date.now()},emscripten_get_heap_max:function(){return 4294901760},emscripten_get_now:ke,emscripten_memcpy_big:function(e,t,n){a().copyWithin(e>>>0,t>>>0,t+n>>>0)},emscripten_num_logical_cores:function(){return w?n(8074).cpus().length:navigator.hardwareConcurrency},emscripten_receive_on_main_thread_js:function(e,t,n){_e.length=t;for(var r=n>>3,a=0;a<t;a++)_e[a]=i()[r+a>>>0];return(e<0?ue[-e-1]:$e[e]).apply(null,_e)},emscripten_resize_heap:function(e){var t=a().length;if((e>>>=0)<=t)return!1;var n=4294901760;if(e>n)return!1;let r=(e,t)=>e+(t-e%t)%t;for(var o=1;o<=4;o*=2){var s=t*(1+.2/o);if(s=Math.min(s,e+100663296),Ee(Math.min(n,r(Math.max(e,s),65536))))return!0}return!1},emscripten_unwind_to_js_event_loop:function(){throw"unwind"},exit:fe,fd_close:Te,fd_seek:Ne,fd_write:Me,memory:M||d.wasmMemory},ze=(function(){var e={env:Le,wasi_snapshot_preview1:Le};function t(e,t){var n,r,a=e.exports;if(d.asm=a,n=d.asm._emscripten_tls_init,me.tlsInitFunctions.push(n),q=d.asm.__indirect_function_table,r=d.asm.__wasm_call_ctors,Y.unshift(r),O=t,!k){var o=me.unusedWorkers.length;me.unusedWorkers.forEach(function(e){me.loadWasmModuleToWorker(e,function(){--o||function(){if(te--,d.monitorRunDependencies&&d.monitorRunDependencies(te),0==te&&(null!==ne&&(clearInterval(ne),ne=null),re)){var e=re;re=null,e()}}()})})}}function n(e){t(e.instance,e.module)}function r(t){return function(){if(!A&&(v||b)){if("function"==typeof fetch&&!ie(oe))return fetch(oe,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+oe+"'";return e.arrayBuffer()}).catch(function(){return le(oe)});if(h)return new Promise(function(e,t){h(oe,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return le(oe)})}().then(function(t){return WebAssembly.instantiate(t,e)}).then(function(e){return e}).then(t,function(e){C("failed to asynchronously prepare wasm: "+e),ae(e)})}if(k||(te++,d.monitorRunDependencies&&d.monitorRunDependencies(te)),d.instantiateWasm)try{return d.instantiateWasm(e,t)}catch(Xe){C("Module.instantiateWasm callback failed with error: "+Xe),u(Xe)}(A||"function"!=typeof WebAssembly.instantiateStreaming||se(oe)||ie(oe)||w||"function"!=typeof fetch?r(n):fetch(oe,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(n,function(e){return C("wasm streaming compile failed: "+e),C("falling back to ArrayBuffer instantiation"),r(n)})})).catch(u)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.__wasm_call_ctors).apply(null,arguments)},d._init=function(){return(d._init=d.asm.init).apply(null,arguments)},d._init_with_threads_count=function(){return(d._init_with_threads_count=d.asm.init_with_threads_count).apply(null,arguments)},d._get_threads_count=function(){return(d._get_threads_count=d.asm.get_threads_count).apply(null,arguments)},d._register_tensor=function(){return(d._register_tensor=d.asm.register_tensor).apply(null,arguments)},d._dispose_data=function(){return(d._dispose_data=d.asm.dispose_data).apply(null,arguments)},d._dispose=function(){return(d._dispose=d.asm.dispose).apply(null,arguments)},d._Abs=function(){return(d._Abs=d.asm.Abs).apply(null,arguments)},d._Acos=function(){return(d._Acos=d.asm.Acos).apply(null,arguments)},d._Acosh=function(){return(d._Acosh=d.asm.Acosh).apply(null,arguments)},d._Add=function(){return(d._Add=d.asm.Add).apply(null,arguments)},d._AddN=function(){return(d._AddN=d.asm.AddN).apply(null,arguments)},d._All=function(){return(d._All=d.asm.All).apply(null,arguments)},d._Any=function(){return(d._Any=d.asm.Any).apply(null,arguments)},d._ArgMax=function(){return(d._ArgMax=d.asm.ArgMax).apply(null,arguments)},d._ArgMin=function(){return(d._ArgMin=d.asm.ArgMin).apply(null,arguments)},d._Asin=function(){return(d._Asin=d.asm.Asin).apply(null,arguments)},d._Asinh=function(){return(d._Asinh=d.asm.Asinh).apply(null,arguments)},d._Atan=function(){return(d._Atan=d.asm.Atan).apply(null,arguments)},d._Atan2=function(){return(d._Atan2=d.asm.Atan2).apply(null,arguments)},d._Atanh=function(){return(d._Atanh=d.asm.Atanh).apply(null,arguments)},d._AvgPool=function(){return(d._AvgPool=d.asm.AvgPool).apply(null,arguments)},d._AvgPool3D=function(){return(d._AvgPool3D=d.asm.AvgPool3D).apply(null,arguments)},d._AvgPool3DGrad=function(){return(d._AvgPool3DGrad=d.asm.AvgPool3DGrad).apply(null,arguments)},d._AvgPoolGrad=function(){return(d._AvgPoolGrad=d.asm.AvgPoolGrad).apply(null,arguments)},d._BatchMatMul=function(){return(d._BatchMatMul=d.asm.BatchMatMul).apply(null,arguments)},d._Bincount=function(){return(d._Bincount=d.asm.Bincount).apply(null,arguments)},d._BitwiseAnd=function(){return(d._BitwiseAnd=d.asm.BitwiseAnd).apply(null,arguments)},d._Ceil=function(){return(d._Ceil=d.asm.Ceil).apply(null,arguments)},d._ClipByValue=function(){return(d._ClipByValue=d.asm.ClipByValue).apply(null,arguments)},d._Conv2D=function(){return(d._Conv2D=d.asm.Conv2D).apply(null,arguments)},d._Conv2DBackpropInput=function(){return(d._Conv2DBackpropInput=d.asm.Conv2DBackpropInput).apply(null,arguments)},d._Conv3D=function(){return(d._Conv3D=d.asm.Conv3D).apply(null,arguments)},d._Conv3DBackpropFilterV2=function(){return(d._Conv3DBackpropFilterV2=d.asm.Conv3DBackpropFilterV2).apply(null,arguments)},d._Conv3DBackpropInputV2=function(){return(d._Conv3DBackpropInputV2=d.asm.Conv3DBackpropInputV2).apply(null,arguments)},d._Cos=function(){return(d._Cos=d.asm.Cos).apply(null,arguments)},d._Cosh=function(){return(d._Cosh=d.asm.Cosh).apply(null,arguments)},d._CropAndResize=function(){return(d._CropAndResize=d.asm.CropAndResize).apply(null,arguments)},d._Cumprod=function(){return(d._Cumprod=d.asm.Cumprod).apply(null,arguments)},d._Cumsum=function(){return(d._Cumsum=d.asm.Cumsum).apply(null,arguments)},d._DenseBincount=function(){return(d._DenseBincount=d.asm.DenseBincount).apply(null,arguments)},d._DepthToSpace=function(){return(d._DepthToSpace=d.asm.DepthToSpace).apply(null,arguments)},d._DepthwiseConv2dNative=function(){return(d._DepthwiseConv2dNative=d.asm.DepthwiseConv2dNative).apply(null,arguments)},d._Diag=function(){return(d._Diag=d.asm.Diag).apply(null,arguments)},d._Dilation2D=function(){return(d._Dilation2D=d.asm.Dilation2D).apply(null,arguments)},d._Dilation2DBackpropFilter=function(){return(d._Dilation2DBackpropFilter=d.asm.Dilation2DBackpropFilter).apply(null,arguments)},d._Dilation2DBackpropInput=function(){return(d._Dilation2DBackpropInput=d.asm.Dilation2DBackpropInput).apply(null,arguments)},d._Elu=function(){return(d._Elu=d.asm.Elu).apply(null,arguments)},d._EluGrad=function(){return(d._EluGrad=d.asm.EluGrad).apply(null,arguments)},d._Equal=function(){return(d._Equal=d.asm.Equal).apply(null,arguments)},d._Erf=function(){return(d._Erf=d.asm.Erf).apply(null,arguments)},d._Exp=function(){return(d._Exp=d.asm.Exp).apply(null,arguments)},d._Expm1=function(){return(d._Expm1=d.asm.Expm1).apply(null,arguments)},d._FlipLeftRight=function(){return(d._FlipLeftRight=d.asm.FlipLeftRight).apply(null,arguments)},d._Floor=function(){return(d._Floor=d.asm.Floor).apply(null,arguments)},d._FloorDiv=function(){return(d._FloorDiv=d.asm.FloorDiv).apply(null,arguments)},d._FusedBatchNorm=function(){return(d._FusedBatchNorm=d.asm.FusedBatchNorm).apply(null,arguments)},d._FusedConv2D=function(){return(d._FusedConv2D=d.asm.FusedConv2D).apply(null,arguments)},d._FusedDepthwiseConv2D=function(){return(d._FusedDepthwiseConv2D=d.asm.FusedDepthwiseConv2D).apply(null,arguments)},d._Gather=function(){return(d._Gather=d.asm.Gather).apply(null,arguments)},d._GatherNd=function(){return(d._GatherNd=d.asm.GatherNd).apply(null,arguments)},d._Greater=function(){return(d._Greater=d.asm.Greater).apply(null,arguments)},d._GreaterEqual=function(){return(d._GreaterEqual=d.asm.GreaterEqual).apply(null,arguments)},d._IsFinite=function(){return(d._IsFinite=d.asm.IsFinite).apply(null,arguments)},d._IsInf=function(){return(d._IsInf=d.asm.IsInf).apply(null,arguments)},d._IsNan=function(){return(d._IsNan=d.asm.IsNan).apply(null,arguments)},d._LRN=function(){return(d._LRN=d.asm.LRN).apply(null,arguments)},d._LRNGrad=function(){return(d._LRNGrad=d.asm.LRNGrad).apply(null,arguments)},d._LeakyRelu=function(){return(d._LeakyRelu=d.asm.LeakyRelu).apply(null,arguments)},d._Less=function(){return(d._Less=d.asm.Less).apply(null,arguments)},d._LessEqual=function(){return(d._LessEqual=d.asm.LessEqual).apply(null,arguments)},d._LinSpace=function(){return(d._LinSpace=d.asm.LinSpace).apply(null,arguments)},d._Log=function(){return(d._Log=d.asm.Log).apply(null,arguments)},d._Log1p=function(){return(d._Log1p=d.asm.Log1p).apply(null,arguments)},d._LogicalAnd=function(){return(d._LogicalAnd=d.asm.LogicalAnd).apply(null,arguments)},d._LogicalNot=function(){return(d._LogicalNot=d.asm.LogicalNot).apply(null,arguments)},d._LogicalOr=function(){return(d._LogicalOr=d.asm.LogicalOr).apply(null,arguments)},d._LogicalXor=function(){return(d._LogicalXor=d.asm.LogicalXor).apply(null,arguments)},d._Max=function(){return(d._Max=d.asm.Max).apply(null,arguments)},d._MaxPool=function(){return(d._MaxPool=d.asm.MaxPool).apply(null,arguments)},d._MaxPool3D=function(){return(d._MaxPool3D=d.asm.MaxPool3D).apply(null,arguments)},d._MaxPool3DGrad=function(){return(d._MaxPool3DGrad=d.asm.MaxPool3DGrad).apply(null,arguments)},d._MaxPoolGrad=function(){return(d._MaxPoolGrad=d.asm.MaxPoolGrad).apply(null,arguments)},d._MaxPoolWithArgmax=function(){return(d._MaxPoolWithArgmax=d.asm.MaxPoolWithArgmax).apply(null,arguments)},d._Maximum=function(){return(d._Maximum=d.asm.Maximum).apply(null,arguments)},d._Mean=function(){return(d._Mean=d.asm.Mean).apply(null,arguments)},d._Min=function(){return(d._Min=d.asm.Min).apply(null,arguments)},d._Minimum=function(){return(d._Minimum=d.asm.Minimum).apply(null,arguments)},d._MirrorPad=function(){return(d._MirrorPad=d.asm.MirrorPad).apply(null,arguments)},d._Mod=function(){return(d._Mod=d.asm.Mod).apply(null,arguments)},d._Multinomial=function(){return(d._Multinomial=d.asm.Multinomial).apply(null,arguments)},d._Multiply=function(){return(d._Multiply=d.asm.Multiply).apply(null,arguments)},d._Neg=function(){return(d._Neg=d.asm.Neg).apply(null,arguments)},d._NonMaxSuppressionV3=function(){return(d._NonMaxSuppressionV3=d.asm.NonMaxSuppressionV3).apply(null,arguments)},d._NonMaxSuppressionV4=function(){return(d._NonMaxSuppressionV4=d.asm.NonMaxSuppressionV4).apply(null,arguments)},d._NonMaxSuppressionV5=function(){return(d._NonMaxSuppressionV5=d.asm.NonMaxSuppressionV5).apply(null,arguments)},d._NotEqual=function(){return(d._NotEqual=d.asm.NotEqual).apply(null,arguments)},d._OneHot=function(){return(d._OneHot=d.asm.OneHot).apply(null,arguments)},d._PadV2=function(){return(d._PadV2=d.asm.PadV2).apply(null,arguments)},d._Pow=function(){return(d._Pow=d.asm.Pow).apply(null,arguments)},d._Prelu=function(){return(d._Prelu=d.asm.Prelu).apply(null,arguments)},d._Prod=function(){return(d._Prod=d.asm.Prod).apply(null,arguments)},d._RealDiv=function(){return(d._RealDiv=d.asm.RealDiv).apply(null,arguments)},d._Reciprocal=function(){return(d._Reciprocal=d.asm.Reciprocal).apply(null,arguments)},d._Relu=function(){return(d._Relu=d.asm.Relu).apply(null,arguments)},d._Relu6=function(){return(d._Relu6=d.asm.Relu6).apply(null,arguments)},d._ResizeBilinear=function(){return(d._ResizeBilinear=d.asm.ResizeBilinear).apply(null,arguments)},d._ResizeBilinearGrad=function(){return(d._ResizeBilinearGrad=d.asm.ResizeBilinearGrad).apply(null,arguments)},d._ResizeNearestNeighbor=function(){return(d._ResizeNearestNeighbor=d.asm.ResizeNearestNeighbor).apply(null,arguments)},d._ResizeNearestNeighborGrad=function(){return(d._ResizeNearestNeighborGrad=d.asm.ResizeNearestNeighborGrad).apply(null,arguments)},d._Reverse=function(){return(d._Reverse=d.asm.Reverse).apply(null,arguments)},d._RotateWithOffset=function(){return(d._RotateWithOffset=d.asm.RotateWithOffset).apply(null,arguments)},d._Round=function(){return(d._Round=d.asm.Round).apply(null,arguments)},d._Rsqrt=function(){return(d._Rsqrt=d.asm.Rsqrt).apply(null,arguments)},d._ScatterNd=function(){return(d._ScatterNd=d.asm.ScatterNd).apply(null,arguments)},d._SearchSorted=function(){return(d._SearchSorted=d.asm.SearchSorted).apply(null,arguments)},d._SelectV2=function(){return(d._SelectV2=d.asm.SelectV2).apply(null,arguments)},d._Selu=function(){return(d._Selu=d.asm.Selu).apply(null,arguments)},d._Sigmoid=function(){return(d._Sigmoid=d.asm.Sigmoid).apply(null,arguments)},d._Sign=function(){return(d._Sign=d.asm.Sign).apply(null,arguments)},d._Sin=function(){return(d._Sin=d.asm.Sin).apply(null,arguments)},d._Sinh=function(){return(d._Sinh=d.asm.Sinh).apply(null,arguments)},d._Softmax=function(){return(d._Softmax=d.asm.Softmax).apply(null,arguments)},d._Softplus=function(){return(d._Softplus=d.asm.Softplus).apply(null,arguments)},d._SparseFillEmptyRows=function(){return(d._SparseFillEmptyRows=d.asm.SparseFillEmptyRows).apply(null,arguments)},d._SparseReshape=function(){return(d._SparseReshape=d.asm.SparseReshape).apply(null,arguments)},d._SparseSegmentReduction=function(){return(d._SparseSegmentReduction=d.asm.SparseSegmentReduction).apply(null,arguments)},d._SparseToDense=function(){return(d._SparseToDense=d.asm.SparseToDense).apply(null,arguments)},d._Sqrt=function(){return(d._Sqrt=d.asm.Sqrt).apply(null,arguments)},d._Square=function(){return(d._Square=d.asm.Square).apply(null,arguments)},d._SquaredDifference=function(){return(d._SquaredDifference=d.asm.SquaredDifference).apply(null,arguments)},d._Step=function(){return(d._Step=d.asm.Step).apply(null,arguments)},d._StridedSlice=function(){return(d._StridedSlice=d.asm.StridedSlice).apply(null,arguments)},d._Sub=function(){return(d._Sub=d.asm.Sub).apply(null,arguments)},d._Sum=function(){return(d._Sum=d.asm.Sum).apply(null,arguments)},d._Tan=function(){return(d._Tan=d.asm.Tan).apply(null,arguments)},d._Tanh=function(){return(d._Tanh=d.asm.Tanh).apply(null,arguments)},d._TensorScatterUpdate=function(){return(d._TensorScatterUpdate=d.asm.TensorScatterUpdate).apply(null,arguments)},d._Tile=function(){return(d._Tile=d.asm.Tile).apply(null,arguments)},d._TopK=function(){return(d._TopK=d.asm.TopK).apply(null,arguments)},d._Transform=function(){return(d._Transform=d.asm.Transform).apply(null,arguments)},d._Transpose=function(){return(d._Transpose=d.asm.Transpose).apply(null,arguments)},d.__FusedMatMul=function(){return(d.__FusedMatMul=d.asm._FusedMatMul).apply(null,arguments)},d._malloc=function(){return(d._malloc=d.asm.malloc).apply(null,arguments)},d._free=function(){return(d._free=d.asm.free).apply(null,arguments)},d.__emscripten_tls_init=function(){return(d.__emscripten_tls_init=d.asm._emscripten_tls_init).apply(null,arguments)},d._pthread_self=function(){return(ze=d._pthread_self=d.asm.pthread_self).apply(null,arguments)}),We=(d.___errno_location=function(){return(d.___errno_location=d.asm.__errno_location).apply(null,arguments)},d.__emscripten_thread_init=function(){return(We=d.__emscripten_thread_init=d.asm._emscripten_thread_init).apply(null,arguments)}),Be=(d.__emscripten_thread_crashed=function(){return(d.__emscripten_thread_crashed=d.asm._emscripten_thread_crashed).apply(null,arguments)},d._emscripten_main_thread_process_queued_calls=function(){return(d._emscripten_main_thread_process_queued_calls=d.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},d._emscripten_main_browser_thread_id=function(){return(d._emscripten_main_browser_thread_id=d.asm.emscripten_main_browser_thread_id).apply(null,arguments)},d._emscripten_run_in_main_runtime_thread_js=function(){return(Be=d._emscripten_run_in_main_runtime_thread_js=d.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)}),Ue=(d._emscripten_dispatch_to_thread_=function(){return(d._emscripten_dispatch_to_thread_=d.asm.emscripten_dispatch_to_thread_).apply(null,arguments)},d.__emscripten_proxy_execute_task_queue=function(){return(Ue=d.__emscripten_proxy_execute_task_queue=d.asm._emscripten_proxy_execute_task_queue).apply(null,arguments)}),je=d.__emscripten_thread_free_data=function(){return(je=d.__emscripten_thread_free_data=d.asm._emscripten_thread_free_data).apply(null,arguments)},He=d.__emscripten_thread_exit=function(){return(He=d.__emscripten_thread_exit=d.asm._emscripten_thread_exit).apply(null,arguments)},Ve=d._emscripten_stack_set_limits=function(){return(Ve=d._emscripten_stack_set_limits=d.asm.emscripten_stack_set_limits).apply(null,arguments)},qe=d.stackSave=function(){return(qe=d.stackSave=d.asm.stackSave).apply(null,arguments)},Ge=d.stackRestore=function(){return(Ge=d.stackRestore=d.asm.stackRestore).apply(null,arguments)},Ke=d.stackAlloc=function(){return(Ke=d.stackAlloc=d.asm.stackAlloc).apply(null,arguments)};d.dynCall_iijjiiii=function(){return(d.dynCall_iijjiiii=d.asm.dynCall_iijjiiii).apply(null,arguments)},d.dynCall_jiji=function(){return(d.dynCall_jiji=d.asm.dynCall_jiji).apply(null,arguments)};function Ye(e){if(e=e||g,!(te>0)){if(k)return l(d),J(),void startWorker(d);!function(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)Z(d.preRun.shift());ge(K)}(),te>0||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),t()},1)):t())}function t(){Fe||(Fe=!0,d.calledRun=!0,D||(J(),l(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),function(){if(!k){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)ee(d.postRun.shift());ge(Q)}}()))}}if(d.keepRuntimeAlive=X,d.wasmMemory=M,d.cwrap=function(e,t,n,r){var a=(n=n||[]).every(e=>"number"===e||"boolean"===e);return"string"!==t&&a&&!r?Oe(e):function(){return Re(e,t,n,arguments)}},d.ExitStatus=ce,d.PThread=me,re=function e(){Fe||Ye(),Fe||(re=e)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();if(Ye(),c&&(De={uncaughtException:process.listeners("uncaughtException").filter(function(e){return!c.uncaughtException.indexOf(e)>-1}),unhandledRejection:process.listeners("unhandledRejection").filter(function(e){return!c.unhandledRejection.indexOf(e)>-1})}),"undefined"!==typeof WasmBackendModule)Pe=WasmBackendModule;else{if("undefined"===typeof t)throw new Error("Could not find wasm module in post.js");Pe=t}if(De){var Qe=Pe._dispose;Pe._dispose=function(){Qe(),De.uncaughtException.forEach(function(e){process.removeListener("uncaughtException",e)}),De.unhandledRejection.forEach(function(e){process.removeListener("unhandledRejection",e)})}}return t.ready}})();e.exports=r},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9893:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".08e7e3b1.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="liveness-react:";n.l=(r,a,o,s)=>{if(e[r])e[r].push(a);else{var i,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){i=d;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+o),i.src=r),e[r]=[a];var p=(t,n)=>{i.onerror=i.onload=null,clearTimeout(h);var a=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach(e=>e(n)),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/react-app/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=o);var s=n.p+n.u(t),i=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,a[1](i)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,o,s=r[0],i=r[1],l=r[2],u=0;if(s.some(t=>0!==e[t])){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)l(n)}for(t&&t(r);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkliveness_react=self.webpackChunkliveness_react||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{CompositeArrayBuffer:()=>_l,browserFiles:()=>ic,browserHTTPRequest:()=>gc,concatenateArrayBuffers:()=>Ol,copyModel:()=>vu,decodeWeights:()=>Nl,encodeWeights:()=>Tl,fromMemory:()=>wc,fromMemorySync:()=>kc,getLoadHandlers:()=>Hl,getModelArtifactsForJSON:()=>Pl,getModelArtifactsForJSONSync:()=>Dl,getModelArtifactsInfoForJSON:()=>$l,getSaveHandlers:()=>jl,getWeightSpecs:()=>Ll,http:()=>mc,isHTTPScheme:()=>hc,listModels:()=>gu,loadWeights:()=>cc,moveModel:()=>bu,registerLoadRouter:()=>Ul,registerSaveRouter:()=>Bl,removeModel:()=>yu,weightsLoaderFactory:()=>dc,withSaveHandler:()=>Sc,withSaveHandlerSync:()=>xc});var t={};n.r(t),n.d(t,{conv2d:()=>Kf,depthwiseConv2d:()=>Xf,matMul:()=>Jf});var r={};n.r(r),n.d(r,{json:()=>Kg});var a={};n.r(a),n.d(a,{json:()=>Yg});var o={};n.r(o),n.d(o,{json:()=>Qg});var s={};n.r(s),n.d(s,{json:()=>Xg});var i={};n.r(i),n.d(i,{json:()=>Jg});var l={};n.r(l),n.d(l,{json:()=>Zg});var u={};n.r(u),n.d(u,{json:()=>ey});var c={};n.r(c),n.d(c,{json:()=>ty});var d={};n.r(d),n.d(d,{json:()=>ny});var p={};n.r(p),n.d(p,{json:()=>ry});var h={};n.r(h),n.d(h,{json:()=>ay});var f={};n.r(f),n.d(f,{json:()=>oy});var m={};n.r(m),n.d(m,{json:()=>sy});var g={};n.r(g),n.d(g,{json:()=>iy});var y={};n.r(y),n.d(y,{json:()=>ly});var v={};n.r(v),n.d(v,{json:()=>uy});var b={};n.r(b),n.d(b,{json:()=>cy});var w={};n.r(w),n.d(w,{json:()=>dy});var k={};n.r(k),n.d(k,{json:()=>py});var S={};n.r(S),n.d(S,{OP_SCOPE_SUFFIX:()=>bl,abs:()=>Ju,acos:()=>Wc,acosh:()=>Bc,add:()=>Fu,addN:()=>Uc,all:()=>jc,any:()=>Hc,argMax:()=>Vc,argMin:()=>qc,asin:()=>Gc,asinh:()=>Kc,atan:()=>Yc,atan2:()=>Qc,atanh:()=>Xc,avgPool:()=>fd,avgPool3d:()=>md,basicLSTMCell:()=>kd,batchNorm:()=>xd,batchNorm2d:()=>Id,batchNorm3d:()=>_d,batchNorm4d:()=>Ed,batchToSpaceND:()=>Sd,bincount:()=>Td,bitwiseAnd:()=>Nd,booleanMaskAsync:()=>Rf,broadcastArgs:()=>Cd,broadcastTo:()=>Ad,buffer:()=>Iu,cast:()=>_u,ceil:()=>Md,clipByValue:()=>Od,clone:()=>Eu,complex:()=>kl,concat:()=>gd,concat1d:()=>Rd,concat2d:()=>Fd,concat3d:()=>Dd,concat4d:()=>Pd,conv1d:()=>Ld,conv2d:()=>$d,conv2dTranspose:()=>Wd,conv3d:()=>Bd,conv3dTranspose:()=>jd,cos:()=>Hd,cosh:()=>Vd,cosineWindow:()=>Bf,cumprod:()=>qd,cumsum:()=>Gd,denseBincount:()=>Kd,depthToSpace:()=>Yd,depthwiseConv2d:()=>Qd,diag:()=>Xd,dilation2d:()=>Jd,div:()=>Pu,divNoNan:()=>tp,dot:()=>np,dropout:()=>zf,einsum:()=>rp,elu:()=>ap,enclosingPowerOfTwo:()=>Wf,ensureShape:()=>op,equal:()=>Zd,erf:()=>sp,euclideanNorm:()=>bp,exp:()=>wp,expandDims:()=>kp,expm1:()=>Sp,eye:()=>Ip,fft:()=>sf,fill:()=>Yu,floor:()=>_p,floorDiv:()=>Du,fused:()=>t,gather:()=>Ep,gatherND:()=>Lf,greater:()=>Tp,greaterEqual:()=>Np,ifft:()=>lf,imag:()=>Cp,image:()=>Jm,inTopKAsync:()=>Uf,irfft:()=>uf,isFinite:()=>Ap,isInf:()=>Mp,isNaN:()=>Op,leakyRelu:()=>Rp,less:()=>Fp,lessEqual:()=>Dp,linalg:()=>Zm,linspace:()=>Pp,localResponseNormalization:()=>$p,log:()=>Lp,log1p:()=>zp,logSigmoid:()=>Up,logSoftmax:()=>jp,logSumExp:()=>Hp,logicalAnd:()=>Vp,logicalNot:()=>qp,logicalOr:()=>Gp,logicalXor:()=>Kp,losses:()=>eg,lowerBound:()=>Xp,matMul:()=>yd,max:()=>fp,maxPool:()=>Jp,maxPool3d:()=>Zp,maxPoolWithArgmax:()=>eh,maximum:()=>tc,mean:()=>th,meshgrid:()=>ah,min:()=>mp,minimum:()=>oh,mirrorPad:()=>sh,mod:()=>ih,moments:()=>lh,movingAverage:()=>Df,mul:()=>$u,multiRNNCell:()=>uh,multinomial:()=>ch,neg:()=>Wp,norm:()=>vp,notEqual:()=>dh,oneHot:()=>ph,ones:()=>rh,onesLike:()=>hh,op:()=>wl,outerProduct:()=>fh,pad:()=>mh,pad1d:()=>gh,pad2d:()=>yh,pad3d:()=>vh,pad4d:()=>bh,pool:()=>kh,pow:()=>Qu,prelu:()=>Sh,print:()=>Tu,prod:()=>xh,raggedGather:()=>Ih,raggedRange:()=>_h,raggedTensorToTensor:()=>Eh,rand:()=>Th,randomGamma:()=>Oh,randomNormal:()=>Rh,randomStandardNormal:()=>Fh,randomUniform:()=>Dh,randomUniformInt:()=>Ph,range:()=>$h,real:()=>Lh,reciprocal:()=>zh,relu:()=>Wh,relu6:()=>Bh,reshape:()=>hd,reverse:()=>Uh,reverse1d:()=>jh,reverse2d:()=>Hh,reverse3d:()=>Vh,reverse4d:()=>qh,rfft:()=>df,round:()=>Gh,rsqrt:()=>Kh,scalar:()=>Uu,scatterND:()=>Pf,searchSorted:()=>Qp,selu:()=>Yh,separableConv2d:()=>Qh,setdiff1dAsync:()=>Xh,sigmoid:()=>vd,sign:()=>Jh,signal:()=>Xm,sin:()=>Zh,sinh:()=>ef,slice:()=>bd,slice1d:()=>tf,slice2d:()=>nf,slice3d:()=>rf,slice4d:()=>af,softmax:()=>of,softplus:()=>Bp,spaceToBatchND:()=>wh,sparse:()=>tg,sparseToDense:()=>$f,spectral:()=>Qm,split:()=>cf,sqrt:()=>Lu,square:()=>zu,squaredDifference:()=>pf,squeeze:()=>hf,stack:()=>ff,step:()=>mf,stridedSlice:()=>gf,string:()=>ng,sub:()=>Xu,sum:()=>gp,tan:()=>yf,tanh:()=>wd,tensor:()=>xl,tensor1d:()=>vf,tensor2d:()=>bf,tensor3d:()=>Ic,tensor4d:()=>wf,tensor5d:()=>kf,tensor6d:()=>Sf,tensorScatterUpdate:()=>xf,tile:()=>xp,topk:()=>If,transpose:()=>Ff,truncatedNormal:()=>_f,unique:()=>Ef,unsortedSegmentSum:()=>Tf,unstack:()=>Nf,upperBound:()=>Cf,variable:()=>Af,where:()=>ep,whereAsync:()=>Of,zeros:()=>nh,zerosLike:()=>Wu});var x=n(5043),I=n.t(x,2),_=n(4391),E=n(579);var T;!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"}(T||(T={}));const N={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class C{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.WARN;this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){const e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e?(this._config=e,this._config):this._config}_log(e){let t=this.level;C.LOG_LEVEL&&(t=C.LOG_LEVEL),"undefined"!==typeof window&&window.LOG_LEVEL&&(t=window.LOG_LEVEL);if(!(N[e]>=N[t]))return;let n=console.log.bind(console);e===T.ERROR&&console.error&&(n=console.error.bind(console)),e===T.WARN&&console.warn&&(n=console.warn.bind(console)),C.BIND_ALL_LOG_LEVELS&&(e===T.INFO&&console.info&&(n=console.info.bind(console)),e===T.DEBUG&&console.debug&&(n=console.debug.bind(console)));const r=`[${e}] ${this._ts()} ${this.name}`;let a="";for(var o=arguments.length,s=new Array(o>1?o-1:0),i=1;i<o;i++)s[i-1]=arguments[i];if(1===s.length&&"string"===typeof s[0])a=`${r} - ${s[0]}`,n(a);else if(1===s.length)a=`${r} ${s[0]}`,n(r,s[0]);else if("string"===typeof s[0]){let e=s.slice(1);1===e.length&&(e=e[0]),a=`${r} - ${s[0]} ${e}`,n(`${r} - ${s[0]}`,e)}else a=`${r} ${s}`,n(r,s);for(const l of this._pluggables){const e={message:a,timestamp:Date.now()};l.pushLogs([e])}}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(T.INFO,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(T.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(T.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(T.ERROR,...t)}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(T.DEBUG,...t)}verbose(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(T.VERBOSE,...t)}addPluggable(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}C.LOG_LEVEL=null,C.BIND_ALL_LOG_LEVELS=!1;class A extends Error{constructor(e){let{message:t,name:n,recoverySuggestion:r,underlyingError:a,metadata:o}=e;if(super(t),this.name=n,this.underlyingError=a,this.recoverySuggestion=r,o){const{extendedRequestId:e,httpStatusCode:t,requestId:n}=o;this.metadata={extendedRequestId:e,httpStatusCode:t,requestId:n}}this.constructor=A,Object.setPrototypeOf(this,A.prototype)}}const M="undefined"!==typeof Symbol?Symbol("amplify_default"):"@@amplify_default",O=new C("Hub");class R{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,t){const n=this.listeners.get(e);n?this.listeners.set(e,[...n.filter(e=>{let{callback:n}=e;return n!==t})]):O.warn(`No listeners for ${e}`)}dispatch(e,t,n,r){if("string"===typeof e&&this.protectedChannels.indexOf(e)>-1){r===M||O.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`)}const a={channel:e,payload:{...t},source:n,patternInfo:[]};try{this._toListeners(a)}catch(fP){O.error(fP)}}listen(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"noname";if("function"!==typeof t)throw new A({name:"NoHubcallbackProvidedException",message:"No callback supplied to Hub"});n=t;let a=this.listeners.get(e);return a||(a=[],this.listeners.set(e,a)),a.push({name:r,callback:n}),()=>{this._remove(e,n)}}_toListeners(e){const{channel:t,payload:n}=e,r=this.listeners.get(t);r&&r.forEach(r=>{O.debug(`Dispatching to ${t} with `,n);try{r.callback(e)}catch(fP){O.error(fP)}})}}const F=new R("__default__"),D=(new R("internal-hub"),e=>{const t=Reflect.ownKeys(e);for(const n of t){const t=e[n];(t&&"object"===typeof t||"function"===typeof t)&&D(t)}return Object.freeze(e)}),P=Symbol("oauth-listener"),$=new C("parseAWSExports"),L={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},z=e=>e?.split(",")??[],W=e=>{let{domain:t,scope:n,redirectSignIn:r,redirectSignOut:a,responseType:o}=e;return{domain:t,scopes:n,redirectSignIn:z(r),redirectSignOut:z(a),responseType:o}},B=e=>e.map(e=>{const t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)});function U(e){const t={};if(e.storage&&(t.Storage=function(e){if(!e)return;const{bucket_name:t,aws_region:n,buckets:r}=e;return{S3:{bucket:t,region:n,buckets:r&&K(r)}}}(e.storage)),e.auth&&(t.Auth=function(e){if(!e)return;const{user_pool_id:t,user_pool_client_id:n,identity_pool_id:r,password_policy:a,mfa_configuration:o,mfa_methods:s,unauthenticated_identities_enabled:i,oauth:l,username_attributes:u,standard_required_attributes:c,groups:d}=e,p={Cognito:{userPoolId:t,userPoolClientId:n,groups:d}};return r&&(p.Cognito={...p.Cognito,identityPoolId:r}),a&&(p.Cognito.passwordFormat={requireLowercase:a.require_lowercase,requireNumbers:a.require_numbers,requireUppercase:a.require_uppercase,requireSpecialCharacters:a.require_symbols,minLength:a.min_length??6}),o&&(p.Cognito.mfa={status:G(o),smsEnabled:s?.includes("SMS"),totpEnabled:s?.includes("TOTP")}),i&&(p.Cognito.allowGuestAccess=i),l&&(p.Cognito.loginWith={oauth:{domain:l.domain,redirectSignIn:l.redirect_sign_in_uri,redirectSignOut:l.redirect_sign_out_uri,responseType:"token"===l.response_type?"token":"code",scopes:l.scopes,providers:q(l.identity_providers)}}),u&&(p.Cognito.loginWith={...p.Cognito.loginWith,email:u.includes("email"),phone:u.includes("phone_number"),username:u.includes("username")}),c&&(p.Cognito.userAttributes=c.reduce((e,t)=>({...e,[t]:{required:!0}}),{})),p}(e.auth)),e.analytics&&(t.Analytics=function(e){if(!e?.amazon_pinpoint)return;const{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}(e.analytics)),e.geo&&(t.Geo=function(e){if(!e)return;const{aws_region:t,geofence_collections:n,maps:r,search_indices:a}=e;return{LocationService:{region:t,searchIndices:a,geofenceCollections:n,maps:r}}}(e.geo)),e.data&&(t.API=function(e){if(!e)return;const{aws_region:t,default_authorization_type:n,url:r,api_key:a,model_introspection:o}=e;return{GraphQL:{endpoint:r,defaultAuthMode:H(n),region:t,apiKey:a,modelIntrospection:o}}}(e.data)),e.custom){const n=function(e){if(!e?.events)return;const{url:t,aws_region:n,api_key:r,default_authorization_type:a}=e.events;return{Events:{endpoint:t,defaultAuthMode:H(a),region:n,apiKey:r}}}(e.custom);n&&"Events"in n&&(t.API={...t.API,...n})}return e.notifications&&(t.Notifications=function(e){if(!e)return;const{aws_region:t,channels:n,amazon_pinpoint_app_id:r}=e,a=n.includes("IN_APP_MESSAGING"),o=n.includes("APNS")||n.includes("FCM");if(!a&&!o)return;const s={};return a&&(s.InAppMessaging={Pinpoint:{appId:r,region:t}}),o&&(s.PushNotification={Pinpoint:{appId:r,region:t}}),s}(e.notifications)),t}const j={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function H(e){return j[e]}const V={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function q(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>(void 0!==V[t]&&e.push(V[t]),e),[])}function G(e){return"OPTIONAL"===e?"optional":"REQUIRED"===e?"on":"off"}function K(e){const t={};return e.forEach(e=>{let{name:n,bucket_name:r,aws_region:a,paths:o}=e;if(n in t)throw new Error(`Duplicate friendly name found: ${n}. Name must be unique.`);const s=o?Object.entries(o).reduce((e,t)=>{let[n,r]=t;return void 0!==r&&(e[n]=r),e},{}):void 0;t[n]={bucketName:r,region:a,paths:s}}),t}const Y=e=>Object.keys(e).some(e=>e.startsWith("aws_"))?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new A({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:r,aws_appsync_region:a,aws_bots_config:o,aws_cognito_identity_pool_id:s,aws_cognito_sign_up_verification_method:i,aws_cognito_mfa_configuration:l,aws_cognito_mfa_types:u,aws_cognito_password_protection_settings:c,aws_cognito_verification_mechanisms:d,aws_cognito_signup_attributes:p,aws_cognito_social_providers:h,aws_cognito_username_attributes:f,aws_mandatory_sign_in:m,aws_mobile_analytics_app_id:g,aws_mobile_analytics_app_region:y,aws_user_files_s3_bucket:v,aws_user_files_s3_bucket_region:b,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:w,aws_user_pools_id:k,aws_user_pools_web_client_id:S,geo:x,oauth:I,predictions:_,aws_cloud_logic_custom:E,Notifications:T,modelIntrospection:N}=e,C={};g&&(C.Analytics={Pinpoint:{appId:g,region:y}});const{InAppMessaging:M,Push:O}=T??{};if(M?.AWSPinpoint||O?.AWSPinpoint){if(M?.AWSPinpoint){const{appId:e,region:t}=M.AWSPinpoint;C.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(O?.AWSPinpoint){const{appId:e,region:t}=O.AWSPinpoint;C.Notifications={...C.Notifications,PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(o)&&(C.Interactions={LexV1:Object.fromEntries(o.map(e=>[e.name,e]))}),r){const e=L[n];e||$.debug(`Invalid authentication type ${n}. Falling back to IAM.`),C.API={GraphQL:{endpoint:r,apiKey:t,region:a,defaultAuthMode:e??"iam"}},N&&(C.API.GraphQL.modelIntrospection=N)}const R=l?{status:l&&l.toLowerCase(),totpEnabled:u?.includes("TOTP")??!1,smsEnabled:u?.includes("SMS")??!1}:void 0,F=c?{minLength:c.passwordPolicyMinLength,requireLowercase:c.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:c.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:c.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:c.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,D=Array.from(new Set([...d??[],...p??[]])).reduce((e,t)=>({...e,[t.toLowerCase()]:{required:!0}}),{}),P=f?.includes("EMAIL")??!1,z=f?.includes("PHONE_NUMBER")??!1;(s||k)&&(C.Auth={Cognito:{identityPoolId:s,allowGuestAccess:"enable"!==m,signUpVerificationMethod:i,userAttributes:D,userPoolClientId:S,userPoolId:k,mfa:R,passwordFormat:F,loginWith:{username:!(P||z),email:P,phone:z}}});const U=!!I&&Object.keys(I).length>0,j=!!h&&h.length>0;if(C.Auth&&U&&(C.Auth.Cognito.loginWith={...C.Auth.Cognito.loginWith,oauth:{...W(I),...j&&{providers:B(h)}}}),v&&(C.Storage={S3:{bucket:v,region:b,dangerouslyConnectToHttpEndpointForTesting:w}}),x){const{amazon_location_service:e}=x;C.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(E&&(C.API={...C.API,REST:E.reduce((e,t)=>{const{name:n,endpoint:r,region:a,service:o}=t;return{...e,[n]:{endpoint:r,...o?{service:o}:void 0,...a?{region:a}:void 0}}},{})}),_){const{VoiceId:e}=_?.convert?.speechGenerator?.defaults??{};C.Predictions=e?{..._,convert:{..._.convert,speechGenerator:{..._.convert.speechGenerator,defaults:{voiceId:e}}}}:_}return C}(e):function(e){const{version:t}=e;return!!t&&t.startsWith("1")}(e)?U(e):e;function Q(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{l(r.next(e))}catch(fP){o(fP)}}function i(e){try{l(r.throw(e))}catch(fP){o(fP)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,i)}l((r=r.apply(e,t||[])).next())})}function X(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(fP){i=[6,fP],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}Object.create;function J(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;function Z(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function ee(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n}"function"===typeof SuppressedError&&SuppressedError;var te=64,ne=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),re=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],ae=Math.pow(2,53)-1,oe=function(){function e(){this.state=Int32Array.from(re),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>ae)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===te&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%te>=56){for(var r=this.bufferLength;r<te;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<56;r++)t.setUint8(r,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}var a=new Uint8Array(32);for(r=0;r<8;r++)a[4*r]=this.state[r]>>>24&255,a[4*r+1]=this.state[r]>>>16&255,a[4*r+2]=this.state[r]>>>8&255,a[4*r+3]=this.state[r]>>>0&255;return a},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],i=t[5],l=t[6],u=t[7],c=0;c<te;c++){if(c<16)this.temp[c]=(255&e[4*c])<<24|(255&e[4*c+1])<<16|(255&e[4*c+2])<<8|255&e[4*c+3];else{var d=this.temp[c-2],p=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=((d=this.temp[c-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[c]=(p+this.temp[c-7]|0)+(h+this.temp[c-16]|0)}var f=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&i^~s&l)|0)+(u+(ne[c]+this.temp[c]|0)|0)|0,m=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&a^r&a)|0;u=l,l=i,i=s,s=o+f|0,o=a,a=r,r=n,n=f+m|0}t[0]+=n,t[1]+=r,t[2]+=a,t[3]+=o,t[4]+=s,t[5]+=i,t[6]+=l,t[7]+=u},e}();var se="undefined"!==typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:e=>(new TextEncoder).encode(e);function ie(e){return e instanceof Uint8Array?e:"string"===typeof e?se(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function le(e){return"string"===typeof e?0===e.length:0===e.byteLength}var ue=function(){function e(e){this.secret=e,this.hash=new oe,this.reset()}return e.prototype.update=function(e){if(!le(e)&&!this.error)try{this.hash.update(ie(e))}catch(fP){this.error=fP}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Q(this,void 0,void 0,function(){return X(this,function(e){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new oe,this.secret){this.outer=new oe;var e=function(e){var t=ie(e);if(t.byteLength>te){var n=new oe;n.update(t),t=n.digest()}var r=new Uint8Array(te);return r.set(t),r}(this.secret),t=new Uint8Array(te);t.set(e);for(var n=0;n<te;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(n=0;n<e.byteLength;n++)e[n]=0}},e}();const ce={},de={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e=`0${e}`),ce[n]=e,de[e]=n}const pe=new C("Auth");class he{configure(e,t){this.authConfig=e,this.authOptions=t,e&&e.Cognito?.userPoolEndpoint&&pe.warn(fe("Amazon Cognito User Pool")),e&&e.Cognito?.identityPoolEndpoint&&pe.warn(fe("Amazon Cognito Identity Pool"))}async fetchAuthSession(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=await this.getTokens(n);return r?(t=r.accessToken?.payload?.sub,e=await(this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:r,authenticated:!0,forceRefresh:n.forceRefresh}))):e=await(this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:n.forceRefresh})),{tokens:r,credentials:e?.credentials,identityId:e?.identityId,userSub:t}}async clearCredentials(){await(this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId())}async getTokens(e){return await(this.authOptions?.tokenProvider?.getTokens(e))??void 0}}const fe=e=>`You are using a custom Amazon ${e} endpoint, ensure the endpoint is correct.`;const me=new class{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new he}configure(e,t){const n=Y(e);this.resourcesConfig=n,t&&(this.libraryOptions=t),this.resourcesConfig=D(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),F.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",M),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[P](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth&&this.oAuthListener&&(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}},ge=e=>((e,t)=>e.Auth.fetchAuthSession(t))(me,e);var ye,ve,be=x.useLayoutEffect,we=function(){return we=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},we.apply(this,arguments)};function ke(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function Se(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xe(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(i){a={error:i}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return s}function Ie(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}!function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(ye||(ye={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(ve||(ve={}));var _e,Ee={},Te="xstate.guard",Ne=ye.Start,Ce=ye.Stop,Ae=ye.Raise,Me=ye.Send,Oe=ye.Cancel,Re=ye.NullEvent,Fe=ye.Assign,De=(ye.After,ye.DoneState,ye.Log),Pe=ye.Init,$e=ye.Invoke,Le=(ye.ErrorExecution,ye.ErrorPlatform),ze=ye.ErrorCustom,We=ye.Update,Be=ye.Choose,Ue=ye.Pure;function je(e,t,n){void 0===n&&(n=".");var r=qe(e,n),a=qe(t,n);return lt(a)?!!lt(r)&&a===r:lt(r)?r in a:Object.keys(r).every(function(e){return e in a&&je(r[e],a[e])})}function He(e){try{return lt(e)||"number"===typeof e?"".concat(e):e.type}catch(fP){throw new Error("Events must be strings or objects with a string event.type property.")}}function Ve(e,t){try{return st(e)?e:e.toString().split(t)}catch(fP){throw new Error("'".concat(e,"' is not a valid state path."))}}function qe(e,t){return"object"===typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:st(e)?Ge(e):"string"!==typeof e?e:Ge(Ve(e,t));var n}function Ge(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function Ke(e,t){for(var n={},r=Object.keys(e),a=0;a<r.length;a++){var o=r[a];n[o]=t(e[o],o,e,a)}return n}function Ye(e,t,n){var r,a,o={};try{for(var s=Se(Object.keys(e)),i=s.next();!i.done;i=s.next()){var l=i.value,u=e[l];n(u)&&(o[l]=t(u,l,e))}}catch(c){r={error:c}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}return o}var Qe=function(e){return function(t){var n,r,a=t;try{for(var o=Se(e),s=o.next();!s.done;s=o.next()){a=a[s.value]}}catch(i){n={error:i}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a}};function Xe(e){return e?lt(e)?[[e]]:Je(Object.keys(e).map(function(t){var n=e[t];return"string"===typeof n||n&&Object.keys(n).length?Xe(e[t]).map(function(e){return[t].concat(e)}):[[t]]})):[[]]}function Je(e){var t;return(t=[]).concat.apply(t,Ie([],xe(e),!1))}function Ze(e){return st(e)?e:[e]}function et(e){return void 0===e?[]:Ze(e)}function tt(e,t,n){var r,a;if(it(e))return e(t,n.data);var o={};try{for(var s=Se(Object.keys(e)),i=s.next();!i.done;i=s.next()){var l=i.value,u=e[l];it(u)?o[l]=u(t,n.data):o[l]=u}}catch(c){r={error:c}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}return o}function nt(e){return e instanceof Promise||!(null===e||!it(e)&&"object"!==typeof e||!it(e.then))}function rt(e,t){return Ke(e.states,function(e,n){if(e){var r=(lt(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:rt(e,r)}}})}function at(e,t,n,r){var a=e?n.reduce(function(e,n){var a,o,s=n.assignment,i={state:r,action:n,_event:t},l={};if(it(s))l=s(e,t.data,i);else try{for(var u=Se(Object.keys(s)),c=u.next();!c.done;c=u.next()){var d=c.value,p=s[d];l[d]=it(p)?p(e,t.data,i):p}}catch(h){a={error:h}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return Object.assign({},e,l)},e):e;return a}var ot=function(){};function st(e){return Array.isArray(e)}function it(e){return"function"===typeof e}function lt(e){return"string"===typeof e}function ut(e,t){if(e)return lt(e)?{type:Te,name:e,predicate:t?t[e]:void 0}:it(e)?{type:Te,name:e.name,predicate:e}:e}var ct=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();(_e={})[ct]=function(){return this},_e[Symbol.observable]=function(){return this};function dt(e){return!!e&&"__xstatenode"in e}var pt=function(){var e=0;return function(){return(++e).toString(16)}}();function ht(e,t){return lt(e)||"number"===typeof e?we({type:e},t):e}function ft(e,t){if(!lt(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=ht(e);return we({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function mt(e,t){return Ze(t).map(function(t){return"undefined"===typeof t||"string"===typeof t||dt(t)?{target:t,event:e}:we(we({},t),{event:e})})}function gt(e,t,n,r,a){var o=e.options.guards,s={state:a,cond:t,_event:r};if(t.type===Te)return((null===o||void 0===o?void 0:o[t.name])||t.predicate)(n,r.data,s);var i=null===o||void 0===o?void 0:o[t.type];if(!i)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return i(n,r.data,s)}function yt(e){return"string"===typeof e?{type:e}:e}function vt(e,t,n){var r=function(){},a="object"===typeof e,o=a?e:null;return{next:((a?e.next:e)||r).bind(o),error:((a?e.error:t)||r).bind(o),complete:((a?e.complete:n)||r).bind(o)}}function bt(e,t){return"".concat(e,":invocation[").concat(t,"]")}function wt(e){return(e.type===Ae||e.type===Me&&e.to===ve.Internal)&&"number"!==typeof e.delay}var kt=function(e){return"atomic"===e.type||"final"===e.type};function St(e){return Object.keys(e.states).map(function(t){return e.states[t]})}function xt(e){return St(e).filter(function(e){return"history"!==e.type})}function It(e){var t=[e];return kt(e)?t:t.concat(Je(xt(e).map(It)))}function _t(e,t){var n,r,a,o,s,i,l,u,c=Tt(new Set(e)),d=new Set(t);try{for(var p=Se(d),h=p.next();!h.done;h=p.next())for(var f=(x=h.value).parent;f&&!d.has(f);)d.add(f),f=f.parent}catch(I){n={error:I}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}var m=Tt(d);try{for(var g=Se(d),y=g.next();!y.done;y=g.next()){if("compound"!==(x=y.value).type||m.get(x)&&m.get(x).length){if("parallel"===x.type)try{for(var v=(s=void 0,Se(xt(x))),b=v.next();!b.done;b=v.next()){var w=b.value;d.has(w)||(d.add(w),c.get(w)?c.get(w).forEach(function(e){return d.add(e)}):w.initialStateNodes.forEach(function(e){return d.add(e)}))}}catch(_){s={error:_}}finally{try{b&&!b.done&&(i=v.return)&&i.call(v)}finally{if(s)throw s.error}}}else c.get(x)?c.get(x).forEach(function(e){return d.add(e)}):x.initialStateNodes.forEach(function(e){return d.add(e)})}}catch(E){a={error:E}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}try{for(var k=Se(d),S=k.next();!S.done;S=k.next()){var x;for(f=(x=S.value).parent;f&&!d.has(f);)d.add(f),f=f.parent}}catch(T){l={error:T}}finally{try{S&&!S.done&&(u=k.return)&&u.call(k)}finally{if(l)throw l.error}}return d}function Et(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(kt(r))return r.key}var a={};return n.forEach(function(e){a[e.key]=Et(e,t)}),a}function Tt(e){var t,n,r=new Map;try{for(var a=Se(e),o=a.next();!o.done;o=a.next()){var s=o.value;r.has(s)||r.set(s,[]),s.parent&&(r.has(s.parent)||r.set(s.parent,[]),r.get(s.parent).push(s))}}catch(i){t={error:i}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}function Nt(e,t){return Et(e,Tt(_t([e],t)))}function Ct(e,t){return Array.isArray(e)?e.some(function(e){return e===t}):e instanceof Set&&e.has(t)}function At(e,t){return"compound"===t.type?xt(t).some(function(t){return"final"===t.type&&Ct(e,t)}):"parallel"===t.type&&xt(t).every(function(t){return At(e,t)})}function Mt(e){return new Set(Je(e.map(function(e){return e.tags})))}var Ot=ft({type:Pe});function Rt(e,t){return t&&t[e]||void 0}function Ft(e,t){var n;if(lt(e)||"number"===typeof e)n=it(r=Rt(e,t))?{type:e,exec:r}:r||{type:e,exec:void 0};else if(it(e))n={type:e.name||e.toString(),exec:e};else{var r;if(it(r=Rt(e.type,t)))n=we(we({},e),{exec:r});else if(r){var a=r.type||e.type;n=we(we(we({},r),e),{type:a})}else n=e}return n}var Dt=function(e,t){return e?(st(e)?e:[e]).map(function(e){return Ft(e,t)}):[]};function Pt(e){var t=Ft(e);return we(we({id:lt(e)?e:t.id},t),{type:t.type})}function $t(e,t){return{to:t?t.to:void 0,type:Me,event:it(e)?e:ht(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:it(e)?e.name:He(e)}}var Lt=function(e){return{type:Oe,sendId:e}};function zt(e,t){var n="".concat(ye.DoneState,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r}function Wt(e,t){var n="".concat(ye.DoneInvoke,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r}function Bt(e,t){var n="".concat(ye.ErrorPlatform,".").concat(e),r={type:n,data:t,toString:function(){return n}};return r}function Ut(e,t,n,r,a,o,s){void 0===s&&(s=!1);var i=s?[]:function(e){var t,n,r=[];try{for(var a=Se(e),o=a.next();!o.done;o=a.next())for(var s=o.value,i=0;i<s.actions.length;)s.actions[i].type!==Fe?i++:(r.push(s.actions[i]),s.actions.splice(i,1))}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}(a),l=i.length?at(n,r,i,t):n,u=s?[n]:void 0,c=[];function d(a,i){var d;switch(i.type){case Ae:var p=function(e,t,n,r){var a,o={_event:n},s=ft(it(e.event)?e.event(t,n.data,o):e.event);if(lt(e.delay)){var i=r&&r[e.delay];a=it(i)?i(t,n.data,o):i}else a=it(e.delay)?e.delay(t,n.data,o):e.delay;return we(we({},e),{type:Ae,_event:s,delay:a})}(i,l,r,e.options.delays);return o&&"number"===typeof p.delay&&o(p,l,r),p;case Me:var h=function(e,t,n,r){var a,o={_event:n},s=ft(it(e.event)?e.event(t,n.data,o):e.event);if(lt(e.delay)){var i=r&&r[e.delay];a=it(i)?i(t,n.data,o):i}else a=it(e.delay)?e.delay(t,n.data,o):e.delay;var l=it(e.to)?e.to(t,n.data,o):e.to;return we(we({},e),{to:l,_event:s,event:s.data,delay:a})}(i,l,r,e.options.delays);return o&&h.to!==ve.Internal&&("entry"===a?c.push(h):o(h,l,r)),h;case De:var f=function(e,t,n){return we(we({},e),{value:lt(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})}(i,l,r);return null===o||void 0===o||o(f,l,r),f;case Be:if(!(v=null===(d=i.conds.find(function(n){var a=ut(n.cond,e.options.guards);return!a||gt(e,a,l,r,o?void 0:t)}))||void 0===d?void 0:d.actions))return[];var m=xe(Ut(e,t,l,r,[{type:a,actions:Dt(et(v),e.options.actions)}],o,s),2),g=m[0],y=m[1];return l=y,null===u||void 0===u||u.push(l),g;case Ue:var v;if(!(v=i.get(l,r.data)))return[];var b=xe(Ut(e,t,l,r,[{type:a,actions:Dt(et(v),e.options.actions)}],o,s),2),w=b[0],k=b[1];return l=k,null===u||void 0===u||u.push(l),w;case Ce:f=function(e,t,n){var r=it(e.activity)?e.activity(t,n.data):e.activity,a="string"===typeof r?{id:r}:r;return{type:ye.Stop,activity:a}}(i,l,r);return null===o||void 0===o||o(f,n,r),f;case Fe:l=at(l,r,[i],o?void 0:t),null===u||void 0===u||u.push(l);break;default:var S=Ft(i,e.options.actions),x=S.exec;if(o)o(S,l,r);else if(x&&u){var I=u.length-1,_=we(we({},S),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];x.apply(void 0,Ie([u[I]],xe(t),!1))}});S=_}return S}}var p=Je(a.map(function(e){var t,n,a=[];try{for(var s=Se(e.actions),i=s.next();!i.done;i=s.next()){var u=i.value,p=d(e.type,u);p&&(a=a.concat(p))}}catch(h){t={error:h}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return c.forEach(function(e){o(e,l,r)}),c.length=0,a}));return[p,l]}function jt(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(lt(e)||lt(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(n){return jt(e[n],t[n])})}function Ht(e){return"object"===typeof e&&null!==e&&("value"in e&&"_event"in e)}var Vt=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=Ee,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||Ee,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce(function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e},{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return Ie([],xe(new Set(Je(Ie([],xe(e.map(function(e){return e.ownEvents})),!1)))),!1)}(r.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:Ot,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=Ot;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),lt(e))return[e];var r=Object.keys(e);return r.concat.apply(r,Ie([],xe(r.map(function(r){return n.toStrings(e[r],t).map(function(e){return r+t+e})})),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=ke(e,["configuration","transitions","tags","machine"]);return we(we({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return je(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;ot(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null===n||void 0===n?void 0:n.transitions.length)&&n.transitions.some(function(e){return void 0!==e.target||e.actions.length})},e}(),qt={deferEvents:!1},Gt=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=we(we({},qt),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(fP){throw this.clear(),fP}finally{this.processingEvent=!1}},e}(),Kt=[],Yt=function(e,t){Kt.push(e);var n=t(e);return Kt.pop(),n};function Qt(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[ct]=function(){return this},t}function Xt(e,t,n){var r=Qt(t);if(r.deferred=!0,dt(e)){var a=r.state=Yt(void 0,function(){return(n?e.withContext(n):e).initialState});r.getSnapshot=function(){return a}}return r}var Jt=new Map,Zt=0,en=function(){return"x:".concat(Zt++)},tn=function(e,t){return Jt.set(e,t),e},nn=function(e){return Jt.get(e)},rn=function(e){Jt.delete(e)};function an(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:void 0}function on(e){if(an()){var t=function(){var e=an();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}function sn(e,t){void 0===t&&(t={});var n=e.initialState,r=new Set,a=[],o=!1,s=function(e){var t;return we(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[ct]=function(){return this},t),e)}({id:t.id,send:function(t){a.push(t),function(){if(!o){for(o=!0;a.length>0;){var t=a.shift();n=e.transition(n,t,i),r.forEach(function(e){return e.next(n)})}o=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,a){var o=vt(e,t,a);return r.add(o),o.next(n),{unsubscribe:function(){r.delete(o)}}}}),i={parent:t.parent,self:s,id:t.id||"anonymous",observers:r};return n=e.start?e.start(i):n,s}var ln,un={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(ln||(ln={}));var cn=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=ln.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(st(e))return r.batch(e),r.state;var n=ft(ht(e,t));if(r.status===ln.Stopped)return r.state;if(r.status!==ln.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule(function(){r.forward(n);var e=r._nextState(n);r.update(e,n)}),r._state},this.sendTo=function(e,t,n){var a,o=r.parent&&(t===ve.Parent||r.parent.id===t),s=o?r.parent:lt(t)?t===ve.Internal?r:r.children.get(t)||nn(t):(a=t)&&"function"===typeof a.send?t:void 0;if(s)if("machine"in s){if(r.status!==ln.Stopped||r.parent!==s||r.state.done){var i=we(we({},e),{name:e.name===ze?"".concat(Bt(r.id)):e.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([s,i]):s.send(i)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([s,e.data]):s.send(e.data);else if(!o)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."))},this._exec=function(e,t,n,a){void 0===a&&(a=r.machine.options.actions);var o=e.exec||Rt(e.type,a),s=it(o)?o:o?o.exec:e.exec;if(s)try{return s(t,n.data,r.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:r.state,_event:n})}catch(k){throw r.parent&&r.parent.send({type:"xstate.error",data:k}),k}switch(e.type){case Ae:var i=e;r.defer(i);break;case Me:var l=e;if("number"===typeof l.delay)return void r.defer(l);l.to?r.sendTo(l._event,l.to,n===Ot):r.send(l._event);break;case Oe:r.cancel(e.sendId);break;case Ne:if(r.status!==ln.Running)return;var u=e.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[u.id||u.type])break;if(u.type===ye.Invoke){var c=yt(u.src),d=r.machine.options.services?r.machine.options.services[c.type]:void 0,p=u.id,h=u.data;0;var f="autoForward"in u?u.autoForward:!!u.forward;if(!d)return void 0;var m=h?tt(h,t,n):void 0;if("string"===typeof d)return;var g=it(d)?d(t,n.data,{data:m,src:c,meta:u.meta}):d;if(!g)return;var y=void 0;dt(g)&&(g=m?g.withContext(m):g,y={autoForward:f}),r.spawn(g,p,y)}else r.spawnActivity(u);break;case Ce:r.stopChild(e.activity.id);break;case De:var v=e,b=v.label,w=v.value;b?r.logger(b,w):r.logger(w)}};var a=we(we({},e.defaultOptions),n),o=a.clock,s=a.logger,i=a.parent,l=a.id,u=void 0!==l?l:t.id;this.id=u,this.logger=s,this.clock=o,this.parent=i,this.options=a,this.scheduler=new Gt({deferEvents:this.options.deferEvents}),this.sessionId=en()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:Yt(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var a=Se(e.actions),o=a.next();!o.done;o=a.next()){var s=o.value;this.exec(s,e,t)}}catch(i){n={error:i}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,a,o,s,i,l,u,c=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==Ot||!this.options.execute)for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);else this.execute(this.state);if(this.children.forEach(function(e){c.state.children[e.id]=e}),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var p=Se(this.eventListeners),h=p.next();!h.done;h=p.next()){(0,h.value)(e.event)}}catch(S){n={error:S}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var f=Se(this.listeners),m=f.next();!m.done;m=f.next()){(0,m.value)(e,e.event)}}catch(x){a={error:x}}finally{try{m&&!m.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}try{for(var g=Se(this.contextListeners),y=g.next();!y.done;y=g.next()){(0,y.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(I){s={error:I}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(s)throw s.error}}if(this.state.done){var v=e.configuration.find(function(e){return"final"===e.type&&e.parent===c.machine}),b=v&&v.doneData?tt(v.doneData,e.context,t):void 0;this._doneEvent=Wt(this.id,b);try{for(var w=Se(this.doneListeners),k=w.next();!k.done;k=w.next()){(0,k.value)(this._doneEvent)}}catch(_){l={error:_}}finally{try{k&&!k.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}this._stop(),this._stopChildren(),rn(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===ln.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,a=vt(e,t,n);this.listeners.add(a.next),this.status!==ln.NotStarted&&a.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),a.complete()};return this.status===ln.Stopped?a.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(a.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.status===ln.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===ln.Running)return this;this.machine._init(),tn(this.sessionId,this),this.initialized=!0,this.status=ln.Running;var n=void 0===e?this.initialState:Yt(this,function(){return Ht(e)?t.machine.resolveState(e):t.machine.resolveState(Vt.from(e,t.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){t.update(n,Ot)}),this},e.prototype._stopChildren=function(){this.children.forEach(function(e){it(e.stop)&&e.stop()}),this.children.clear()},e.prototype._stop=function(){var e,t,n,r,a,o,s,i,l,u;try{for(var c=Se(this.listeners),d=c.next();!d.done;d=c.next()){var p=d.value;this.listeners.delete(p)}}catch(S){e={error:S}}finally{try{d&&!d.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}try{for(var h=Se(this.stopListeners),f=h.next();!f.done;f=h.next()){(p=f.value)(),this.stopListeners.delete(p)}}catch(x){n={error:x}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var m=Se(this.contextListeners),g=m.next();!g.done;g=m.next()){p=g.value;this.contextListeners.delete(p)}}catch(I){a={error:I}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}try{for(var y=Se(this.doneListeners),v=y.next();!v.done;v=y.next()){p=v.value;this.doneListeners.delete(p)}}catch(_){s={error:_}}finally{try{v&&!v.done&&(i=y.return)&&i.call(y)}finally{if(s)throw s.error}}if(!this.initialized)return this;this.initialized=!1,this.status=ln.Stopped,this._initialState=void 0;try{for(var b=Se(Object.keys(this.delayedEventsMap)),w=b.next();!w.done;w=b.next()){var k=w.value;this.clock.clearTimeout(this.delayedEventsMap[k])}}catch(E){l={error:E}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(l)throw l.error}}this.scheduler.clear(),this.scheduler=new Gt({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule(function(){var t;if(!(null===(t=e._state)||void 0===t?void 0:t.done)){var n=ft({type:"xstate.stop"}),r=Yt(e,function(){var t=Je(Ie([],xe(e.state.configuration),!1).sort(function(e,t){return t.order-e.order}).map(function(t){return Dt(t.onExit,e.machine.options.actions)})),r=xe(Ut(e.machine,e.state,e.state.context,n,[{type:"exit",actions:t}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),a=r[0],o=r[1],s=new Vt({value:e.state.value,context:o,_event:n,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:a.filter(function(e){return!wt(e)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return s.changed=!0,s});e.update(r,n),e._stopChildren(),rn(e.sessionId)}}),this},e.prototype.batch=function(e){var t=this;if(this.status===ln.NotStarted&&this.options.deferEvents)0;else if(this.status!==ln.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var r,a,o=t.state,s=!1,i=[],l=function(e){var r=ft(e);t.forward(r),o=Yt(t,function(){return t.machine.transition(o,r,void 0,n||void 0)}),i.push.apply(i,Ie([],xe(t.machine.config.predictableActionArguments?o.actions:o.actions.map(function(e){return function(e,t){var n=e.exec;return we(we({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}(e,o)})),!1)),s=s||!!o.changed};try{for(var u=Se(e),c=u.next();!c.done;c=u.next()){l(c.value)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}o.changed=s,o.actions=i,t.update(o,ft(e[e.length-1]))})}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=ft(e);if(0===r.name.indexOf(Le)&&!this.state.nextEvents.some(function(e){return 0===e.indexOf(Le)}))throw r.data.data;return Yt(this,function(){return n.machine.transition(n.state,r,void 0,t||void 0)})},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var r=Se(this.forwardTo),a=r.next();!a.done;a=r.next()){var o=a.value,s=this.children.get(o);if(!s)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));s.send(e)}}catch(i){t={error:i}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this,n=this.clock.setTimeout(function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),it(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==ln.Running)return Xt(e,t);if(nt(e))return this.spawnPromise(Promise.resolve(e),t);if(it(e))return this.spawnCallback(e,t);if(function(e){try{return"function"===typeof e.send}catch(fP){return!1}}(a=e)&&"id"in a)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&it(e.subscribe)}catch(fP){return!1}}(e))return this.spawnObservable(e,t);if(dt(e))return this.spawnMachine(e,we(we({},n),{id:t}));if(null!==(r=e)&&"object"===typeof r&&"transition"in r&&"function"===typeof r.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var r,a},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var a=new e(t,we(we({},this.options),{parent:this,id:n.id||t.id})),o=we(we({},un),n);o.sync&&a.onTransition(function(e){r.send(We,{state:e,id:a.id})});var s=a;return this.children.set(a.id,s),o.autoForward&&this.forwardTo.add(a.id),a.onDone(function(e){r.removeChild(a.id),r.send(ft(e,{origin:a.id}))}).start(),s},e.prototype.spawnBehavior=function(e,t){var n=sn(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,r,a=this,o=!1;e.then(function(e){o||(r=e,a.removeChild(t),a.send(ft(Wt(t,e),{origin:t})))},function(e){if(!o){a.removeChild(t);var n=Bt(t,e);try{a.send(ft(n,{origin:t}))}catch(r){a.devTools&&a.devTools.send(n,a.state),a.machine.strict&&a.stop()}}});var s=((n={id:t,send:function(){},subscribe:function(t,n,r){var a=vt(t,n,r),o=!1;return e.then(function(e){o||(a.next(e),o||a.complete())},function(e){o||a.error(e)}),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[ct]=function(){return this},n);return this.children.set(t,s),s},e.prototype.spawnCallback=function(e,t){var n,r,a,o=this,s=!1,i=new Set,l=new Set;try{a=e(function(e){r=e,l.forEach(function(t){return t(e)}),s||o.send(ft(e,{origin:t}))},function(e){i.add(e)})}catch(c){this.send(Bt(t,c))}if(nt(a))return this.spawnPromise(a,t);var u=((n={id:t,send:function(e){return i.forEach(function(t){return t(e)})},subscribe:function(e){var t=vt(e);return l.add(t.next),{unsubscribe:function(){l.delete(t.next)}}},stop:function(){s=!0,it(a)&&a()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[ct]=function(){return this},n);return this.children.set(t,u),u},e.prototype.spawnObservable=function(e,t){var n,r,a=this,o=e.subscribe(function(e){r=e,a.send(ft(e,{origin:t}))},function(e){a.removeChild(t),a.send(ft(Bt(t,e),{origin:t}))},function(){a.removeChild(t),a.send(ft(Wt(t),{origin:t}))}),s=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[ct]=function(){return this},n);return this.children.set(t,s),s},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[ct]=function(){return this},n))},e.prototype.attachDev=function(){var e=an();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"===typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(we(we({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:we({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}on(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[ct]=function(){return this},e.prototype.getSnapshot=function(){return this.status===ln.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=pn,e}();function dn(e,t){var n=function(e){return lt(e)?we(we({},un),{name:e}):we(we(we({},un),{name:pt()}),e)}(t);return function(t){return t?t.spawn(e,n.name,n):Xt(e,n.name)}(Kt[Kt.length-1])}function pn(e,t){return new cn(e,t)}function hn(e){var t=x.useRef();return t.current||(t.current={v:e()}),t.current.v}var fn=function(){return fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},fn.apply(this,arguments)},mn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},gn=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(i){a={error:i}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return s};function yn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=gn(t,2),a=r[0],o=void 0===a?{}:a,s=r[1],i=function(e,t){var n=hn(function(){return"function"===typeof e?e():e}),r=t.context,a=t.guards,o=t.actions,s=t.activities,i=t.services,l=t.delays,u=(t.state,mn(t,["context","guards","actions","activities","services","delays","state"])),c=hn(function(){var e={context:r,guards:a,actions:o,activities:s,services:i,delays:l};return pn(n.withConfig(e,function(){return fn(fn({},n.context),r)}),u)});return be(function(){Object.assign(c.machine.options.actions,o),Object.assign(c.machine.options.guards,a),Object.assign(c.machine.options.activities,s),Object.assign(c.machine.options.services,i),Object.assign(c.machine.options.delays,l)},[o,a,s,i,l]),c}(e,o);return(0,x.useEffect)(function(){if(s){var e=i.subscribe(vt(s));return function(){e.unsubscribe()}}},[s]),(0,x.useEffect)(function(){var e=o.state;return i.start(e?Vt.create(e):void 0),function(){i.stop(),i.status=ln.NotStarted}},[]),i}const vn={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let bn;const wn=new Uint8Array(16);const kn=[];for(let n=0;n<256;++n)kn.push((n+256).toString(16).slice(1));function Sn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(kn[e[t+0]]+kn[e[t+1]]+kn[e[t+2]]+kn[e[t+3]]+"-"+kn[e[t+4]]+kn[e[t+5]]+"-"+kn[e[t+6]]+kn[e[t+7]]+"-"+kn[e[t+8]]+kn[e[t+9]]+"-"+kn[e[t+10]]+kn[e[t+11]]+kn[e[t+12]]+kn[e[t+13]]+kn[e[t+14]]+kn[e[t+15]]).toLowerCase()}const xn=function(e,t,n){if(vn.randomUUID&&!t&&!e)return vn.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!bn){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bn=crypto.getRandomValues.bind(crypto)}return bn(wn)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Sn(r)};function In(e){if("string"===typeof e){var t={type:e,toString:function(){return e}};return t}return e}function _n(e){return we(we({type:$e},e),{toJSON:function(){e.onDone,e.onError;var t=ke(e,["onDone","onError"]);return we(we({},t),{type:$e,src:In(e.src)})}})}var En="",Tn="*",Nn={},Cn=function(e){return"#"===e[0]},An=function(){function e(t,n,r,a){void 0===r&&(r="context"in t?t.context:void 0);var o,s=this;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null===a||void 0===a?void 0:a.parent,this.key=this.config.key||(null===a||void 0===a?void 0:a.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||Ie([this.machine.key],xe(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Ke(this.config.states,function(t,n){var r,a=new e(t,{},void 0,{parent:s,key:n});return Object.assign(s.idMap,we(((r={})[a.id]=a,r),a.idMap)),a}):Nn;var i=0;!function e(t){var n,r;t.order=i++;try{for(var a=Se(St(t)),o=a.next();!o.done;o=a.next()){e(o.value)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some(function(e){return e.event===En}):En in this.config.on),this.strict=!!this.config.strict,this.onEntry=et(this.config.entry||this.config.onEntry).map(function(e){return Ft(e)}),this.onExit=et(this.config.exit||this.config.onExit).map(function(e){return Ft(e)}),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=et(this.config.invoke).map(function(e,t){var n,r;if(dt(e)){var a=bt(s.id,t);return s.machine.options.services=we(((n={})[a]=e,n),s.machine.options.services),_n({src:a,id:a})}if(lt(e.src)){a=e.id||bt(s.id,t);return _n(we(we({},e),{id:a,src:e.src}))}if(dt(e.src)||it(e.src)){a=e.id||bt(s.id,t);return s.machine.options.services=we(((r={})[a]=e.src,r),s.machine.options.services),_n(we(we({id:a},e),{src:a}))}var o=e.src;return _n(we(we({id:bt(s.id,t)},e),{src:o}))}),this.activities=et(this.config.activities).concat(this.invoke).map(function(e){return Pt(e)}),this.transition=this.transition.bind(this),this.tags=et(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||It(this).forEach(function(e){return e.on})},e.prototype.withConfig=function(t,n){var r=this.options,a=r.actions,o=r.activities,s=r.guards,i=r.services,l=r.delays;return new e(this.config,{actions:we(we({},a),t.actions),activities:we(we({},o),t.activities),guards:we(we({},s),t.guards),services:we(we({},i),t.services),delays:we(we({},l),t.delays)},null!==n&&void 0!==n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return it(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Ke(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===En,n=this.transitions.filter(function(n){var r=n.eventType===e;return t?r:r||n.eventType===Tn});return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=function(e,t){var n=t?"#".concat(t):"";return"".concat(ye.After,"(").concat(e,")").concat(n)}(it(t)?"".concat(e.id,":delay[").concat(n,"]"):t,e.id);return e.onEntry.push($t(r,{delay:t})),e.onExit.push(Lt(r)),r},r=st(t)?t.map(function(e,t){var r=n(e.delay,t);return we(we({},e),{event:r})}):Je(Object.keys(t).map(function(e,r){var a=t[e],o=lt(a)?{target:a}:a,s=isNaN(+e)?e:+e,i=n(s,r);return et(o).map(function(e){return we(we({},e),{event:i,delay:s})})}));return r.map(function(t){var n=t.delay;return we(we({},e.formatTransition(t)),{delay:n})})},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof Vt?e.value:qe(e,this.delimiter);if(lt(r)){var a=this.getStateNode(r).initial;return void 0!==a?this.getStateNodes(((t={})[r]=a,t)):[this,this.states[r]]}var o=Object.keys(r),s=[this];return s.push.apply(s,Ie([],xe(Je(o.map(function(e){return n.getStateNode(e).getStateNodes(r[e])}))),!1)),s},e.prototype.handles=function(e){var t=He(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof Vt?e:Vt.create(e),n=Array.from(_t([],this.getStateNodes(t.value)));return new Vt(we(we({},t),{value:this.resolve(t.value),configuration:n,done:At(n,this),tags:Mt(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),a=this.getStateNode(r[0])._transition(e[r[0]],t,n);return a&&a.transitions.length?a:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,a,o={};try{for(var s=Se(Object.keys(e)),i=s.next();!i.done;i=s.next()){var l=i.value,u=e[l];if(u){var c=this.getStateNode(l)._transition(u,t,n);c&&(o[l]=c)}}}catch(f){r={error:f}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}var d=Object.keys(o).map(function(e){return o[e]}),p=Je(d.map(function(e){return e.transitions}));if(!d.some(function(e){return e.transitions.length>0}))return this.next(t,n);var h=Je(Object.keys(o).map(function(e){return o[e].configuration}));return{transitions:p,exitSet:Je(d.map(function(e){return e.exitSet})),configuration:h,source:t,actions:Je(Object.keys(o).map(function(e){return o[e].actions}))}},e.prototype._transition=function(e,t,n){return lt(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,ft(t))},e.prototype.next=function(e,t){var n,r,a,o=this,s=t.name,i=[],l=[];try{for(var u=Se(this.getCandidates(s)),c=u.next();!c.done;c=u.next()){var d=c.value,p=d.cond,h=d.in,f=e.context,m=!h||(lt(h)&&Cn(h)?e.matches(qe(this.getStateNodeById(h).path,this.delimiter)):je(qe(h,this.delimiter),Qe(this.path.slice(0,-2))(e.value))),g=!1;try{g=!p||gt(this.machine,p,f,t,e)}catch(v){throw new Error("Unable to evaluate guard '".concat(p.name||p.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,"':\n").concat(v.message))}if(g&&m){void 0!==d.target&&(l=d.target),i.push.apply(i,Ie([],xe(d.actions),!1)),a=d;break}}}catch(b){n={error:b}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(a){if(!l.length)return{transitions:[a],exitSet:[],configuration:e.value?[this]:[],source:e,actions:i};var y=Je(l.map(function(t){return o.getRelativeStateNodes(t,e.historyValue)}));return{transitions:[a],exitSet:!!a.internal?[]:Je(l.map(function(e){return o.getPotentiallyReenteringNodes(e)})),configuration:y,source:e,actions:i}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this,r=e;n&&n!==r;)t.push(n),n=n.parent;return n!==r?[]:(t.push(r),t)},e.prototype.getActions=function(e,t,n,r,a,o,s){var i,l,u,c,d=this,p=o?_t([],this.getStateNodes(o.value)):[],h=new Set;try{for(var f=Se(Array.from(e).sort(function(e,t){return e.order-t.order})),m=f.next();!m.done;m=f.next()){(!Ct(p,v=m.value)||Ct(n.exitSet,v)||v.parent&&h.has(v.parent))&&h.add(v)}}catch(_){i={error:_}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(i)throw i.error}}try{for(var g=Se(p),y=g.next();!y.done;y=g.next()){var v;Ct(e,v=y.value)&&!Ct(n.exitSet,v.parent)||n.exitSet.push(v)}}catch(E){u={error:E}}finally{try{y&&!y.done&&(c=g.return)&&c.call(g)}finally{if(u)throw u.error}}n.exitSet.sort(function(e,t){return t.order-e.order});var b=Array.from(h).sort(function(e,t){return e.order-t.order}),w=new Set(n.exitSet),k=Je(b.map(function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push(zt(e.id,e.doneData),zt(o.id,e.doneData?tt(e.doneData,r,a):void 0));var s=o.parent;return"parallel"===s.type&&xt(s).every(function(e){return At(n.configuration,e)})&&t.push(zt(s.id)),t})),S=b.map(function(e){var t=e.onEntry,n=e.activities.map(function(e){return function(e){var t=Pt(e);return{type:ye.Start,activity:t,exec:void 0}}(e)});return{type:"entry",actions:Dt(s?Ie(Ie([],xe(t),!1),xe(n),!1):Ie(Ie([],xe(n),!1),xe(t),!1),d.machine.options.actions)}}).concat({type:"state_done",actions:k.map(function(e){return function(e,t){return{type:Ae,event:"function"===typeof e?e:ht(e),delay:t?t.delay:void 0,id:null===t||void 0===t?void 0:t.id}}(e)})}),x=Array.from(w).map(function(e){return{type:"exit",actions:Dt(Ie(Ie([],xe(e.onExit),!1),xe(e.activities.map(function(e){return function(e){var t=it(e)?e:Pt(e);return{type:ye.Stop,activity:t,exec:void 0}}(e)})),!1),d.machine.options.actions)}}).concat({type:"transition",actions:Dt(n.actions,this.machine.options.actions)}).concat(S);if(t){var I=Dt(Je(Ie([],xe(e),!1).sort(function(e,t){return t.order-e.order}).map(function(e){return e.onExit})),this.machine.options.actions).filter(function(e){return!wt(e)});return x.concat({type:"stop",actions:I})}return x},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var a,o,s=ft(t);if(e instanceof Vt)a=void 0===n?e:this.resolveState(Vt.from(e,n));else{var i=lt(e)?this.resolve(Ge(this.getResolvedPath(e))):this.resolve(e),l=null!==n&&void 0!==n?n:this.machine.context;a=this.resolveState(Vt.from(i,l))}if(this.strict&&!this.events.includes(s.name)&&(o=s.name,!/^(done|error)\./.test(o)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(s.name,"'"));var u=this._transition(a.value,a,s)||{transitions:[],configuration:[],exitSet:[],source:a,actions:[]},c=_t([],this.getStateNodes(a.value)),d=u.configuration.length?_t(c,u.configuration):c;return u.configuration=Ie([],xe(d),!1),this.resolveTransition(u,a,a.context,r,s)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var a,o=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(a=e.actions).unshift.apply(a,Ie([],xe(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r,a){var o,s,i,l,u=this;void 0===a&&(a=Ot);var c=e.configuration,d=!t||e.transitions.length>0,p=d?e.configuration:t?t.configuration:[],h=At(p,this),f=d?Nt(this.machine,c):void 0,m=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,g=this.getActions(new Set(p),h,e,n,a,t,r),y=t?we({},t.activities):{};try{for(var v=Se(g),b=v.next();!b.done;b=v.next()){var w=b.value;try{for(var k=(i=void 0,Se(w.actions)),S=k.next();!S.done;S=k.next()){var x=S.value;x.type===Ne?y[x.activity.id||x.activity.type]=x:x.type===Ce&&(y[x.activity.id||x.activity.type]=!1)}}catch(B){i={error:B}}finally{try{S&&!S.done&&(l=k.return)&&l.call(k)}finally{if(i)throw i.error}}}}catch(U){o={error:U}}finally{try{b&&!b.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}var I,_,E=xe(Ut(this,t,n,a,g,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),T=E[0],N=E[1],C=xe(function(e,t){var n,r,a=xe([[],[]],2),o=a[0],s=a[1];try{for(var i=Se(e),l=i.next();!l.done;l=i.next()){var u=l.value;t(u)?o.push(u):s.push(u)}}catch(U){n={error:U}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[o,s]}(T,wt),2),A=C[0],M=C[1],O=T.filter(function(e){var t;return e.type===Ne&&(null===(t=e.activity)||void 0===t?void 0:t.type)===$e}),R=O.reduce(function(e,t){return e[t.activity.id]=function(e,t,n,r){var a,o=yt(e.src),s=null===(a=null===t||void 0===t?void 0:t.options.services)||void 0===a?void 0:a[o.type],i=e.data?tt(e.data,n,r):void 0,l=s?Xt(s,e.id,i):Qt(e.id);return l.meta=e,l}(t.activity,u.machine,N,a),e},t?we({},t.children):{}),F=new Vt({value:f||t.value,context:N,_event:a,_sessionid:t?t._sessionid:null,historyValue:f?m?(I=m,_=f,{current:_,states:rt(I,_)}):void 0:t?t.historyValue:void 0,history:!f||e.source?t:void 0,actions:f?M:[],activities:f?y:t?t.activities:{},events:[],configuration:p,transitions:e.transitions,children:R,done:h,tags:Mt(p),machine:this}),D=n!==N;F.changed=a.name===We||D;var P=F.history;P&&delete P.history;var $=!h&&(this._transient||c.some(function(e){return e._transient}));if(!d&&(!$||a.name===En))return F;var L=F;if(!h)for($&&(L=this.resolveRaisedTransition(L,{type:Re},a,r));A.length;){var z=A.shift();L=this.resolveRaisedTransition(L,z._event,a,r)}var W=L.changed||(P?!!L.actions.length||D||typeof P.value!==typeof L.value||!jt(L.value,P.value):void 0);return L.changed=W,L.history=P,L},e.prototype.getStateNode=function(e){if(Cn(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=Cn(e)?e.slice(1):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"===typeof e&&Cn(e))try{return this.getStateNodeById(e.slice(1))}catch(fP){}for(var t=Ve(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||Nn;switch(this.type){case"parallel":return Ke(this.initialStateValue,function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):Nn});case"compound":if(lt(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?Ke(e,function(e,t){return e?n.getStateNode(t).resolve(e):Nn}):this.initialStateValue||{};default:return e||Nn}},e.prototype.getResolvedPath=function(e){if(Cn(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return Ve(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=Ye(this.states,function(e){return e.initialStateValue||Nn},function(e){return!("history"===e.type)});else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=kt(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!==t&&void 0!==t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=lt(t.target)&&Cn(t.target)?Ge(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return kt(this)?[this]:"compound"!==this.type||this.initial?Je(Xe(this.initialStateValue).map(function(t){return e.getFromRelativePath(t)})):[this]},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=xe(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var a=this.getStateNode(n);if("history"===a.type)return a.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:Ye(this.states,function(t,n){if(!e)return t.historyValue();var r=lt(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)},function(e){return!e.history})}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?Je(Xe(r).map(function(e){return n.getFromRelativePath(e)})):n.initialStateNodes}var a,o,s=(a=n.path,o="states",function(e){var t,n,r=e;try{for(var s=Se(a),i=s.next();!i.done;i=s.next()){var l=i.value;r=r[o][l]}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return r})(e).current;return lt(s)?[n.getStateNode(s)]:Je(Xe(s).map(function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=Je(Object.keys(this.states).map(function(t){return e.states[t].stateIds}));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var a=this.states,o=new Set(this.ownEvents);if(a)try{for(var s=Se(Object.keys(a)),i=s.next();!i.done;i=s.next()){var l=a[i.value];if(l.states)try{for(var u=(n=void 0,Se(l.events)),c=u.next();!c.done;c=u.next()){var d=c.value;o.add("".concat(d))}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(e){return!(!e.target&&!e.actions.length&&e.internal)}).map(function(e){return e.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map(function(e){if(!lt(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(a){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(a.message))}})},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return et(e)}(e.target),r="internal"in e?e.internal:!n||n.some(function(e){return lt(e)&&e[0]===t.delimiter}),a=this.machine.options.guards,o=this.resolveTarget(n),s=we(we({},e),{actions:Dt(et(e.actions)),cond:ut(e.cond,a),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return we(we({},s),{target:s.target?s.target.map(function(e){return"#".concat(e.id)}):void 0,source:"#".concat(t.id)})}});return s},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var a=this.config.on,o=Tn,s=a[o],i=void 0===s?[]:s,l=ke(a,["*"]);n=Je(Object.keys(l).map(function(e){var t=mt(e,l[e]);return t}).concat(mt(Tn,i)))}else n=[];var u=this.config.always?mt("",this.config.always):[],c=this.config.onDone?mt(String(zt(this.id)),this.config.onDone):[];var d=Je(this.invoke.map(function(e){var t=[];return e.onDone&&t.push.apply(t,Ie([],xe(mt(String(Wt(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,Ie([],xe(mt(String(Bt(e.id)),e.onError)),!1)),t})),p=this.after,h=Je(Ie(Ie(Ie(Ie([],xe(c),!1),xe(d),!1),xe(n),!1),xe(u),!1).map(function(e){return et(e).map(function(e){return r.formatTransition(e)})}));try{for(var f=Se(p),m=f.next();!m.done;m=f.next()){var g=m.value;h.push(g)}}catch(y){e={error:y}}finally{try{m&&!m.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}return h},e}();var Mn,On,Rn=function(e){return{type:Fe,assignment:e}};!function(e){e.DARK="dark",e.BRIGHT="bright",e.NORMAL="normal"}(Mn||(Mn={})),function(e){e.MATCHED="MATCHED",e.TOO_FAR="TOO FAR",e.CANT_IDENTIFY="CANNOT IDENTIFY",e.FACE_IDENTIFIED="ONE FACE IDENTIFIED",e.TOO_MANY="TOO MANY FACES",e.OFF_CENTER="OFF CENTER"}(On||(On={}));const Fn="CONNECTION_TIMEOUT",Dn="TIMEOUT",Pn="RUNTIME_ERROR",$n="SERVER_ERROR",Ln="CAMERA_FRAMERATE_ERROR",zn="CAMERA_ACCESS_ERROR",Wn="FACE_DISTANCE_ERROR",Bn="MOBILE_LANDSCAPE_ERROR",Un="MULTIPLE_FACES_ERROR",jn=1.618,Hn=1e3,Vn=4e3,qn=4001,Gn=4003,Kn=4005,Yn=4007,Qn={type:"FaceMovementAndLightChallenge",version:"2.0.0"},Xn={type:"FaceMovementChallenge",version:"1.0.0"},Jn=[Qn,Xn].map(e=>`${e.type}_${e.version}`).join(",");function Zn(e,t,n){return e*(n-t)+t}function er(e){const t=e.flippedCenterX-e.width/2,n=e.flippedCenterX+e.width/2,r=e.centerY-e.height/2,a=e.centerY+e.height/2;return{ovalBoundingBox:{left:t,top:r,right:n,bottom:a},minOvalX:t,maxOvalX:n,minOvalY:r,maxOvalY:a}}function tr(e,t){const n=Math.max(e.left,t.left),r=Math.max(e.top,t.top),a=Math.min(e.right,t.right),o=Math.min(e.bottom,t.bottom),s=Math.abs(Math.max(0,a-n)*Math.max(0,o-r));if(0===s)return 0;return s/(Math.abs((e.right-e.left)*(e.bottom-e.top))+Math.abs((t.right-t.left)*(t.bottom-t.top))-s)}function nr(e){let{width:t,height:n,widthSeed:r=1,centerXSeed:a=.5,centerYSeed:o=.5,ratioMultiplier:s=.8,ovalHeightWidthRatio:i=jn}=e;const l=n;let u=t;const c=r*s,d=Math.floor(7*t/16),p=Math.floor(9*t/16),h=Math.floor(7*n/16),f=Math.floor(9*n/16),m=Zn(a,d,p),g=Zn(o,h,f);t>=n&&(u=3/4*l);const y=c*u,v=i*y;return{flippedCenterX:Math.floor(u-m),centerX:Math.floor(m),centerY:Math.floor(g),width:Math.floor(y),height:Math.floor(v)}}function rr(e){let{canvas:t,oval:n,scaleFactor:r,videoEl:a,isStartScreen:o}=e;const{flippedCenterX:s,centerY:i,width:l,height:u}=n,{width:c,height:d}=t.getBoundingClientRect(),p=t.getContext("2d");if(!p)throw new Error("Cannot find Canvas.");{p.restore(),p.clearRect(0,0,c,d),p.fillStyle=o?getComputedStyle(t).getPropertyValue("--amplify-colors-background-primary"):"#fff",p.fillRect(0,0,c,d);const e={width:a.videoWidth,height:a.videoHeight},n={x:(c-e.width*r)/2,y:(d-e.height*r)/2};p.setTransform(r,0,0,r,n.x,n.y),p.beginPath(),p.ellipse(s,i,l/2,u/2,0,0,2*Math.PI),p.strokeStyle=getComputedStyle(t).getPropertyValue("--amplify-colors-border-secondary"),p.lineWidth=3,p.stroke(),p.save(),p.clip(),p.setTransform(1,0,0,1,0,0),p.clearRect(0,0,c,d)}}function ar(e,t,n){const{width:r,height:a}=n.getTracks()[0].getSettings(),{width:o,height:s}=t.getBoundingClientRect();e.width=Math.ceil(o),e.height=Math.ceil(s);const i=nr({width:r,height:a,ratioMultiplier:.3});i.flippedCenterX=r-i.centerX;rr({canvas:e,oval:i,scaleFactor:o/t.videoWidth,videoEl:t,isStartScreen:!0})}function or(e){const{leftEye:t,rightEye:n,mouth:r}=e,a=[];a[0]=(t[0]+n[0])/2,a[1]=(t[1]+n[1])/2;return{pupilDistance:Math.sqrt((t[0]-n[0])**2+(t[1]-n[1])**2),faceHeight:Math.sqrt((a[0]-r[0])**2+(a[1]-r[1])**2)}}function sr(e){let{ovalHeightWidthRatio:t=jn,face:n,oval:r,frameHeight:a}=e;const{leftEye:o,rightEye:s,nose:i,leftEar:l,rightEar:u}=n,{height:c,centerY:d}=r,p=d-c/2,h=[];h[0]=(o[0]+s[0])/2,h[1]=(o[1]+s[1])/2;const{pupilDistance:f,faceHeight:m}=or(n),g=(2*f+1.8*m)/2;let y,v;h[1]<=(p+c)/2?(y=(h[0]+i[0])/2,v=(h[1]+i[1])/2):(y=h[0],v=h[1]);const b=t*g,w=Math.max(v-b/2,0);return{bottom:Math.min(v+b/2,a),left:Math.min(y-g/2,u[0]),right:Math.max(y+g/2,l[0]),top:w}}function ir(e){const t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;const n=t.getContext("2d");if(n){n.drawImage(e,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height).data,a=8,o=new Array(a).fill(0);for(let e=0;e<r.length;e++){o[Math.round(.2126*r[e++]+.7152*r[e++]+.0722*r[e++])%32]++}let s=-1,i=0;for(let e=0;e<a;e++)o[e]>i&&(i=o[e],s=e);return t.remove(),0===s?Mn.DARK:s===a?Mn.BRIGHT:Mn.NORMAL}throw new Error("Cannot find Video Element.")}function lr(e){let{ctx:t,prevColor:n,nextColor:r,fraction:a}=e;const o=t.canvas.width,s=t.canvas.height;t.fillStyle=r,t.fillRect(0,0,o,s*a),1!==a&&(t.fillStyle=n,t.fillRect(0,s*a,o,s*(1-a)))}const ur=e=>!!e;class cr{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class dr{refCount(e){return pr("refCount")}incRef(e){return pr("incRef")}timerAvailable(){return!0}time(e){return pr("time")}read(e){return pr("read")}readSync(e){return pr("readSync")}readToGPU(e,t){return pr("readToGPU")}numDataIds(){return pr("numDataIds")}disposeData(e,t){return pr("disposeData")}write(e,t,n){return pr("write")}move(e,t,n,r,a){return pr("move")}createTensorFromGPUData(e,t,n){return pr("createTensorFromGPUData")}memory(){return pr("memory")}floatPrecision(){return pr("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return pr("dispose")}}function pr(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function hr(e,t,n){return Math.max(e,Math.min(t,n))}function fr(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function mr(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function gr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";mr(br(e,t),()=>n+` Shapes ${e} and ${t} must match`)}function yr(e){mr(null!=e,()=>"The input to the tensor constructor must be a non-null value.")}function vr(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function br(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function wr(e){return e%1===0}function kr(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Sr(e,t){let n=1,r=-1;for(let o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${o}`);r=o}else if(e[o]<0)throw Error(`Shapes can not be < 0. Found ${e[o]} at dim ${o}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const a=e.slice();return a[r]=t/n,a}function xr(e,t){const n=t.length;return e=null==e?t.map((e,t)=>t):[].concat(e),mr(e.every(e=>e>=-n&&e<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`),mr(e.every(e=>wr(e)),()=>`All values in axis param must be integers but got axis ${e}`),e.map(e=>e<0?n+e:e)}function Ir(e,t){return _r(e,t)}function _r(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function Er(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function Tr(e){return"string"===typeof e||e instanceof String}function Nr(e){return Array.isArray(e)?Nr(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":"number"===typeof e?"float32":Tr(e)?"string":function(e){return"boolean"===typeof e}(e)?"bool":"float32"}function Cr(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Ar(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function Mr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new Array;if(1===t.length){const o=t[0]*(r?2:1);for(let t=0;t<o;t++)a[t]=n[e+t]}else{const o=t[0],s=t.slice(1),i=s.reduce((e,t)=>e*t)*(r?2:1);for(let t=0;t<o;t++)a[t]=Mr(e+t*i,s,n,r)}return a}function Or(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const r=e.reduce((e,t)=>e*t)*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return Mr(0,e,t,n)}function Rr(e,t){const n=Fr(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function Fr(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function Dr(e,t){const n=e.reduce((e,t)=>e*t,1);if(null==t||"float32"===t)return Or(e,new Float32Array(n));if("int32"===t)return Or(e,new Int32Array(n));if("bool"===t)return Or(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function Pr(e){e.forEach(t=>{mr(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`)})}function $r(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function Lr(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function zr(e){return e&&e.then&&"function"===typeof e.then}const Wr="tfjsflags";class Br{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Ur,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(jr().getBool("IS_TEST")||jr().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];jr().getBool("IS_TEST")||jr().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(zr(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(Wr in e){e[Wr].split(",").forEach(e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:""+ +n===n?+n:t}(0,n)})}}}function Ur(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")}),t}function jr(){return Vr}let Hr,Vr=null;function qr(){if(null==Hr){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}Hr=e}return Hr}function Gr(e,t){const n=function(){const e=qr();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const Kr="Abs",Yr="Acos",Qr="Acosh",Xr="Add",Jr="AddN",Zr="All",ea="Any",ta="ArgMax",na="ArgMin",ra="Asin",aa="Asinh",oa="Atan",sa="Atanh",ia="Atan2",la="AvgPool",ua="AvgPoolGrad",ca="AvgPool3D",da="AvgPool3DGrad",pa="BatchMatMul",ha="BatchToSpaceND",fa="Bincount",ma="BitwiseAnd",ga="BroadcastArgs",ya="Cast",va="Ceil",ba="ClipByValue",wa="Complex",ka="ComplexAbs",Sa="Concat",xa="Conv2D",Ia="Conv2DBackpropFilter",_a="Conv2DBackpropInput",Ea="Conv3D",Ta="Conv3DBackpropFilterV2",Na="Conv3DBackpropInputV2",Ca="Cos",Aa="Cosh",Ma="Cumprod",Oa="Cumsum",Ra="CropAndResize",Fa="DenseBincount",Da="DepthToSpace",Pa="DepthwiseConv2dNative",$a="DepthwiseConv2dNativeBackpropFilter",La="DepthwiseConv2dNativeBackpropInput",za="Diag",Wa="Dilation2D",Ba="Dilation2DBackpropInput",Ua="Dilation2DBackpropFilter",ja="Draw",Ha="RealDiv",Va="Einsum",qa="Elu",Ga="EluGrad",Ka="Erf",Ya="Equal",Qa="Exp",Xa="ExpandDims",Ja="Expm1",Za="Fill",eo="FlipLeftRight",to="Floor",no="FloorDiv",ro="FusedBatchNorm",ao="GatherV2",oo="GatherNd",so="Greater",io="GreaterEqual",lo="Identity",uo="IFFT",co="Imag",po="IsFinite",ho="IsInf",fo="IsNan",mo="LeakyRelu",go="Less",yo="LessEqual",vo="LinSpace",bo="Log",wo="Log1p",ko="LogicalAnd",So="LogicalNot",xo="LogicalOr",Io="LRN",_o="LRNGrad",Eo="Max",To="Maximum",No="MaxPool",Co="MaxPoolGrad",Ao="MaxPool3D",Mo="MaxPool3DGrad",Oo="MaxPoolWithArgmax",Ro="Mean",Fo="Min",Do="Minimum",Po="MirrorPad",$o="Mod",Lo="Multinomial",zo="Multiply",Wo="Neg",Bo="NotEqual",Uo="NonMaxSuppressionV3",jo="NonMaxSuppressionV4",Ho="NonMaxSuppressionV5",Vo="OnesLike",qo="OneHot",Go="Pack",Ko="PadV2",Yo="Pow",Qo="Prelu",Xo="Prod",Jo="RaggedGather",Zo="RaggedRange",es="RaggedTensorToTensor",ts="Range",ns="Real",rs="Reciprocal",as="Relu",os="Reshape",ss="ResizeNearestNeighbor",is="ResizeNearestNeighborGrad",ls="ResizeBilinear",us="ResizeBilinearGrad",cs="Relu6",ds="Reverse",ps="Round",hs="Rsqrt",fs="ScatterNd",ms="TensorScatterUpdate",gs="SearchSorted",ys="Select",vs="Selu",bs="Slice",ws="Sin",ks="Sinh",Ss="Sign",xs="Sigmoid",Is="Softplus",_s="Sqrt",Es="Sum",Ts="SpaceToBatchND",Ns="SplitV",Cs="Softmax",As="SparseFillEmptyRows",Ms="SparseReshape",Os="SparseSegmentMean",Rs="SparseSegmentSum",Fs="SparseToDense",Ds="SquaredDifference",Ps="Square",$s="StaticRegexReplace",Ls="StridedSlice",zs="StringNGrams",Ws="StringSplit",Bs="StringToHashBucketFast",Us="Sub",js="Tan",Hs="Tanh",Vs="Tile",qs="TopK",Gs="Transform",Ks="Transpose",Ys="Unique",Qs="Unpack",Xs="UnsortedSegmentSum",Js="ZerosLike",Zs="Step",ei="FromPixels",ti="RotateWithOffset",ni="_FusedMatMul",ri="FusedConv2D",ai="FusedDepthwiseConv2D";function oi(){jr().getBool("IS_TEST")||jr().getBool("PROD")||console.warn(...arguments)}const si=Gr("kernelRegistry",()=>new Map),ii=Gr("gradRegistry",()=>new Map);function li(e,t){const n=pi(e,t);return si.get(n)}function ui(e){return ii.get(e)}function ci(e){const t=si.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[o,s]=a,[i]=o.split("_");i===e&&n.push(s)}return n}function di(e){const{kernelName:t,backendName:n}=e,r=pi(t,n);si.has(r)&&oi(`The kernel '${t}' for backend '${n}' is already registered`),si.set(r,e)}function pi(e,t){return`${t}_${e}`}function hi(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var fi=n(7353);const mi=n.n(fi)()||fi;function gi(e){return mi.fromString(e,!0,16)}const yi=gi("c3a5c85c97cb3127"),vi=gi("b492b66fbe98f273"),bi=gi("9ae16a3b2f90404f");function wi(e){return e.xor(e.shru(47))}function ki(e,t,n){const r=e.slice(t,t+n);return mi.fromBytes(Array.from(r),!0,!0)}function Si(e,t){return ki(e,t,8)}function xi(e,t){return ki(e,t,4)}function Ii(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function _i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gi("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));let a=t.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function Ei(e,t,n,r){return function(e,t,n,r,a,o){a=a.add(e),o=Ii(o.add(a).add(r),21);const s=a;return a=(a=a.add(t)).add(n),o=o.add(Ii(a,44)),[a.add(r),o.add(s)]}(Si(e,t),Si(e,t+8),Si(e,t+16),Si(e,t+24),n,r)}function Ti(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=mi.fromNumber(81,!0);if(t<=32)return t<=16?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){const n=bi.add(2*t),r=Si(e,0).add(bi),a=Si(e,t-8);return _i(Ii(a,37).mul(n).add(r),Ii(r,25).add(a).mul(n),n)}if(t>=4){const n=bi.add(2*t);return _i(xi(e,0).shl(3).add(t),xi(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return wi(bi.mul(n).xor(yi.mul(r))).mul(bi)}return bi}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=bi.add(2*t),r=Si(e,0).mul(vi),a=Si(e,8),o=Si(e,t-8).mul(n),s=Si(e,t-16).mul(bi);return _i(Ii(r.add(a),43).add(Ii(o,30)).add(s),r.add(Ii(a.add(bi),18)).add(o),n)}(e,t);if(t<=64)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=bi.add(2*t),r=Si(e,0).mul(bi),a=Si(e,8),o=Si(e,t-8).mul(n),s=Si(e,t-16).mul(bi),i=Ii(r.add(a),43).add(Ii(o,30)).add(s),l=_i(i,r.add(Ii(a.add(bi),18)).add(o),n),u=Si(e,16).mul(n),c=Si(e,24),d=i.add(Si(e,t-32)).mul(n),p=l.add(Si(e,t-24)).mul(n);return _i(Ii(u.add(c),43).add(Ii(d,30)).add(p),u.add(Ii(c.add(r),18)).add(d),n)}(e,t);let r=n,a=n.mul(vi).add(113),o=wi(a.mul(bi).add(113)).mul(bi),s=[mi.UZERO,mi.UZERO],i=[mi.UZERO,mi.UZERO];r=r.mul(bi).add(Si(e,0));let l=0;const u=64*(t-1>>6),c=u+(t-1&63)-63;do{r=Ii(r.add(a).add(s[0]).add(Si(e,l+8)),37).mul(vi),a=Ii(a.add(s[1]).add(Si(e,l+48)),42).mul(vi),r=r.xor(i[1]),a=a.add(s[0]).add(Si(e,l+40)),o=Ii(o.add(i[0]),33).mul(vi),s=Ei(e,l,s[1].mul(vi),r.add(i[0])),i=Ei(e,l+32,o.add(i[1]),a.add(Si(e,l+16))),[o,r]=[r,o],l+=64}while(l!==u);const d=vi.add(o.and(255).shl(1));return l=c,i[0]=i[0].add(t-1&63),s[0]=s[0].add(i[0]),i[0]=i[0].add(s[0]),r=Ii(r.add(a).add(s[0]).add(Si(e,l+8)),37).mul(d),a=Ii(a.add(s[1]).add(Si(e,l+48)),42).mul(d),r=r.xor(i[1].mul(9)),a=a.add(s[0].mul(9).add(Si(e,l+40))),o=Ii(o.add(i[0]),33).mul(d),s=Ei(e,l,s[1].mul(d),r.add(i[0])),i=Ei(e,l+32,o.add(i[1]),a.add(Si(e,l+16))),[o,r]=[r,o],_i(_i(s[0],i[0],d).add(wi(a).mul(yi)).add(o),_i(s[1],i[1],d).add(r),d)}function Ni(e,t){return"string"===t?Mi(e):Ci([e],t)}function Ci(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Fi(e)),jr().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function Ai(){return jr().platform.now()}function Mi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",jr().platform.encode(e,t)}function Oi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",jr().platform.decode(e,t)}function Ri(e){return null!=jr().platform.isTypedArray?jr().platform.isTypedArray(e):hi(e)}function Fi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||zr(e)||null==e||Ri(e)&&n)t.push(e);else if(Array.isArray(e)||Ri(e))for(let r=0;r<e.length;++r)Fi(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let a=0;a<=r;a++)Fi(e[a],t,n)}return t}class Di{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new $i)}profileKernel(e,t,n){let r;const a=()=>{r=n()};let o;const s=Ai();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(a);else{a();for(const e of r)e.dataSync();o=Promise.resolve({kernelMs:Ai()-s})}if(jr().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let i=0;i<r.length;i++){const t=r[i];t.data().then(n=>{Pi(n,t.dtype,e)})}return{kernelName:e,outputs:r,inputs:t,timeMs:o.then(e=>e.kernelMs),extraInfo:o.then(e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:a,extraInfo:o}=e;n.forEach(e=>{Promise.all([e.data(),r,o]).then(n=>{this.logger.logKernelProfile(t,e,n[0],n[1],a,n[2])})})}}function Pi(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn(`Found ${t} in the result of '${n}'`),!0}return!1}class $i{logKernelProfile(e,t,n,r,a,o){const s="number"===typeof r?kr(`${r}ms`,9):r.error,i=kr(e,25),l=t.rank,u=t.size,c=kr(t.shape.toString(),14);let d="";for(const p in a){const e=a[p];if(null!=e){const n=e.shape||t.shape,r=n.length;d+=`${p}: ${r}D ${r>0?n:""} `}}console.log(`%c${i}\t%c${s}\t%c${l}D ${c}\t%c${u}\t%c${d}\t%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function Li(e,t,n,r){const a=Ar(t),o=function(e,t,n,r){const a=vr(t),o=r[r.length-1],s=new Array(o).fill(0),i=t.length,l="complex64"===n?Ui(e):e;if(i>1)for(let u=0;u<a/o;u++){const e=u*o;for(let t=0;t<o;t++)s[t]=Math.max(s[t],zi(l[e+t],0,n).length)}return s}(e,t,n,a),s=t.length,i=Bi(e,t,n,a,o),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${s}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(i.map(e=>"    "+e).join("\n")),l.join("\n")}function zi(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:Tr(e)?`'${e}'`:"bool"===n?Wi(e):parseFloat(e.toFixed(7)).toString(),kr(r,t)}function Wi(e){return 0===e?"false":"true"}function Bi(e,t,n,r,a){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const s="complex64"===n?2:1,i=t[0],l=t.length;if(0===l){if("complex64"===n){return[zi(Ui(e)[0],0,n)]}return"bool"===n?[Wi(e[0])]:[e[0].toString()]}if(1===l){if(i>20){const t=3*s;let r=Array.from(e.slice(0,t)),o=Array.from(e.slice((i-3)*s,i*s));return"complex64"===n&&(r=Ui(r),o=Ui(o)),["["+r.map((e,t)=>zi(e,a[t],n)).join(", ")+", ..., "+o.map((e,t)=>zi(e,a[i-3+t],n)).join(", ")+"]"]}return["["+("complex64"===n?Ui(e):Array.from(e)).map((e,t)=>zi(e,a[t],n)).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),d=r[0]*s,p=[];if(i>20){for(let t=0;t<3;t++){const r=t*d,o=r+d;p.push(...Bi(e.slice(r,o),u,n,c,a,!1))}p.push("...");for(let t=i-3;t<i;t++){const r=t*d,o=r+d;p.push(...Bi(e.slice(r,o),u,n,c,a,t===i-1))}}else for(let m=0;m<i;m++){const t=m*d,r=t+d;p.push(...Bi(e.slice(t,r),u,n,c,a,m===i-1))}const h=2===l?",":"";p[0]="["+(i>0?p[0]+h:"");for(let m=1;m<p.length-1;m++)p[m]=" "+p[m]+h;let f=",\n";for(let m=2;m<l;m++)f+="\n";return p[p.length-1]=" "+p[p.length-1]+"]"+(o?"":f),p}function Ui(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class ji{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=vr(e),null!=n){const e=n.length;mr(e===this.size,()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`)}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||_r(t,this.size),this.strides=Ar(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),mr(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const a=this.locToIndex(n);this.values[a]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let r=0;for(const o of t){if(o<0||o>=this.shape[r]){const e=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(e)}r++}let a=t[t.length-1];for(let o=0;o<t.length-1;++o)a+=this.strides[o]*t[o];return this.values[a]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return Hi().makeTensor(this.values,this.shape,this.dtype)}}let Hi=null,Vi=null,qi=null;class Gi{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=vr(e),this.strides=Ar(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Vi.buffer(this.shape,this.dtype,e)}bufferSync(){return Vi.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Or(this.shape,e,"complex64"===this.dtype)}arraySync(){return Or(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=Hi().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map(e=>Oi(e))}catch(_e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Hi().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Hi().readSync(this.dataId);if("string"===this.dtype)try{return e.map(e=>Oi(e))}catch(_e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Hi().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Hi().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Vi.print(this,e)}clone(){return this.throwIfDisposed(),Vi.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Li(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Vi.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),Hi().makeVariable(this,e,t,n)}}Object.defineProperty(Gi,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),Gr("Tensor",()=>Gi);class Ki extends Gi{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!br(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Hi().disposeTensor(this),this.dataId=e.dataId,Hi().incRef(this,null)}dispose(){Hi().disposeVariable(this),this.isDisposedInternal=!0}}var Yi,Qi,Xi,Ji,Zi;Object.defineProperty(Ki,Symbol.hasInstance,{value:e=>e instanceof Gi&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(Yi||(Yi={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Qi||(Qi={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Xi||(Xi={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Ji||(Ji={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Zi||(Zi={}));const el={float32:Ji,int32:Qi,bool:Xi,complex64:Zi};function tl(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return el[e][t]}function nl(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function rl(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function al(e,t){if(e.dtype===t.dtype)return[e,t];const n=tl(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function ol(e){const t=[];return sl(e,t,new Set),t}function sl(e,t,n){if(null==e)return;if(e instanceof Gi)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!==typeof r)return;var r;const a=e;for(const o in a){const e=a[o];n.has(e)||(n.add(e),sl(e,t,n))}}function il(e){return null!=e.kernelName}class ll{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class ul{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new ll}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then(()=>{});if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(oi(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Di(this.backendInstance),!0}setupRegisteredKernels(){ci(this.backendName).forEach(e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){ci(e).forEach(t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])})}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof dr||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then(n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0)).catch(n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,oi(`Initialization of backend ${e} failed`),oi(n.stack||n.message)),!1));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return oi(`Initialization of backend ${e} failed`),oi(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:a}=this.initializeBackend(n);if(a||r)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),o=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun(()=>this.startScope(r),()=>this.endScope(n),()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return ul.nextTensorId++}nextVariableId(){return ul.nextVariableId++}clone(e){const t=dl.runKernel(lo,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],e=>({x:()=>{const t={x:e},n={dtype:"float32"};return dl.runKernel(ya,t,n)}}),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=li(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let a=0;n.forEach(e=>{a+="complex64"===e.dtype?3:1});const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=r-t-a-o;if(s>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${s} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),a=this.state.numBytes,o=this.state.numTensors;let s,i;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=il(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(il(e)){const{kernelName:t,inputs:a,attrs:o}=e;null==this.backendName&&this.backend;const l=li(t,this.backendName);mr(null!=l,()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`),s=()=>{const e=this.backend.numDataIds();i=l.kernelFunc({inputs:a,attrs:o,backend:this.backend});const s=Array.isArray(i)?i:[i];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,s);const u=s.map(e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e));if(r){const e=this.getTensorsForGradient(t,a,u);n=this.saveTensorsForBackwardMode(e)}return u}}else{const{forwardFunc:t}=e,a=e=>{r&&(n=e.map(e=>this.keep(this.clone(e))))};s=()=>{const e=this.backend.numDataIds();i=this.tidy(()=>t(this.backend,a));const n=Array.isArray(i)?i:[i];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:u,attrs:c}=e,d=il(e)?null:e.backwardsFunc;let p;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(p=this.profiler.profileKernel(l,u,()=>s()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),t=p.outputs):t=s()}),r&&this.addTapeNode(l,u,t,d,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(e=>null!=u[e]?u[e].shape:null),outputShapes:t.map(e=>e.shape),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(i)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map(e=>this.keep(this.clone(e)));return t}getTensorsForGradient(e,t,n){const r=ui(e);if(null!=r){const e=r.inputsToSave||[],a=r.outputsToSave||[];let o;r.saveAllInputs?(mr(Array.isArray(t),()=>"saveAllInputs is true, expected inputs to be an array."),o=Object.keys(t).map(e=>t[e])):o=e.map(e=>t[e]);const s=n.filter((e,t)=>a[t]);return o.concat(s)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let a=e;"string"===n&&Tr(e[0])&&(a=e.map(e=>Mi(e)));const o=r.write(a,t,n),s=new Gi(t,n,o,this.nextTensorId());if(this.trackTensor(s,r),"string"===n){const e=this.state.tensorInfo.get(o),t=function(e){if(null==e)return 0;let t=0;return e.forEach(e=>t+=e.length),t}(a);this.state.numBytes+=t-e.bytes,e.bytes=t}return s}makeTensorFromDataId(e,t,n,r){const a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:a}=e,o=new Gi(r,a,n,this.nextTensorId());return this.trackTensor(o,t),o}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const a=new Ki(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error(`Variable with name ${a.name} was already registered`);return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*Er(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof Ki||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*Er(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(e=>e.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,a,o){const s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},i=ui(e);null!=i&&(r=i.gradFunc),null!=r&&(s.gradient=e=>(e=e.map((e,t)=>{if(null==e){const e=n[t],r=Fr(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e}),r(e.length>1?e:e[0],a,o))),this.state.activeTape.push(s)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=ol(e),n=new Set(t.map(e=>e.id));for(let a=0;a<this.state.activeScope.track.length;a++){const e=this.state.activeScope.track[a];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach(e=>{e.kept||e.scopeId!==r.id||this.track(e)})}gradients(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(mr(t.length>0,()=>"gradients() received an empty list of xs."),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const a=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));mr(a instanceof Gi,()=>"The result y returned by f() must be a tensor.");const o=function(e,t,n){const r={},a={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],o=n.inputs;for(const e in o){const s=o[e];let i=!1;for(let e=0;e<t.length;e++)if(r[s.id]){n.outputs.forEach(e=>r[e.id]=!0),i=!0,a[n.id]=!0;break}if(i)break}}const o={};o[n.id]=!0;const s={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(o[t.outputs[e].id]){for(const e in n)o[n[e].id]=!0,s[t.id]=!0;break}}const i=[];for(let l=0;l<e.length;l++){const t=e[l];if(a[t.id]&&s[t.id]){const e={};for(const a in t.inputs){const n=t.inputs[a];r[n.id]&&(e[a]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,i.push(n)}}return i}(this.state.activeTape,t,a);if(!r&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const e={};e[a.id]=null==n?function(e){const t=Rr(vr(e),"float32");return dl.makeTensor(t,e,"float32")}(a.shape):n,function(e,t,n,r){for(let a=t.length-1;a>=0;a--){const o=t[a],s=[];if(o.outputs.forEach(t=>{const n=e[t.id];null!=n?s.push(n):s.push(null)}),null==o.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const i=o.gradient(s);for(const t in o.inputs){if(!(t in i))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(i)}.`);const a=n(()=>i[t]());if("float32"!==a.dtype)throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${a.dtype}'`);const s=o.inputs[t];if(!br(a.shape,s.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${t}' has shape '${a.shape}', which does not match the shape of the input '${s.shape}'`);if(null==e[s.id])e[s.id]=a;else{const t=e[s.id];e[s.id]=r(t,a),t.dispose()}}}}(e,o,e=>this.tidy(e),pl);const r=t.map(t=>e[t.id]);return 0===this.state.gradientDepth&&(this.state.activeTape.forEach(e=>{for(const t of e.saved)t.dispose()}),this.state.activeTape=null),{value:a,grads:r}})}customGrad(e){var t=this;return mr(Cr(e),()=>"The f passed in customGrad(f) must be a function."),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];let o;mr(r.every(e=>e instanceof Gi),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");const s={};r.forEach((e,t)=>{s[t]=e});return t.runKernelFunc({forwardFunc:(t,n)=>(o=e(...r,n),mr(o.value instanceof Gi,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),mr(Cr(o.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),o.value),backwardsFunc:(e,t)=>{const n=o.gradFunc(e,t),a=Array.isArray(n)?n:[n];mr(a.length===r.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),mr(a.every(e=>e instanceof Gi),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const s={};return a.forEach((e,t)=>{s[t]=()=>e}),s},inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=Ai(),n=await this.backend.time(e);return n.wallMs=Ai()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new ll;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function cl(){const e=qr();if(null==e._tfengine){const t=new Br(e);e._tfengine=new ul(t)}var t;return t=e._tfengine.ENV,Vr=t,Hi=()=>e._tfengine,e._tfengine}ul.nextTensorId=0,ul.nextVariableId=0;const dl=cl();function pl(e,t){const n={a:e,b:t};return dl.runKernel(Xr,n)}const hl=jr();function fl(e,t){let n=e;if(Ri(e))return"string"===t?[]:[e.length];if(nl(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(rl(e))return[e.buffer.size/(null==t?4:Er(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||Ri(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&jr().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&ml(e,r,[]),r}function ml(e,t,n){if(n=n||[],!Array.isArray(e)&&!Ri(e))return void mr(0===t.length,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);mr(t.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`),mr(e.length===t[0],()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`);const r=t.slice(1);for(let a=0;a<e.length;++a)ml(e[a],r,n.concat(a))}function gl(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function yl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof Gi)return gl(r,e.dtype,t,n),e;let a=Nr(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),gl(r,a,t,n),null==e||!Ri(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const o=fl(e,a);Ri(e)||Array.isArray(e)||(e=[e]);const s="string"!==a?Ci(e,a):Fi(e,[],!0);return dl.makeTensor(s,o,a)}function vl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map((e,a)=>yl(e,`${t}[${a}]`,n,r))}hl.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),hl.registerFlag("IS_BROWSER",()=>"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope),hl.registerFlag("IS_NODE",()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node),hl.registerFlag("IS_CHROME",()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),hl.registerFlag("IS_SAFARI",()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),hl.registerFlag("PROD",()=>!1),hl.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>hl.getBool("DEBUG")),hl.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),hl.registerFlag("IS_TEST",()=>!1),hl.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>hl.getBool("DEBUG")),hl.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),hl.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),hl.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);const bl="__op";function wl(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=bl;const a=function(){dl.startScope(n);try{const e=r(...arguments);return zr(e)&&console.error("Cannot return a Promise inside of tidy."),dl.endScope(e),e}catch(e){throw dl.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}const kl=wl({complex_:function(e,t){const n=yl(e,"real","complex"),r=yl(t,"imag","complex");gr(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const a={real:n,imag:r};return dl.runKernel(wa,a)}});function Sl(e,t,n,r){if(null==r)r=Nr(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(rl(e)||nl(e)){if("float32"!==r&&"int32"!==r)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return dl.backend.createTensorFromGPUData(e,t||n,r)}if(!Ri(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Pr(t);const e=vr(t),r=vr(n);mr(e===r,()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`);for(let a=0;a<n.length;++a){const e=n[a],r=a!==n.length-1||e!==vr(t.slice(a));mr(n[a]===t[a]||!r,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `)}}return Ri(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Ci(e,r):Fi(e,[],!0),dl.makeTensor(e,t,r)}function xl(e,t,n){return Sl(e,t,fl(e,n),n)}const Il={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class _l{static join(e){return new _l(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map(e=>Ri(e)?e.buffer:e)).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const a=t+r.byteLength;this.shards.push({buffer:r,start:t,end:a}),t=a}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error(`Could not find start shard for byte ${e}`);const r=new ArrayBuffer(t-e),a=new Uint8Array(r);let o=0;for(let s=n;s<this.shards.length;s++){const n=this.shards[s],r=e+o-n.start,i=o,l=Math.min(t,n.end)-n.start,u=new Uint8Array(n.buffer,r,l-r);if(a.set(u,i),o+=u.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const a=Math.floor((r-n)/2)+n,o=t(e[a]);if(0===o)return a;o<0?r=a:n=a+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}const El=4;async function Tl(e,t){const n=[],r=[],a=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);for(let o=0;o<a.length;++o){const s=a[o],i=Array.isArray(e)?e[o].tensor:e[s];if("float32"!==i.dtype&&"int32"!==i.dtype&&"bool"!==i.dtype&&"string"!==i.dtype&&"complex64"!==i.dtype)throw new Error(`Unsupported dtype in weight '${s}': ${i.dtype}`);const l={name:s,shape:i.shape,dtype:i.dtype};if("string"===i.dtype){const e=new Promise(async e=>{const t=await i.bytes(),n=t.reduce((e,t)=>e+t.length,0)+El*t.length,r=new Uint8Array(n);let a=0;for(let o=0;o<t.length;o++){const e=t[o],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,a),a+=El,r.set(e,a),a+=e.length}e(r)});r.push(e)}else r.push(i.data());null!=t&&(l.group=t),n.push(l)}return{data:Cl(await Promise.all(r)),specs:n}}function Nl(e,t){const n=new _l(e),r={};let a,o=0;for(const s of t){const e=s.name,t=s.dtype,i=s.shape,l=vr(i);let u;if("quantization"in s){const r=s.quantization;if("uint8"===r.dtype||"uint16"===r.dtype){if(!("min"in r)||!("scale"in r))throw new Error(`Weight ${s.name} with quantization ${r.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==r.dtype)throw new Error(`Weight ${s.name} has unknown quantization dtype ${r.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==t)throw new Error(`Weight ${s.name} is quantized with ${r.dtype} which only supports weights of type float32 not ${t}.`)}const i=Il[r.dtype],c=n.slice(o,o+l*i),d="uint8"===r.dtype?new Uint8Array(c):new Uint16Array(c);if("float32"===t)if("uint8"===r.dtype||"uint16"===r.dtype){u=new Float32Array(d.length);for(let e=0;e<d.length;e++){const t=d[e];u[e]=t*r.scale+r.min}}else{if("float16"!==r.dtype)throw new Error(`Unsupported quantization type ${r.dtype} for weight type float32.`);void 0===a&&(a=zl()),u=a(d)}else{if("int32"!==t)throw new Error(`Unsupported dtype in weight '${e}': ${t}`);if("uint8"!==r.dtype&&"uint16"!==r.dtype)throw new Error(`Unsupported quantization type ${r.dtype} for weight type int32.`);u=new Int32Array(d.length);for(let e=0;e<d.length;e++){const t=d[e];u[e]=Math.round(t*r.scale+r.min)}}o+=l*i}else if("string"===t){const e=vr(s.shape);u=[];for(let t=0;t<e;t++){const e=new Uint32Array(n.slice(o,o+El))[0];o+=El;const t=new Uint8Array(n.slice(o,o+e));u.push(t),o+=e}}else{const a=Il[t],s=n.slice(o,o+l*a);if("float32"===t)u=new Float32Array(s);else if("int32"===t)u=new Int32Array(s);else if("bool"===t)u=new Uint8Array(s);else{if("complex64"!==t)throw new Error(`Unsupported dtype in weight '${e}': ${t}`);{u=new Float32Array(s);const t=new Float32Array(u.length/2),n=new Float32Array(u.length/2);for(let e=0;e<t.length;e++)t[e]=u[2*e],n[e]=u[2*e+1];const a=xl(t,i,"float32"),o=xl(n,i,"float32");r[e]=kl(a,o),a.dispose(),o.dispose()}}o+=l*a}"complex64"!==t&&(r[e]=xl(u,i,t))}return r}function Cl(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach(e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)});const r=new Uint8Array(t);let a=0;return n.forEach(e=>{r.set(new Uint8Array(e.buffer),a),a+=e.byteLength}),r.buffer}const Al="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function Ml(e){return Al?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function Ol(e){return _l.join(e)}function Rl(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function Fl(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function Dl(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}async function Pl(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),Dl(e,n,r)}function $l(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Ml(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Ml(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new _l(e.weightData).byteLength}}function Ll(e){const t=[];for(const n of e)t.push(...n.weights);return t}function zl(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const a=new ArrayBuffer(4*r.length),o=new Uint32Array(a);for(let s=0;s<r.length;s++){const a=r[s],i=e[n[a>>10]+(1023&a)]+t[a>>10];o[s]=i}return new Float32Array(a)}}class Wl{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==Wl.instance&&(Wl.instance=new Wl),Wl.instance}static registerSaveRouter(e){Wl.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Wl.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Wl.getHandlers(e,"save")}static getLoadHandlers(e,t){return Wl.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?Wl.getInstance().loadRouters:Wl.getInstance().saveRouters).forEach(t=>{const a=t(e,n);null!==a&&r.push(a)}),r}}const Bl=e=>Wl.registerSaveRouter(e),Ul=e=>Wl.registerLoadRouter(e),jl=e=>Wl.getSaveHandlers(e),Hl=(e,t)=>Wl.getLoadHandlers(e,t),Vl="tensorflowjs",ql="models_store",Gl="model_info_store";function Kl(){if(!jr().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Yl(e){const t=e.result;t.createObjectStore(ql,{keyPath:"modelPath"}),t.createObjectStore(Gl,{keyPath:"modelPath"})}class Ql{constructor(e){if(this.indexedDB=Kl(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise((e,n)=>{const r=this.indexedDB.open(Vl,1);r.onupgradeneeded=()=>Yl(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(ql,"readonly"),r=t.objectStore(ql).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{t.weightData=_l.join(t.weightData);const r=$l(t),s=a.transaction(Gl,"readwrite");let i,l,u=s.objectStore(Gl);try{i=u.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(o){return n(o)}i.onsuccess=()=>{l=a.transaction(ql,"readwrite");const i=l.objectStore(ql);let c;try{c=i.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(o){return n(o)}c.onsuccess=()=>e({modelArtifactsInfo:r}),c.onerror=e=>{u=s.objectStore(Gl);const t=u.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(c.error)),t.onerror=e=>(a.close(),n(c.error))}},i.onerror=e=>(a.close(),n(i.error)),s.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)})}}Ql.URL_SCHEME="indexeddb://";const Xl=e=>{return jr().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Ql.URL_SCHEME)?(t=e.slice(Ql.URL_SCHEME.length),new Ql(t)):null;var t};Wl.registerSaveRouter(Xl),Wl.registerLoadRouter(Xl);class Jl{constructor(){this.indexedDB=Kl()}async listModels(){return new Promise((e,t)=>{const n=this.indexedDB.open(Vl,1);n.onupgradeneeded=()=>Yl(n),n.onsuccess=()=>{const r=n.result,a=r.transaction(Gl,"readonly"),o=a.objectStore(Gl).getAll();o.onsuccess=()=>{const t={};for(const e of o.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},o.onerror=e=>(r.close(),t(o.error)),a.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)})}async removeModel(e){var t;return e=(t=e).startsWith(Ql.URL_SCHEME)?t.slice(Ql.URL_SCHEME.length):t,new Promise((t,n)=>{const r=this.indexedDB.open(Vl,1);r.onupgradeneeded=()=>Yl(r),r.onsuccess=()=>{const a=r.result,o=a.transaction(Gl,"readwrite"),s=o.objectStore(Gl),i=s.get(e);let l;i.onsuccess=()=>{if(null==i.result)return a.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=s.delete(e),o=()=>{l=a.transaction(ql,"readwrite");const r=l.objectStore(ql).delete(e);r.onsuccess=()=>t(i.result.modelArtifactsInfo),r.onerror=e=>n(i.error)};r.onsuccess=o,r.onerror=e=>(o(),a.close(),n(i.error))}},i.onerror=e=>(a.close(),n(i.error)),o.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}},r.onerror=e=>n(r.error)})}}const Zl="/",eu="tensorflowjs_models",tu="info",nu="model_topology",ru="weight_specs",au="weight_data",ou="model_metadata";function su(e){return{info:[eu,e,tu].join(Zl),topology:[eu,e,nu].join(Zl),weightSpecs:[eu,e,ru].join(Zl),weightData:[eu,e,au].join(Zl),modelMetadata:[eu,e,ou].join(Zl)}}function iu(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function lu(e){const t=e.split(Zl);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(Zl)}class uu{constructor(e){if(!jr().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=su(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=$l(e),o=_l.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if(Al)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(o));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:a}}catch(t){throw iu(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const a=this.LS.getItem(this.keys.modelMetadata);if(null!=a){const e=JSON.parse(a);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(Al){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(o),t}}uu.URL_SCHEME="localstorage://";const cu=e=>{return jr().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(uu.URL_SCHEME)?(t=e.slice(uu.URL_SCHEME.length),new uu(t)):null;var t};Wl.registerSaveRouter(cu),Wl.registerLoadRouter(cu);class du{constructor(){mr(jr().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),mr("undefined"===typeof window||"undefined"!==typeof window.localStorage,()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},t=eu+Zl,n=Zl+tu;for(let r=0;r<this.LS.length;++r){const a=this.LS.key(r);if(a.startsWith(t)&&a.endsWith(n)){e[lu(a)]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){var t;const n=su(e=(t=e).startsWith(uu.URL_SCHEME)?t.slice(uu.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return iu(n),r}}const pu="://";class hu{constructor(){this.managers={}}static getInstance(){return null==hu.instance&&(hu.instance=new hu),hu.instance}static registerManager(e,t){mr(null!=e,()=>"scheme must not be undefined or null."),e.endsWith(pu)&&(e=e.slice(0,e.indexOf(pu))),mr(e.length>0,()=>"scheme must not be an empty string.");const n=hu.getInstance();mr(null==n.managers[e],()=>`A model store manager is already registered for scheme '${e}'.`),n.managers[e]=t}static getManager(e){const t=hu.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(hu.getInstance().managers)}}function fu(e){if(-1===e.indexOf(pu))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${hu.getSchemes().join(",")}`);return{scheme:e.split(pu)[0],path:e.split(pu)[1]}}async function mu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];mr(e!==t,()=>`Old path and new path are the same: '${e}'`);const r=Wl.getLoadHandlers(e);mr(r.length>0,()=>`Copying failed because no load handler is found for source URL ${e}.`),mr(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`);const a=r[0],o=Wl.getSaveHandlers(t);mr(o.length>0,()=>`Copying failed because no save handler is found for destination URL ${t}.`),mr(o.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`);const s=o[0],i=fu(e).scheme,l=fu(e).path,u=i===fu(e).scheme,c=await a.load();n&&u&&await hu.getManager(i).removeModel(l);const d=await s.save(c);return n&&!u&&await hu.getManager(i).removeModel(l),d.modelArtifactsInfo}async function gu(){const e=hu.getSchemes(),t={};for(const n of e){const e=await hu.getManager(n).listModels();for(const r in e){t[n+pu+r]=e[r]}}return t}async function yu(e){const t=fu(e);return hu.getManager(t.scheme).removeModel(t.path)}async function vu(e,t){return mu(e,t,!1)}async function bu(e,t){return mu(e,t,!0)}class wu{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&jr().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))):setTimeout(e,t)}isTypedArray(e){return hi(e)}}if(jr().get("IS_BROWSER")){jr().setPlatform("browser",new wu);try{hu.registerManager(uu.URL_SCHEME,new du)}catch(vH){}try{hu.registerManager(Ql.URL_SCHEME,new Jl)}catch(vH){}}const ku=()=>n(5817);let Su;class xu{constructor(){this.util=n(8590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=jr().global.fetch?jr().global.fetch(e,t):(null==Su&&(Su=ku()),Su(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function Iu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",Pr(e),new ji(e,t,n)}jr().get("IS_NODE")&&!jr().get("IS_BROWSER")&&jr().setPlatform("node",new xu);const _u=wl({cast_:function(e,t){const n=yl(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:t};return dl.runKernel(ya,r,a)}});const Eu=wl({clone_:function(e){const t={x:yl(e,"x","clone","string_or_numeric")};return dl.runKernel(lo,t)}});function Tu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}cl();function Nu(){return dl}function Cu(e,t){return dl.tidy(e,t)}function Au(e){ol(e).forEach(e=>e.dispose())}function Mu(e){return dl.keep(e)}function Ou(e){return dl.setBackend(e)}function Ru(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return dl.registerBackend(e,t,n)}Vi={buffer:Iu,cast:_u,clone:Eu,print:Tu},qi=function(e){jr().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")};const Fu=wl({add_:function(e,t){let n=yl(e,"a","add"),r=yl(t,"b","add");[n,r]=al(n,r);const a={a:n,b:r};return dl.runKernel(Xr,a)}});const Du=wl({floorDiv_:function(e,t){let n=yl(e,"a","floorDiv"),r=yl(t,"b","floorDiv");[n,r]=al(n,r);const a={a:n,b:r};return dl.runKernel(no,a)}});const Pu=wl({div_:function(e,t){let n=yl(e,"a","div"),r=yl(t,"b","div");if([n,r]=al(n,r),"int32"===n.dtype&&"int32"===r.dtype)return Du(n,r);const a={a:n,b:r};return dl.runKernel(Ha,a,{})}});const $u=wl({mul_:function(e,t){let n=yl(e,"a","mul"),r=yl(t,"b","mul");[n,r]=al(n,r);const a={a:n,b:r};return dl.runKernel(zo,a)}});const Lu=wl({sqrt_:function(e){const t={x:yl(e,"x","sqrt","float32")};return dl.runKernel(_s,t)}});const zu=wl({square_:function(e){const t=yl(e,"x","square");return dl.runKernel("Square",{x:t},{})}});const Wu=wl({zerosLike_:function(e){const t={x:yl(e,"x","zerosLike")};return dl.runKernel(Js,t)}});function Bu(e){return dl.customGrad(e)}function Uu(e,t){if((Ri(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Ri(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Sl(e,[],[],t)}const ju=new Map,Hu=new Map;class Vu{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class qu{constructor(){this.classNameMap={}}static getMap(){return null==qu.instance&&(qu.instance=new qu),qu.instance}static register(e){qu.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Gu(e,t,n){mr(null!=e.className,()=>"Class being registered does not have the static className property defined."),mr("string"===typeof e.className,()=>"className is required to be a string, but got type "+typeof e.className),mr(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const r=t+">"+n;return qu.register(e),ju.set(r,e),Hu.set(e,r),e}class Ku extends Vu{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:r,grads:a}=this.computeGradients(e,n);if(null!=n){const e=n.map(e=>({name:e.name,tensor:a[e.name]}));this.applyGradients(e)}else this.applyGradients(a);return Au(a),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){mr(Cr(e),()=>"The f passed in variableGrads(f) must be a function"),mr(null==t||Array.isArray(t)&&t.every(e=>e instanceof Ki),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=null!=t;if(!n){t=[];for(const e in dl.registeredVariables)t.push(dl.registeredVariables[e])}const r=n?t.filter(e=>!e.trainable):null,a=t.length;t=t.filter(e=>e.trainable),mr(t.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${a} variables is trainable.`);const{value:o,grads:s}=dl.gradients(e,t,null,!0);mr(s.some(e=>null!=e),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),mr(0===o.rank,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${o.rank} tensor`);const i={};return t.forEach((e,t)=>{null!=s[t]&&(i[e.name]=s[t])}),null!=r&&r.forEach(e=>i[e.name]=null),{value:o,grads:i}}(e,t)}dispose(){null!=this.iterations_&&Au(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:Uu(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Ku,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});function Yu(e,t,n){Pr(e);const r={shape:e,value:t,dtype:n=n||Nr(t)};return dl.runKernel(Za,{},r)}const Qu=wl({pow_:function(e,t){let n=yl(e,"base","pow"),r=yl(t,"exp","pow");[n,r]=al(n,r);const a={a:n,b:r};return dl.runKernel(Yo,a)}});const Xu=wl({sub_:function(e,t){let n=yl(e,"a","sub"),r=yl(t,"b","sub");[n,r]=al(n,r);const a={a:n,b:r};return dl.runKernel(Us,a)}});const Ju=wl({abs_:function(e){const t=yl(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return dl.runKernel(ka,e)}{const e={x:t};return dl.runKernel(Kr,e)}}});function Zu(e,t){const n=e.length,r=[];for(let a=0;a<n;a++){const o=n-1-a,s=e[o]||1;(t[t.length-1-a]||1)>1&&1===s&&r.unshift(o)}return r}function ec(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let a=0;a<n;a++){let o=e[e.length-a-1];null==o&&(o=1);let s=t[t.length-a-1];if(null==s&&(s=1),1===o)r[n-a-1]=s;else if(1===s)r[n-a-1]=o;else{if(o!==s){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}r[n-a-1]=o}}return r}const tc=wl({maximum_:function(e,t){let n=yl(e,"a","maximum"),r=yl(t,"b","maximum");[n,r]=al(n,r),"bool"===n.dtype&&(n=_u(n,"int32"),r=_u(r,"int32")),ec(n.shape,r.shape);const a={a:n,b:r};return dl.runKernel(To,a)}});class nc extends Ku{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);t.forEach((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const a=dl.registeredVariables[t];Cu(()=>{const e=Fu($u(this.c,r),a);a.assign(e)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Mu(Uu(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}const rc=[class extends Ku{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=dl.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=dl.registeredVariables[t],a=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:Cu(()=>Wu(r).variable(a))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:Cu(()=>Wu(r).variable(a))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const s=this.accumulatedGrads[n].variable,i=this.accumulatedUpdates[n].variable;Cu(()=>{const e=Fu($u(s,this.rho),$u(zu(o),1-this.rho)),t=$u(Pu(Lu(Fu(i,this.epsilon)),Lu(Fu(s,this.epsilon))),o),n=Fu($u(i,this.rho),$u(zu(t),1-this.rho));s.assign(e),i.assign(n);const a=Fu($u(t,-this.learningRate),r);r.assign(a)})}),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(Au(this.accumulatedGrads.map(e=>e.variable)),Au(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})),this.accumulatedUpdates=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}},class extends Ku{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=dl.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:Cu(()=>Yu(r.shape,this.initialAccumulatorValue).variable(e))}}const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const o=this.accumulatedGrads[n].variable;Cu(()=>{const e=Fu(o,zu(a));o.assign(e);const t=Fu($u(Pu(a,Lu(Fu(e,dl.backend.epsilon()))),-this.learningRate),r);r.assign(t)})}),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&Au(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map(e=>({originalName:e.name,variable:e.tensor.variable(false)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}},class extends Ku{static get className(){return"Adam"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Cu(()=>{this.accBeta1=Uu(t).variable(),this.accBeta2=Uu(n).variable()}),null==r&&(this.epsilon=dl.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);Cu(()=>{const n=Xu(1,this.accBeta1),r=Xu(1,this.accBeta2);t.forEach((t,a)=>{const o=dl.registeredVariables[t],s=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:`${t}/m`,variable:Cu(()=>Wu(o).variable(s))}),null==this.accumulatedSecondMoment[a]&&(this.accumulatedSecondMoment[a]={originalName:`${t}/v`,variable:Cu(()=>Wu(o).variable(s))});const i=Array.isArray(e)?e[a].tensor:e[t];if(null==i)return;const l=this.accumulatedFirstMoment[a].variable,u=this.accumulatedSecondMoment[a].variable,c=Fu($u(l,this.beta1),$u(i,1-this.beta1)),d=Fu($u(u,this.beta2),$u(zu(i),1-this.beta2)),p=Pu(c,n),h=Pu(d,r);l.assign(c),u.assign(d);const f=Fu($u(Pu(p,Fu(Lu(h),this.epsilon)),-this.learningRate),o);o.assign(f)}),this.accBeta1.assign($u(this.accBeta1,this.beta1)),this.accBeta2.assign($u(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Au(this.accumulatedFirstMoment.map(e=>e.variable)),null!=this.accumulatedSecondMoment&&Au(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e),Cu(()=>{this.accBeta1.assign(Qu(this.beta1,this.iterations_+1)),this.accBeta2.assign(Qu(this.beta2,this.iterations_+1))});const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})),this.accumulatedSecondMoment=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}},class extends Ku{static get className(){return"Adamax"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Cu(()=>{this.iteration=Uu(0).variable(),this.accBeta1=Uu(t).variable()}),null==r&&(this.epsilon=dl.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);Cu(()=>{const n=Xu(1,this.accBeta1),r=Pu(-this.learningRate,Fu($u(this.iteration,this.decay),1));t.forEach((t,a)=>{const o=dl.registeredVariables[t],s=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:`${t}/m`,variable:Wu(o).variable(s)}),null==this.accumulatedWeightedInfNorm[a]&&(this.accumulatedWeightedInfNorm[a]={originalName:`${t}/v`,variable:Wu(o).variable(s)});const i=Array.isArray(e)?e[a].tensor:e[t];if(null==i)return;const l=this.accumulatedFirstMoment[a].variable,u=this.accumulatedWeightedInfNorm[a].variable,c=Fu($u(l,this.beta1),$u(i,1-this.beta1)),d=$u(u,this.beta2),p=Ju(i),h=tc(d,p);l.assign(c),u.assign(h);const f=Fu($u(Pu(r,n),Pu(c,Fu(h,this.epsilon))),o);o.assign(f)}),this.iteration.assign(Fu(this.iteration,1)),this.accBeta1.assign($u(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Au(this.accumulatedFirstMoment.map(e=>e.variable)),null!=this.accumulatedWeightedInfNorm&&Au(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}},class extends nc{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=Uu(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=dl.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:Cu(()=>Wu(r).variable(e))}}const a=this.accumulations[n].variable,o=Array.isArray(e)?e[n].tensor:e[t];null!=o&&Cu(()=>{let e;const t=Fu($u(this.m,a),o);e=this.useNesterov?Fu($u(this.c,Fu(o,$u(t,this.m))),r):Fu($u(this.c,t),r),a.assign(t),r.assign(e)})}),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&Au(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map(e=>({originalName:e.name,variable:e.tensor.variable(false)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}},class extends Ku{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,null==r&&(this.epsilon=dl.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(e=>e.name):Object.keys(e)).forEach((t,n)=>{const r=dl.registeredVariables[t],a=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:Cu(()=>Wu(r).variable(a))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:Cu(()=>Wu(r).variable(a))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:Cu(()=>Wu(r).variable(a))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const s=this.accumulatedMeanSquares[n].variable,i=this.accumulatedMoments[n].variable;Cu(()=>{const e=Fu($u(s,this.decay),$u(zu(o),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,a=Fu($u(t,this.decay),$u(o,1-this.decay)),l=Pu($u(o,this.learningRate),Lu(Xu(e,Fu(zu(a),this.epsilon)))),u=Fu($u(i,this.momentum),l);s.assign(e),t.assign(a),i.assign(u);const c=Xu(r,u);r.assign(c)}else{const e=Fu($u(s,this.decay),$u(zu(o),1-this.decay)),t=Fu($u(i,this.momentum),Pu($u(o,this.learningRate),Lu(Fu(e,this.epsilon))));s.assign(e),i.assign(t);const n=Xu(r,t);r.assign(n)}})}),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&Au(this.accumulatedMeanSquares.map(e=>e.variable)),null!=this.accumulatedMeanGrads&&this.centered&&Au(this.accumulatedMeanGrads.map(e=>e.variable)),null!=this.accumulatedMoments&&Au(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})),this.accumulatedMoments=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map(e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}},nc];function ac(e){return new Promise(e=>setTimeout(e)).then(e)}class oc{constructor(e){if(!jr().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(oc.URL_SCHEME)&&(e=e.slice(oc.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=_l.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=Fl(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=r,await ac(()=>a.dispatchEvent(new MouseEvent("click"))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await ac(()=>e.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:$l(e)}}}}oc.URL_SCHEME="downloads://";class sc{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),a=r.modelTopology;if(null==a)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==r.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:a});const o=Pl(r,e=>this.loadWeights(e));e(o)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)})}loadWeights(e){const t=[],n=[];for(const o of e)t.push(...o.weights),n.push(...o.paths);const r=this.checkManifestAndWeightFiles(e),a=n.map(e=>this.loadWeightsFile(e,r[e]));return Promise.all(a).then(e=>[t,e])}loadWeightsFile(e,t){return new Promise((n,r)=>{const a=new FileReader;a.onload=e=>{const t=e.target.result;n(t)},a.onerror=t=>r(`Failed to weights data from file of path '${e}'.`),a.readAsArrayBuffer(t)})}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map(e=>Rl(e.name)),r={};for(const a of e)a.paths.forEach(e=>{const a=Rl(e);if(-1!==t.indexOf(a))throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(t.push(a),-1===n.indexOf(a))throw new Error(`Weight file with basename '${a}' is not provided.`);r[e]=this.weightsFiles[n.indexOf(a)]});if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function ic(e){return new sc(e)}function lc(e,t,n,r){!function(e){mr(null!=e&&Array.isArray(e)&&e.length>0,()=>"promises must be a none empty array")}(e),function(e,t){mr(e>=0&&e<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`),mr(t>=0&&t<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`),mr(t>=e,()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`)}(n=null==n?0:n,r=null==r?1:r);let a=0;return Promise.all(e.map(o=>(o.then(o=>{const s=n+ ++a/e.length*(r-n);return t(s),o}),o)))}async function uc(e,t){null==t&&(t={});const n=null==t.fetchFunc?jr().platform.fetch:t.fetchFunc,r=e.map(e=>n(e,t.requestInit,{isBinary:!0})),a=(null==t.onProgress?await Promise.all(r):await lc(r,t.onProgress,0,.5)).map(e=>e.arrayBuffer());return null==t.onProgress?await Promise.all(a):await lc(a,t.onProgress,.5,1)}async function cc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return dc(e=>uc(e,{requestInit:r}))(e,t,n)}function dc(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;const a=t.map(()=>!1),o={},s=null!=r?r.map(()=>!1):[],i=[];if(t.forEach((e,t)=>{let n=0;e.weights.forEach(e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,u=Il[l]*vr(e.shape),c=()=>{a[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=r?r.forEach((t,n)=>{t===e.name&&(c(),s[n]=!0)}):c(),i.push(e.name),n+=u})}),!s.every(e=>e)){const e=r.filter((e,t)=>!s[t]);throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${i.join(", ")}.`)}const l=a.reduce((e,t,n)=>(t&&e.push(n),e),[]),u=[];l.forEach(e=>{t[e].paths.forEach(e=>{const t=n+(n.endsWith("/")?"":"/")+e;u.push(t)})});const c=await e(u),d={};let p=0;return l.forEach(e=>{const n=t[e].paths.length,r=new _l(c.slice(p,p+n));o[e].forEach(e=>{const t=Nl(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)d[n]=t[n]}),p+=n}),d}}Wl.registerSaveRouter(e=>jr().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(oc.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new oc(e)}(e.slice(oc.URL_SCHEME.length)):null);class pc{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(mr("function"===typeof t.fetchFunc,()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=t.fetchFunc):this.fetch=jr().platform.fetch,mr(null!=e&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&mr(2===e.length,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=Fl(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=_l.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:$l(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(fP){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return Pl(t,e=>this.loadWeights(e))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}(t),a=this.weightPathPrefix||n,o=Ll(e),s=[],i=[];for(const l of e)for(const e of l.paths)null!=this.weightUrlConverter?i.push(this.weightUrlConverter(e)):s.push(a+e+r);this.weightUrlConverter&&s.push(...await Promise.all(i));return[o,await uc(s,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})]}}function hc(e){return null!=e.match(pc.URL_SCHEME_REGEX)}pc.URL_SCHEME_REGEX=/^https?:\/\//;const fc=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every(e=>hc(e)):hc(e),n)return mc(e,t)}return null};function mc(e,t){return new pc(e,t)}function gc(e,t){return mc(e,t)}Wl.registerSaveRouter(fc),Wl.registerLoadRouter(fc);class yc{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class vc{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class bc{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function wc(e,t,n,r){return new bc(kc(...arguments))}function kc(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new yc(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new yc({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new yc({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function Sc(e){return new vc(e)}function xc(e){return new vc(e)}function Ic(e,t,n){if(yr(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=fl(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Sl(e,t,r,n)}let _c,Ec=!1;function Tc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,o=!1,s=!1,i=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else if(null!=e.getContext)s=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);i=!0}if(null!=li(ei,dl.backendName)){const n={pixels:e},r={numChannels:t};return dl.runKernel(ei,n,r)}const[l,u]=a?[e.videoWidth,e.videoHeight]:[e.width,e.height];let c,d;if(s)c=e.getContext("2d").getImageData(0,0,l,u).data;else if(r||n)c=e.data;else if(o||a||i){if(null==_c)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");_c=new OffscreenCanvas(1,1).getContext("2d")}else _c=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});_c.canvas.width=l,_c.canvas.height=u,_c.drawImage(e,0,0,l,u),c=_c.getImageData(0,0,l,u).data}if(4===t)d=new Int32Array(c);else{const e=l*u;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=c[4*n+e]}return Ic(d,[u,l,t],"int32")}function Nc(e){if(2!==e.rank&&3!==e.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${e.rank}.`);const t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error(`Unsupported type for toPixels: ${e.dtype}. Please use float32 or int32 tensors.`)}async function Cc(e,t){let n=yl(e,"img","toPixels");if(!(e instanceof Gi)){const e=n;n=_u(e,"int32"),e.dispose()}Nc(n);const[r,a]=n.shape.slice(0,2),o=2===n.rank?1:n.shape[2],s=await n.data(),i="float32"===n.dtype?255:1,l=new Uint8ClampedArray(a*r*4);for(let u=0;u<r*a;++u){const e=[0,0,0,255];for(let r=0;r<o;r++){const t=s[u*o+r];if("float32"===n.dtype){if(t<0||t>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${t}.`)}else if("int32"===n.dtype&&(t<0||t>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${t}.`);1===o?(e[0]=t*i,e[1]=t*i,e[2]=t*i):e[r]=t*i}const t=4*u;l[t+0]=Math.round(e[0]),l[t+1]=Math.round(e[1]),l[t+2]=Math.round(e[2]),l[t+3]=Math.round(e[3])}if(null!=t){if(!Ec){null!=li(ja,dl.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),Ec=!0)}t.width=a,t.height=r;const e=t.getContext("2d"),n=new ImageData(l,a,r);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}const Ac=wl({fromPixels_:Tc});function Mc(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===vr(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const a=t.shape,o=a[a.length-1];let s=1;for(let d=0;d<a.length-1;++d)s*=a[d];const i=e.shape,l=a.slice();l.pop();let u=1;for(let d=o;d<n;++d)u*=i[d],l.push(i[d]);const c=[...Ar(e.shape).map(e=>e/u),1].slice(0,o);return[l,s,u,c]}function Oc(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}!function(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(o+` update.rank < ${a}. `);if(e.length<r+(n.rank-a))throw new Error(o+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+e.length-r)throw new Error(o+" update.rank != "+(a+e.length-r));for(let s=0;s<a;++s)if(n.shape[s]!==t.shape[s])throw new Error(o+` updates.shape[${s}] (${n.shape[s]}) != indices.shape[${s}] (${t.shape[s]}).`);for(let s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(o+` updates.shape[${s+a}] (${n.shape[s+a]}) != shape[${s+a}] (${e[s+a]})`)}(n,t,e)}function Rc(e,t,n){const r=t.shape.length,a=r>1?t.shape[r-1]:1,o=n.length;let s=1;for(let l=a;l<o;++l)s*=n[l];const i=a<1?1:a;return{sliceRank:a,numUpdates:vr(t.shape)/i,sliceSize:s,strides:[...Ar(n.slice(0,a)),1],outputSize:vr(n)}}function Fc(e,t,n){const r=[];for(let a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function Dc(e,t,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function Pc(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function $c(e,t,n){let r;const a=e.shape.length;let o;return r="number"===typeof t?[t,...new Array(a-1).fill(0)]:t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice(),r.forEach(e=>{mr(-1!==e,()=>"slice() does not support negative begin indexing.")}),o=null==n?new Array(a).fill(-1):"number"===typeof n?[n,...new Array(a-1).fill(-1)]:n.length<a?n.concat(new Array(a-n.length).fill(-1)):n,o=o.map((t,n)=>t>=0?t:(mr(-1===t,()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`),e.shape[n]-r[n])),[r,o]}function Lc(e,t,n,r,a,o,s,i,l){let u;if(null==r?(u=new Array(t.length),u.fill(1)):u=r,null!=s&&0!==(s&s-1))throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:a,endMask:o,ellipsisMask:s,newAxisMask:i,shrinkAxisMask:l};for(let b=0;b<d.dims;b++)c&&0!==(1<<b&i)&&d.numAddAxisAfterEllipsis++,1<<b&s&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,p);let h=!0,f=!0,m=!0;const g=[],y=[];for(let b=0;b<e.length;++b){if(0===p.strides[b])throw Error(`strides[${b}] must be non-zero`);const t=!!(p.shrinkAxisMask&1<<b),n=e[b];if(-1===n){g.push(t?1:-1);continue}const r=[p.beginMask&1<<b,p.endMask&1<<b],a=[p.strides[b]>0?0:-1,p.strides[b]>0?n:n-1];if(t&&p.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===p.strides[b];const o=!!(p.beginMask&1<<b&&p.endMask&1<<b);if(p.beginValid&&p.endValid){if(t){const e=p.begin[b]<0?n+p.begin[b]:p.begin[b];if(p.begin[b]=e,p.end[b]=p.begin[b]+1,e<0||e>=n)throw Error(`slice index ${p.begin[b]} of dimension ${b} out of bounds.`)}else p.begin[b]=zc(p.begin[b],0,p.strides[b],n,r,a),p.end[b]=zc(p.end[b],1,p.strides[b],n,r,a);const e=1===p.strides[b]&&0===p.begin[b]&&p.end[b]===n;h=h&&e,f=f&&(0===b&&1===p.strides[b]||e)}else h=h&&1===p.strides[b]&&o,f=f&&(0===b&&1===p.strides[b]||o);let s,i=!1;if(p.beginValid&&p.endValid?(s=p.end[b]-p.begin[b],i=!0):t?(s=1,i=!0):o&&n>=0&&(s=p.strides[b]<0?-n:n,i=!0),i){let e;e=0===s||s<0!==p.strides[b]<0?0:Math.trunc(s/p.strides[b])+(s%p.strides[b]!==0?1:0),g.push(e)}else g.push(-1)}for(let b=0;b<p.finalShapeGatherIndices.length;++b){const e=p.finalShapeGatherIndices[b];e>=0?y.push(g[e]):-2===e&&y.push(1)}const v=y.filter((e,t)=>-2!==p.finalShapeGatherIndices[t]);return{finalShapeSparse:v,finalShape:y,isIdentity:h,sliceDim0:f,isSimpleSlice:m,begin:p.begin,end:p.end,strides:p.strides}}function zc(e,t,n,r,a,o){if(a[t])return n>0?o[t]:o[t+1&1];{const t=e<0?r+e:e;return t<o[0]?o[0]:t>o[1]?o[1]:t}}const Wc=wl({acos_:function(e){const t={x:yl(e,"x","acos")};return dl.runKernel(Yr,t)}});const Bc=wl({acosh_:function(e){const t={x:yl(e,"x","acosh")};return dl.runKernel(Qr,t)}});const Uc=wl({addN_:function(e){mr(Array.isArray(e),()=>"The argument passed to tf.addN() must be a list of tensors"),mr(e.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`);const t=e.map((e,t)=>yl(e,`tensors${t}`,"addN")),n=t[0];t.forEach(e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(e=>{if(!br(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=t;return dl.runKernel(Jr,r)}});const jc=wl({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:yl(e,"x","all","bool")},a={axis:t,keepDims:n};return dl.runKernel(Zr,r,a)}});const Hc=wl({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:yl(e,"x","any","bool")},a={axis:t,keepDims:n};return dl.runKernel(ea,r,a)}});const Vc=wl({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:yl(e,"x","argMax")},r={axis:t};return dl.runKernel(ta,n,r)}});const qc=wl({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:yl(e,"x","argMin")},r={axis:t};return dl.runKernel(na,n,r)}});const Gc=wl({asin_:function(e){const t={x:yl(e,"x","asin")};return dl.runKernel(ra,t)}});const Kc=wl({asinh_:function(e){const t={x:yl(e,"x","asinh")};return dl.runKernel(aa,t)}});const Yc=wl({atan_:function(e){const t={x:yl(e,"x","atan")};return dl.runKernel(oa,t)}});const Qc=wl({atan2_:function(e,t){let n=yl(e,"a","atan2"),r=yl(t,"b","atan2");[n,r]=al(n,r);const a={a:n,b:r};return dl.runKernel(ia,a)}});const Xc=wl({atanh_:function(e){const t={x:yl(e,"x","atanh")};return dl.runKernel(sa,t)}});function Jc(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0;return td(e,[...t,e[3]],n,o,r,null,null,dd(a))}function Zc(e,t,n,r,a,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[i,l]=ad(t);let u;if("channelsLast"===s)u=[i,l,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);u=[i,l,e[1],e[1]]}return td(e,u,n,r,a,o,!1,s)}function ed(e,t,n,r,a,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC";const[i,l,u]=od(t);let c,d;if("NDHWC"===s)d="channelsLast",c=[i,l,u,e[4],e[4]];else{if("NCDHW"!==s)throw new Error(`Unknown dataFormat ${s}`);d="channelsFirst",c=[i,l,u,e[1],e[1]]}return nd(e,c,n,r,a,!1,d,o)}function td(e,t,n,r,a,o){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[l,u,c,d]=[-1,-1,-1,-1];if("channelsLast"===i)[l,u,c,d]=e;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[l,d,u,c]=e}const[p,h,,f]=t,[m,g]=ad(n),[y,v]=ad(r),b=sd(p,y),w=sd(h,v),{padInfo:k,outHeight:S,outWidth:x}=function(e,t,n,r,a,o,s,i,l){let u,c,d;if("number"===typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,a){null==r&&(r=rd(e,t,n));const o=e[0],s=e[1],i=id((o-t+2*r)/n+1,a),l=id((s-t+2*r)/n+1,a);return[i,l]}([t,n],o,r,e,i);c=a[0],d=a[1]}else if("same"===e){c=Math.ceil(t/r),d=Math.ceil(n/a);const e=Math.max(0,(c-1)*r+o-t),i=Math.max(0,(d-1)*a+s-n),l=Math.floor(e/2),p=e-l,h=Math.floor(i/2);u={top:l,bottom:p,left:h,right:i-h,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-o+1)/r),d=Math.ceil((n-s+1)/a);else{if("object"!==typeof e)throw Error(`Unknown padding parameter: ${e}`);{const p="channelsLast"===l?e[1][0]:e[2][0],h="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];u={top:p,bottom:h,left:f,right:m,type:0===p&&0===h&&0===f&&0===m?"VALID":"EXPLICIT"},c=id((t-o+p+h)/r+1,i),d=id((n-s+f+m)/a+1,i)}}return{padInfo:u,outHeight:c,outWidth:d}}(a,u,c,m,g,b,w,o,i),I=s?f*d:f;let _;return"channelsFirst"===i?_=[l,I,S,x]:"channelsLast"===i&&(_=[l,S,x,I]),{batchSize:l,dataFormat:i,inHeight:u,inWidth:c,inChannels:d,outHeight:S,outWidth:x,outChannels:I,padInfo:k,strideHeight:m,strideWidth:g,filterHeight:p,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:w,dilationHeight:y,dilationWidth:v,inShape:e,outShape:_,filterShape:t}}function nd(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",i=arguments.length>7?arguments[7]:void 0,[l,u,c,d,p]=[-1,-1,-1,-1,-1];if("channelsLast"===s)[l,u,c,d,p]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,p,u,c,d]=e}const[h,f,m,,g]=t,[y,v,b]=od(n),[w,k,S]=od(r),x=sd(h,w),I=sd(f,k),_=sd(m,S),{padInfo:E,outDepth:T,outHeight:N,outWidth:C}=function(e,t,n,r,a,o,s,i,l,u,c){let d,p,h,f;"valid"===e&&(e=0);if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,r,a,o){null==a&&(a=rd(e,t[0],r[0]));const s=[0,0,0,n];for(let i=0;i<3;i++)e[i]+2*a>=t[i]&&(s[i]=id((e[i]-t[i]+2*a)/r[i]+1,o));return s}([t,n,r,1],[i,l,u],1,[a,o,s],e,c);p=m[0],h=m[1],f=m[2]}else{if("same"!==e)throw Error(`Unknown padding parameter: ${e}`);{p=Math.ceil(t/a),h=Math.ceil(n/o),f=Math.ceil(r/s);const e=(p-1)*a+i-t,c=(h-1)*o+l-n,m=(f-1)*s+u-r,g=Math.floor(e/2),y=e-g,v=Math.floor(c/2),b=c-v,w=Math.floor(m/2);d={top:v,bottom:b,left:w,right:m-w,front:g,back:y,type:"SAME"}}}return{padInfo:d,outDepth:p,outHeight:h,outWidth:f}}(a,u,c,d,y,v,b,x,I,_,i),A=o?g*p:g;let M;return"channelsFirst"===s?M=[l,A,T,N,C]:"channelsLast"===s&&(M=[l,T,N,C,A]),{batchSize:l,dataFormat:s,inDepth:u,inHeight:c,inWidth:d,inChannels:p,outDepth:T,outHeight:N,outWidth:C,outChannels:A,padInfo:E,strideDepth:y,strideHeight:v,strideWidth:b,filterDepth:h,filterHeight:f,filterWidth:m,effectiveFilterDepth:x,effectiveFilterHeight:I,effectiveFilterWidth:_,dilationDepth:w,dilationHeight:k,dilationWidth:S,inShape:e,outShape:M,filterShape:t}}function rd(e,t,n){const r=sd(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function ad(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function od(e){return"number"===typeof e?[e,e,e]:e}function sd(e,t){return t<=1?e:e+(e-1)*(t-1)}function id(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function ld(e){const[t,n,r]=ad(e);return 1===t&&1===n&&1===r}function ud(e,t){return ld(e)||ld(t)}function cd(e){return ad(e).every(e=>e>0)}function dd(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function pd(e,t,n){if(null!=n){if("string"===typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"===typeof t)mr(wr(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);else{if("object"!==typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach(t=>{t.forEach(t=>{mr(wr(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`)})})}}}const hd=wl({reshape_:function(e,t){const n={x:yl(e,"x","reshape","string_or_numeric")},r={shape:t};return dl.runKernel(os,n,r)}});const fd=wl({avgPool_:function(e,t,n,r,a){const o=yl(e,"x","avgPool","float32");mr(ud(n,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`);let s=o,i=!1;3===o.rank&&(i=!0,s=hd(o,[1,o.shape[0],o.shape[1],o.shape[2]])),mr(4===s.rank,()=>`Error in avgPool: x must be rank 4 but got rank ${s.rank}.`),pd("avgPool",r,a);const l={x:s},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let c=dl.runKernel(la,l,u);return c=_u(c,o.dtype),i?hd(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const md=wl({avgPool3d_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const s=yl(e,"x","avgPool3d","float32");let i=s,l=!1;4===s.rank&&(l=!0,i=hd(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),mr(5===i.rank,()=>`Error in avgPool3d: x must be rank 5 but got rank ${i.rank}.`),mr("NDHWC"===o,()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),mr("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),pd("avgPool3d",r,a);const u={x:i},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o};let d=dl.runKernel(ca,u,c);return d=_u(d,i.dtype),l?hd(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const gd=wl({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;mr(e.length>=1,()=>"Pass at least one tensor to concat");const n=vl(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach(e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)}),1===n.length)return Eu(n[0]);const r=n,a={axis:t};return dl.runKernel(Sa,r,a)}});const yd=wl({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=yl(e,"a","matMul"),o=yl(t,"b","matMul");[a,o]=al(a,o);const s={a:a,b:o},i={transposeA:n,transposeB:r};return dl.runKernel(pa,s,i)}});const vd=wl({sigmoid_:function(e){const t={x:yl(e,"x","sigmoid","float32")};return dl.runKernel(xs,t)}});const bd=wl({slice_:function(e,t,n){const r=yl(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const a={x:r},o={begin:t,size:n};return dl.runKernel(bs,a,o)}});const wd=wl({tanh_:function(e){const t={x:yl(e,"x","tanh","float32")};return dl.runKernel(Hs,t)}});const kd=wl({basicLSTMCell_:function(e,t,n,r,a,o){const s=yl(e,"forgetBias","basicLSTMCell"),i=yl(t,"lstmKernel","basicLSTMCell"),l=yl(n,"lstmBias","basicLSTMCell"),u=yl(r,"data","basicLSTMCell"),c=yl(a,"c","basicLSTMCell"),d=yl(o,"h","basicLSTMCell"),p=gd([u,d],1),h=yd(p,i),f=Fu(h,l),m=f.shape[0],g=f.shape[1]/4,y=[m,g],v=bd(f,[0,0],y),b=bd(f,[0,g],y),w=bd(f,[0,2*g],y),k=bd(f,[0,3*g],y),S=Fu($u(vd(v),wd(b)),$u(c,vd(Fu(s,w))));return[S,$u(wd(S),vd(k))]}});const Sd=wl({batchToSpaceND_:function(e,t,n){const r=yl(e,"x","batchToSpaceND"),a=t.reduce((e,t)=>e*t);mr(r.rank>=1+t.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`),mr(n.length===t.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`),mr(r.shape[0]%a===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${a}`);const o={x:r},s={blockShape:t,crops:n};return dl.runKernel(ha,o,s)}});const xd=wl({batchNorm_:function(e,t,n,r,a,o){null==o&&(o=.001);const s=yl(e,"x","batchNorm"),i=yl(t,"mean","batchNorm"),l=yl(n,"variance","batchNorm");let u,c;null!=a&&(u=yl(a,"scale","batchNorm")),null!=r&&(c=yl(r,"offset","batchNorm")),mr(i.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),mr(null==c||i.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),mr(null==u||i.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const d={x:function(e){let t;return t=0===e.rank||1===e.rank?hd(e,[1,1,1,e.size]):2===e.rank?hd(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?hd(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(s),scale:u,offset:c,mean:i,variance:l},p={varianceEpsilon:o},h=dl.runKernel(ro,d,p);return hd(h,s.shape)}});const Id=wl({batchNorm2d_:function(e,t,n,r,a,o){const s=yl(e,"x","batchNorm"),i=yl(t,"mean","batchNorm"),l=yl(n,"variance","batchNorm");let u,c;return null!=a&&(u=yl(a,"scale","batchNorm")),null!=r&&(c=yl(r,"offset","batchNorm")),mr(2===s.rank,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${s.rank}.`),mr(2===i.rank||1===i.rank,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${i.rank}.`),mr(2===l.rank||1===l.rank,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),null!=u&&mr(2===u.rank||1===u.rank,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),null!=c&&mr(2===c.rank||1===c.rank,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),xd(s,i,l,c,u,o)}});const _d=wl({batchNorm3d_:function(e,t,n,r,a,o){const s=yl(e,"x","batchNorm"),i=yl(t,"mean","batchNorm"),l=yl(n,"variance","batchNorm");let u,c;return null!=a&&(u=yl(a,"scale","batchNorm")),null!=r&&(c=yl(r,"offset","batchNorm")),mr(3===s.rank,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${s.rank}.`),mr(3===i.rank||1===i.rank,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${i.rank}.`),mr(3===l.rank||1===l.rank,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),null!=u&&mr(3===u.rank||1===u.rank,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),null!=c&&mr(3===c.rank||1===c.rank,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),xd(s,i,l,c,u,o)}});const Ed=wl({batchNorm4d_:function(e,t,n,r,a,o){const s=yl(e,"x","batchNorm"),i=yl(t,"mean","batchNorm"),l=yl(n,"variance","batchNorm");let u,c;return null!=a&&(u=yl(a,"scale","batchNorm")),null!=r&&(c=yl(r,"offset","batchNorm")),mr(4===s.rank,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${s.rank}.`),mr(4===i.rank||1===i.rank,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${i.rank}.`),mr(4===l.rank||1===l.rank,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),null!=u&&mr(4===u.rank||1===u.rank,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),null!=c&&mr(4===c.rank||1===c.rank,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),xd(s,i,l,c,u,o)}});const Td=wl({bincount_:function(e,t,n){const r=yl(e,"x","bincount"),a=yl(t,"weights","bincount");mr("int32"===r.dtype,()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),mr(n>=0,()=>`size must be non-negative, but got ${n}.`),mr(a.size===r.size||0===a.size,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`);const o={x:r,weights:a},s={size:n};return dl.runKernel(fa,o,s)}});const Nd=wl({bitwiseAnd_:function(e,t){const n=yl(e,"x","bitwiseAnd"),r=yl(t,"y","bitwiseAnd");if(!br(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const a={a:n,b:r};return dl.runKernel(ma,a)}});const Cd=wl({broadcastArgs_:function(e,t){const n=yl(e,"s0","broadcastArgs","int32"),r=yl(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==r.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const a={s0:n,s1:r};return dl.runKernel(ga,a)}});const Ad=wl({broadcastTo_:function(e,t){let n=yl(e,"broadcastTo","x");const r=n.shape;if(Pr(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=hd(n,e)}const a=n.shape,o=Array.from(t);for(let u=t.length-1;u>=0;u--)if(a[u]===t[u])o[u]=1;else if(1!==n.shape[u])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);const s=o.map((e,t)=>e>1?t:-1).filter(e=>e>=0);if(0===s.length)return Eu(n);const i={x:n},l={reps:o};return dl.runKernel(Vs,i,l)}});const Md=wl({ceil_:function(e){const t={x:yl(e,"x","ceil","float32")};return dl.runKernel(va,t)}});const Od=wl({clipByValue_:function(e,t,n){const r=yl(e,"x","clipByValue");if(mr(t<=n,()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`),t===n)return Yu(r.shape,t,r.dtype);const a={x:r},o={clipValueMin:t,clipValueMax:n};return dl.runKernel(ba,a,o)}});const Rd=wl({concat1d_:function(e){return gd(e,0)}});const Fd=wl({concat2d_:function(e,t){return gd(e,t)}});const Dd=wl({concat3d_:function(e,t){return gd(e,t)}});const Pd=wl({concat4d_:function(e,t){return gd(e,t)}});const $d=wl({conv2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0;const i=yl(e,"x","conv2d","float32"),l=yl(t,"filter","conv2d","float32");let u=i,c=!1;3===i.rank&&(c=!0,u=hd(i,[1,i.shape[0],i.shape[1],i.shape[2]])),mr(4===u.rank,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),mr(4===l.rank,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),pd("conv2d",r,s);const d="NHWC"===a?u.shape[3]:u.shape[1];mr(d===l.shape[2],()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`),mr(ud(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),mr(cd(o),()=>"Error in conv2D: Dilated rates should be larger than 0."),mr(cd(n),()=>"Error in conv2D: Strides should be larger than 0.");const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:s},f=dl.runKernel(xa,p,h);return c?hd(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Ld=wl({conv1d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const i=yl(e,"x","conv1d"),l=yl(t,"filter","conv1d");let u=i,c=!1;2===i.rank&&(c=!0,u=hd(i,[1,i.shape[0],i.shape[1]])),mr(3===u.rank,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),mr(3===l.rank,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),pd("conv1d",r,s),mr(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),mr(ud(n,o),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${o}'`),mr(cd(o),()=>"Error in conv1D: Dilated rates should be larger than 0."),mr(cd(n),()=>"Error in conv1D: Stride should be larger than 0."),mr("NWC"===a,()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`);const d=hd(l,[1,l.shape[0],l.shape[1],l.shape[2]]),p=hd(u,[u.shape[0],1,u.shape[1],u.shape[2]]),h=$d(p,d,[1,n],r,"NHWC",[1,o],s);return hd(h,c?[h.shape[2],h.shape[3]]:[h.shape[0],h.shape[2],h.shape[3]])}});const zd=wl({conv2DBackpropInput_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",s=arguments.length>6?arguments[6]:void 0;mr(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let i=e,l=t,u=!1;3===t.rank&&(u=!0,l=hd(t,[1,t.shape[0],t.shape[1],t.shape[2]]),i=[1,e[0],e[1],e[2]]),mr(4===i.length,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${i.length}.`),mr(4===l.rank,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),mr(4===n.rank,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c="NHWC"===o?i[3]:i[1],d="NHWC"===o?l.shape[3]:l.shape[1];mr(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),mr(d===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`),pd("conv2dDerInput",a,s);const p={dy:l,filter:n},h={strides:r,pad:a,dataFormat:o,dimRoundingMode:s,inputShape:i},f=dl.runKernel(_a,p,h);return u?hd(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Wd=wl({conv2dTranspose_:function(e,t,n,r,a,o){const s=yl(e,"x","conv2dTranspose"),i=yl(t,"filter","conv2dTranspose");return zd(n,s,i,r,a,"NHWC",o)}});const Bd=wl({conv3d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const s=yl(e,"x","conv3d"),i=yl(t,"filter","conv3d");let l=s,u=!1;4===s.rank&&(u=!0,l=hd(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),mr(5===l.rank,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),mr(5===i.rank,()=>`Error in conv3d: filter must be rank 5, but got rank ${i.rank}.`),mr(l.shape[4]===i.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${i.shape[3]}.`),mr(ud(n,o),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),mr("NDHWC"===a,()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`),mr(cd(o),()=>"Error in conv3D: Dilated rates should be larger than 0."),mr(cd(n),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:l,filter:i},d={strides:n,pad:r,dataFormat:a,dilations:o},p=dl.runKernel(Ea,c,d);return u?hd(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const Ud=wl({conv3DBackpropInput_:function(e,t,n,r,a){mr(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let o=e,s=t,i=!1;4===t.rank&&(i=!0,s=hd(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);const l=o[4],u=s.shape[4];mr(5===o.length,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`),mr(5===s.rank,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${s.rank}`),mr(5===n.rank,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),mr(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),mr(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const c={dy:s,filter:n},d={pad:a,strides:r,inputShape:o},p=dl.runKernel(Na,c,d);return i?hd(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const jd=wl({conv3dTranspose_:function(e,t,n,r,a){const o=yl(e,"x","conv3dTranspose"),s=yl(t,"filter","conv3dTranspose");return Ud(n,o,s,r,a)}});const Hd=wl({cos_:function(e){const t={x:yl(e,"x","cos","float32")};return dl.runKernel(Ca,t)}});const Vd=wl({cosh_:function(e){const t={x:yl(e,"x","cosh","float32")};return dl.runKernel(Aa,t)}});const qd=wl({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={x:yl(e,"x","cumprod")},o={axis:t,exclusive:n,reverse:r};return dl.runKernel(Ma,a,o)}});const Gd=wl({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={x:yl(e,"x","cumsum")},o={axis:t,exclusive:n,reverse:r};return dl.runKernel(Oa,a,o)}});const Kd=wl({denseBincount_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=yl(e,"x","denseBincount"),o=yl(t,"weights","denseBincount");mr("int32"===a.dtype,()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`),mr(a.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`),mr(n>=0,()=>`size must be non-negative, but got ${n}.`),mr(o.size===a.size||0===o.size,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${o.shape}.`);const s={x:a,weights:o},i={size:n,binaryOutput:r};return dl.runKernel(Fa,s,i)}});const Yd=wl({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const r=yl(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],s="NHWC"===n?r.shape[3]:r.shape[1];mr(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),mr(a*t>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t}  for depthToSpace with input shape\n    ${r.shape}`),mr(o*t>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${o} and ${t} for depthToSpace with input shape\n        ${r.shape}`),mr(s%(t*t)===0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${s} for depthToSpace with input shape ${r.shape}`);const i={x:r},l={blockSize:t,dataFormat:n};return dl.runKernel(Da,i,l)}});const Qd=wl({depthwiseConv2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0;const i=yl(e,"x","depthwiseConv2d","float32"),l=yl(t,"filter","depthwiseConv2d","float32");let u=i,c=!1;3===i.rank&&(c=!0,u=hd(i,[1,i.shape[0],i.shape[1],i.shape[2]])),mr(4===u.rank,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),mr(4===l.rank,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const d="NHWC"===a?u.shape[3]:u.shape[1];mr(d===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`),pd("depthwiseConv2d",r,s);const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:s},f=dl.runKernel(Pa,p,h);return c?hd(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Xd=wl({diag_:function(e){const t={x:yl(e,"x","diag")};return dl.runKernel(za,t)}});const Jd=wl({dilation2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const s=yl(e,"x","dilation2d"),i=yl(t,"filter","dilation2d");mr(3===s.rank||4===s.rank,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${s.rank}.`),mr(3===i.rank,()=>`Error in dilation2d: filter must be rank 3, but got rank ${i.rank}.`),mr("NHWC"===o,()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${o}`);let l=s,u=!1;3===s.rank&&(l=hd(s,[1,s.shape[0],s.shape[1],s.shape[2]]),u=!0),mr(l.shape[3]===i.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${i.shape[2]}`);const c={x:l,filter:i},d={strides:n,pad:r,dilations:a},p=dl.runKernel(Wa,c,d);return u?hd(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const Zd=wl({equal_:function(e,t){let n=yl(e,"a","equal","string_or_numeric"),r=yl(t,"b","equal","string_or_numeric");[n,r]=al(n,r),ec(n.shape,r.shape);const a={a:n,b:r};return dl.runKernel(Ya,a)}});const ep=wl({where_:function(e,t,n){const r=yl(t,"a","where"),a=yl(n,"b","where"),o=yl(e,"condition","where","bool"),s=ec(ec(o.shape,r.shape),a.shape),i={condition:Ad(o,s),t:Ad(r,s),e:Ad(a,s)};return dl.runKernel(ys,i)}});const tp=wl({divNoNan_:function(e,t){let n=yl(e,"a","div"),r=yl(t,"b","div");[n,r]=al(n,r);const a=Pu(n,r),o=Wu(a),s=Zd(r,o);return ep(s,o,a)}});const np=wl({dot_:function(e,t){const n=yl(e,"t1","dot"),r=yl(t,"t2","dot");mr((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const a=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];if(mr(a===o,()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${o}.`),1===n.rank&&1===r.rank){const e=hd(n,[1,-1]),t=hd(r,[-1,1]),a=yd(e,t);return hd(a,[])}if(1===n.rank&&2===r.rank){const e=hd(n,[1,-1]),t=hd(r,[r.shape[0],r.shape[1]]),a=yd(e,t);return hd(a,[a.size])}if(2===n.rank&&1===r.rank){const e=hd(r,[-1,1]),t=yd(n,e);return hd(t,[t.size])}{const e=hd(r,[r.shape[0],r.shape[1]]);return yd(n,e)}}});const rp=wl({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map((e,t)=>yl(e,`tensors${t}`,"einsum")),o={equation:e};return dl.runKernel(Va,a,o)}});const ap=wl({elu_:function(e){const t={x:yl(e,"x","elu","float32")};return dl.runKernel(qa,t)}});const op=wl({ensureShape_:function(e,t){const n=yl(e,"x","ensureShape","string_or_numeric");if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}});const sp=wl({erf_:function(e){let t=yl(e,"x","erf");mr("int32"===t.dtype||"float32"===t.dtype,()=>"Input dtype must be `int32` or `float32`."),"int32"===t.dtype&&(t=_u(t,"float32"));const n={x:t};return dl.runKernel(Ka,n)}});function ip(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function lp(e,t){const n=[],r=e.length;for(let a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map(t=>e[t])]}function up(e,t){return function(e,t,n){const r=e.length+t.length,a=[];let o=0,s=0;for(let i=0;i<r;i++)-1===n.indexOf(i)?a.push(e[o++]):a.push(t[s++]);return a}(e,t.map(e=>1),t)}function cp(e,t,n){mr(ip(t,n),()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`)}function dp(e,t){if(ip(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach(e=>n.push(e)),n}function pp(e){return e.map((e,t)=>[t,e]).sort((e,t)=>e[1]-t[1]).map(e=>e[0])}function hp(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const fp=wl({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:yl(e,"x","max")},a={reductionIndices:t,keepDims:n};return dl.runKernel(Eo,r,a)}});const mp=wl({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:yl(e,"x","min")},a={axis:t,keepDims:n};return dl.runKernel(Fo,r,a)}});const gp=wl({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=yl(e,"x","sum");"bool"===r.dtype&&(r=_u(r,"int32"));const a={x:r},o={axis:t,keepDims:n};return dl.runKernel(Es,a,o)}});function yp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return Ju(e);if(1!==e.rank&&null===n)return yp(hd(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return gp(Ju(e),n);if(t===1/0)return fp(Ju(e),n);if(t===-1/0)return mp(Ju(e),n);if("euclidean"===t||2===t)return Lu(gp(Qu(Ju(e),Uu(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return fp(gp(Ju(e),n[0]),n[1]-1);if(t===1/0)return fp(gp(Ju(e),n[1]),n[0]);if(t===-1/0)return mp(gp(Ju(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return Lu(gp(zu(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const vp=wl({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=yp(e=yl(e,"x","norm"),t,n);let o=a.shape;if(r){const t=xr(n,e.shape);o=up(a.shape,t)}return hd(a,o)}});const bp=wl({euclideanNorm_:function(e){return vp(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});const wp=wl({exp_:function(e){const t={x:yl(e,"x","exp")};return dl.runKernel(Qa,t)}});const kp=wl({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=yl(e,"x","expandDims","string_or_numeric");mr(t<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},a={dim:t};return dl.runKernel(Xa,r,a)}});const Sp=wl({expm1_:function(e){const t={x:yl(e,"x","expm1")};return dl.runKernel(Ja,t)}});const xp=wl({tile_:function(e,t){const n=yl(e,"x","tile","string_or_numeric");mr(n.rank===t.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`);const r={x:n},a={reps:t};return dl.runKernel(Vs,r,a)}});const Ip=wl({eye_:function(e,t,n){null==t&&(t=e);const r=Iu([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),a=e<=t?e:t;for(let s=0;s<a;++s)r.set(1,s,s);const o=hd(r.toTensor(),[e,t]);if(null==n)return o;if(1===n.length)return xp(kp(o,0),[n[0],1,1]);if(2===n.length)return xp(kp(kp(o,0),0),[n[0],n[1],1,1]);if(3===n.length)return xp(kp(kp(kp(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});const _p=wl({floor_:function(e){const t={x:yl(e,"x","floor","float32")};return dl.runKernel(to,t)}});const Ep=wl({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a={x:yl(e,"x","gather"),indices:yl(t,"indices","gather","int32")},o={axis:n,batchDims:r};return dl.runKernel(ao,a,o)}});const Tp=wl({greater_:function(e,t){let n=yl(e,"a","greater","string_or_numeric"),r=yl(t,"b","greater","string_or_numeric");[n,r]=al(n,r),ec(n.shape,r.shape);const a={a:n,b:r};return dl.runKernel(so,a)}});const Np=wl({greaterEqual_:function(e,t){let n=yl(e,"a","greaterEqual","string_or_numeric"),r=yl(t,"b","greaterEqual","string_or_numeric");[n,r]=al(n,r),ec(n.shape,r.shape);const a={a:n,b:r};return dl.runKernel(io,a)}});const Cp=wl({imag_:function(e){const t={input:yl(e,"input","imag")};return dl.runKernel(co,t)}});const Ap=wl({isFinite_:function(e){const t={x:yl(e,"x","isFinite")};return dl.runKernel(po,t)}});const Mp=wl({isInf_:function(e){const t={x:yl(e,"x","isInf")};return dl.runKernel(ho,t)}});const Op=wl({isNaN_:function(e){const t={x:yl(e,"x","isNaN")};return dl.runKernel(fo,t)}});const Rp=wl({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:yl(e,"x","leakyRelu")},r={alpha:t};return dl.runKernel(mo,n,r)}});const Fp=wl({less_:function(e,t){let n=yl(e,"a","less","string_or_numeric"),r=yl(t,"b","less","string_or_numeric");[n,r]=al(n,r),ec(n.shape,r.shape);const a={a:n,b:r};return dl.runKernel(go,a)}});const Dp=wl({lessEqual_:function(e,t){let n=yl(e,"a","lessEqual","string_or_numeric"),r=yl(t,"b","lessEqual","string_or_numeric");[n,r]=al(n,r),ec(n.shape,r.shape);const a={a:n,b:r};return dl.runKernel(yo,a)}});function Pp(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return dl.runKernel(vo,{},r)}const $p=wl({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const o=yl(e,"x","localResponseNormalization");mr(4===o.rank||3===o.rank,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${o.rank}.`),mr(wr(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let s=o,i=!1;3===o.rank&&(i=!0,s=hd(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:s},u={depthRadius:t,bias:n,alpha:r,beta:a},c=dl.runKernel(Io,l,u);return i?hd(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Lp=wl({log_:function(e){const t={x:yl(e,"x","log","float32")};return dl.runKernel(bo,t)}});const zp=wl({log1p_:function(e){const t={x:yl(e,"x","log1p")};return dl.runKernel(wo,t)}});const Wp=wl({neg_:function(e){const t={x:yl(e,"x","neg")};return dl.runKernel(Wo,t)}});const Bp=wl({softplus_:function(e){const t={x:yl(e,"x","softplus")};return dl.runKernel(Is,t)}});const Up=wl({logSigmoid_:function(e){const t=yl(e,"x","logSigmoid");return Bu(e=>({value:Wp(Bp(Wp(e))),gradFunc:t=>$u(t,vd(Wp(e)))}))(t)}});const jp=wl({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=yl(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const r=Bu((e,n)=>{const r=fp(e,t,!0),a=Xu(e,r),o=Xu(_u(a,"float32"),Lp(gp(wp(a),t,!0)));n([o]);return{value:o,gradFunc:(e,n)=>{const[r]=n,a=wp(r);return Xu(e,$u(gp(e,t,!0),a))}}});return r(n)}});const Hp=wl({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=yl(e,"x","logSumExp"),a=xr(t,r.shape),o=fp(r,a,!0),s=Xu(r,o),i=wp(s),l=gp(i,a),u=Lp(l),c=Fu(hd(o,u.shape),u);if(n){const e=up(c.shape,a);return hd(c,e)}return c}});const Vp=wl({logicalAnd_:function(e,t){const n=yl(e,"a","logicalAnd","bool"),r=yl(t,"b","logicalAnd","bool");ec(n.shape,r.shape);const a={a:n,b:r};return dl.runKernel(ko,a)}});const qp=wl({logicalNot_:function(e){const t={x:yl(e,"x","logicalNot","bool")};return dl.runKernel(So,t)}});const Gp=wl({logicalOr_:function(e,t){const n=yl(e,"a","logicalOr","bool"),r=yl(t,"b","logicalOr","bool");ec(n.shape,r.shape);const a={a:n,b:r};return dl.runKernel(xo,a)}});const Kp=wl({logicalXor_:function(e,t){const n=yl(e,"a","logicalXor","bool"),r=yl(t,"b","logicalXor","bool");return ec(n.shape,r.shape),Vp(Gp(e,t),qp(Vp(e,t)))}}),Yp=2147483648;const Qp=wl({searchSorted_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const r=yl(e,"sortedSequence","searchSorted"),a=yl(t,"values","searchSorted"),o=r.shape[r.shape.length-1],s=a.shape[a.shape.length-1],i=hd(r,[-1,o]),l=hd(a,[-1,s]);if(i.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(i.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(vr(l.shape)>=Yp)throw new Error("values tensor size must less than 2147483648");if(i.shape[1]>=Yp)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${i.shape[1]}`);const u={sortedSequence:i,values:l},c={side:n};return dl.runKernel(gs,u,c)}});function Xp(e,t){return Qp(e,t,"left")}const Jp=wl({maxPool_:function(e,t,n,r,a){const o=yl(e,"x","maxPool");let s=o,i=!1;3===o.rank&&(i=!0,s=hd(o,[1,o.shape[0],o.shape[1],o.shape[2]])),mr(4===s.rank,()=>`Error in maxPool: input must be rank 4 but got rank ${s.rank}.`),mr(ud(n,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`),pd("maxPool",r,a);const l={x:s},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=dl.runKernel(No,l,u);return i?hd(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Zp=wl({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const s=yl(e,"x","maxPool3d");let i=s,l=!1;4===s.rank&&(l=!0,i=hd(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),mr(5===i.rank,()=>`Error in maxPool3d: x must be rank 5 but got rank ${i.rank}.`),mr("NDHWC"===o,()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),pd("maxPool3d",r,a);const u={x:i},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o},d=dl.runKernel(Ao,u,c);return l?hd(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const eh=wl({maxPoolWithArgmax_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o={x:yl(e,"x","maxPoolWithArgmax")},s={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},i=dl.runKernel(Oo,o,s);return{result:i[0],indexes:i[1]}}});const th=wl({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:yl(e,"x","mean")},a={axis:t,keepDims:n};return dl.runKernel(Ro,r,a)}});function nh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Pr(e),"complex64"===t){const t=nh(e,"float32"),n=nh(e,"float32");return kl(t,n)}const n=Fr(vr(e),t);return dl.makeTensor(n,e,t)}function rh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Pr(e),"complex64"===t){const t=rh(e,"float32"),n=nh(e,"float32");return kl(t,n)}const n=Rr(vr(e),t);return dl.makeTensor(n,e,t)}function ah(e,t){let{indexing:n="xy"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let r=yl(e,"x","meshgrid",e instanceof Gi?e.dtype:"float32");if(void 0===t)return[r];let a=yl(t,"y","meshgrid",t instanceof Gi?t.dtype:"float32");const o=vr(r.shape),s=vr(a.shape);return"xy"===n?(r=hd(r,[1,-1]),a=hd(a,[-1,1]),[yd(rh([s,1],r.dtype),r),yd(a,rh([1,o],a.dtype))]):(r=hd(r,[-1,1]),a=hd(a,[1,-1]),[yd(r,rh([1,s],r.dtype)),yd(rh([o,1],a.dtype),a)])}const oh=wl({minimum_:function(e,t){let n=yl(e,"a","minimum"),r=yl(t,"b","minimum");[n,r]=al(n,r),"bool"===n.dtype&&(n=_u(n,"int32"),r=_u(r,"int32")),ec(n.shape,r.shape);const a={a:n,b:r};return dl.runKernel(Do,a)}});const sh=wl({mirrorPad_:function(e,t,n){mr("reflect"===n||"symmetric"===n,()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=yl(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");mr(t.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`);const a="reflect"===n?1:0;for(let i=0;i<r.rank;i++)mr(2===t[i].length,()=>"Invalid number of paddings. Must be length of 2 each."),mr(t[i][0]>=0&&t[i][0]<=r.shape[i]-a&&t[i][1]>=0&&t[i][1]<=r.shape[i]-a,()=>`Padding in dimension ${i} cannot be greater than or equal to ${r.shape[i]-a} or less than 0 for input of shape ${r.shape}`);const o={paddings:t,mode:n},s={x:r};return dl.runKernel(Po,s,o)}});const ih=wl({mod_:function(e,t){let n=yl(e,"a","mod"),r=yl(t,"b","mod");[n,r]=al(n,r);const a={a:n,b:r};return dl.runKernel($o,a)}});const lh=wl({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=xr(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=yl(e,"x","moments")).shape),r=th(e,n,t);let a=r.shape;t||(a=up(r.shape,n));const o=zu(Xu(_u(e,"float32"),hd(r,a)));return{mean:r,variance:th(o,n,t)}}});const uh=wl({multiRNNCell_:function(e,t,n,r){const a=yl(t,"data","multiRNNCell"),o=vl(n,"c","multiRNNCell"),s=vl(r,"h","multiRNNCell");let i=a;const l=[];for(let d=0;d<e.length;d++){const t=e[d](i,o[d],s[d]);l.push(t[0]),l.push(t[1]),i=t[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}});const ch=wl({multinomial_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=yl(e,"logits","multinomial"),o=a.size,s=a.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(s>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${s}`);n=n||Math.random();const i={logits:1===s?hd(a,[1,-1]):a},l={numSamples:t,seed:n,normalized:r},u=dl.runKernel(Lo,i,l);return 1===s?hd(u,[u.size]):u}});const dh=wl({notEqual_:function(e,t){let n=yl(e,"a","notEqual","string_or_numeric"),r=yl(t,"b","notEqual","string_or_numeric");[n,r]=al(n,r),ec(n.shape,r.shape);const a={a:n,b:r};return dl.runKernel(Bo,a)}});const ph=wl({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const o={indices:yl(e,"indices","oneHot","int32")},s={dtype:a,depth:t,onValue:n,offValue:r};return dl.runKernel(qo,o,s)}});const hh=wl({onesLike_:function(e){const t={x:yl(e,"x","onesLike")};return dl.runKernel(Vo,t)}});const fh=wl({outerProduct_:function(e,t){const n=yl(e,"v1","outerProduct"),r=yl(t,"v2","outerProduct");mr(1===n.rank&&1===r.rank,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const a=hd(n,[-1,1]),o=hd(r,[1,-1]);return yd(a,o)}});const mh=wl({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=yl(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},o={x:r};return dl.runKernel(Ko,o,a)}});const gh=wl({pad1d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return mr(2===t.length,()=>"Invalid number of paddings. Must be length of 2."),mh(e,[t],n)}});const yh=wl({pad2d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return mr(2===t.length&&2===t[0].length&&2===t[1].length,()=>"Invalid number of paddings. Must be length of 2 each."),mh(e,t,n)}});const vh=wl({pad3d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return mr(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,()=>"Invalid number of paddings. Must be length of 2 each."),mh(e,t,n)}});const bh=wl({pad4d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return mr(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,()=>"Invalid number of paddings. Must be length of 2 each."),mh(e,t,n)}});const wh=wl({spaceToBatchND_:function(e,t,n){const r=yl(e,"x","spaceToBatchND");mr(r.rank>=1+t.length,()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`),mr(n.length===t.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`),mr(r.shape.reduce((e,r,a)=>a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`);const a={x:r},o={blockShape:t,paddings:n};return dl.runKernel(Ts,a,o)}});const kh=wl({pool_:function(e,t,n,r,a,o,s){null==a&&(a=[1,1]),null==o&&(o=1),0===r&&(r="valid");const i=yl(e,"x","maxPool");let l=i,u=!1;3===i.rank&&(u=!0,l=hd(i,[1,i.shape[0],i.shape[1],i.shape[2]])),mr(ud(o,a),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${o} and dilations '${a}'`);const c=Zc(l.shape,t,o,a,r),d=[c.dilationHeight,c.dilationWidth];let p;p="same"===r?function(e,t){const n=e.map((e,n)=>e+(e-1)*(t[n]-1)),r=n.map(e=>e-1),a=r.map(e=>Math.floor(e/2)),o=r.map((e,t)=>e-a[t]);return r.map((e,t)=>[a[t],o[t]])}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];const h=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const r=n.map(e=>e[0]),a=n.map(e=>e[1]),o=e.concat(r,a),s=t.map((e,t)=>(e-o[t]%e)%e),i=a.map((e,t)=>e+s[t]),l=t.map((e,t)=>[r[t],i[t]]),u=t.map((e,t)=>[0,s[t]]);return[l,u]}([c.inHeight,c.inWidth],d,p),g=h?r:"valid",y=h?l:wh(l,d,f),v=("avg"===n?()=>fd(y,t,o,g,s):()=>Jp(y,t,o,g,s))(),b=h?v:Sd(v,d,m);return u?hd(b,[b.shape[1],b.shape[2],b.shape[3]]):b}});const Sh=wl({prelu_:function(e,t){const n={x:yl(e,"x","prelu"),alpha:yl(t,"alpha","prelu")};return dl.runKernel(Qo,n)}});const xh=wl({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=yl(e,"x","prod");"bool"===r.dtype&&(r=_u(r,"int32"));const a={x:r},o={axis:t,keepDims:n};return dl.runKernel(Xo,a,o)}});const Ih=wl({raggedGather_:function(e,t,n,r){const a=e.map((e,t)=>yl(e,`tensors${t}`,"raggedGather","int32")),o={paramsNestedSplits:a,paramsDenseValues:yl(t,"paramsDenseValues","raggedGather"),indices:yl(n,"indices","raggedGather","int32")},s={outputRaggedRank:r},i=dl.runKernel(Jo,o,s);return{outputNestedSplits:i.slice(0,i.length-1),outputDenseValues:i[i.length-1]}}});const _h=wl({raggedRange_:function(e,t,n){const r=yl(e,"starts","raggedRange"),a={starts:r,limits:yl(t,"limits","raggedRange",r.dtype),deltas:yl(n,"deltas","raggedRange",r.dtype)},o=dl.runKernel(Zo,a);return{rtNestedSplits:o[0],rtDenseValues:o[1]}}});const Eh=wl({raggedTensorToTensor_:function(e,t,n,r,a){const o=yl(e,"shape","raggedTensorToTensor","int32"),s=yl(t,"values","raggedTensorToTensor"),i=yl(n,"defaultValue","raggedTensorToTensor",s.dtype),l=r.map((e,t)=>yl(e,`tensors${t}`,"raggedTensorToTensor","int32")),u={shape:o,values:s,defaultValue:i,rowPartitionTensors:l},c={rowPartitionTypes:a};return dl.runKernel(es,u,c)}});const Th=wl({rand_:function(e,t,n){Pr(e);const r=vr(e);let a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);a=new Uint8Array(r)}for(let o=0;o<r;o++)a[o]=t();return dl.makeTensor(a,e,n)}});var Nh=n(4334);class Ch{constructor(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const o=a||Math.random();this.random=Nh.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,a,o;do{r=2*this.random()-1,a=2*this.random()-1,o=r*r+a*a}while(o>=1||0===o);const s=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*r*s,t=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Ah{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const a=r||Math.random();this.randu=Nh.alea(a.toString()),this.randn=new Ch(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,a,o;for(;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-o+Math.log(o)),a=this.randu(),a<t||Math.log(a)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class Mh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=Nh.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const Oh=wl({randomGamma_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(Pr(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error(`Unsupported data type ${r}`);const o=new Ah(t,n,r,a),s=Iu(e,r);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const Rh=wl({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(Pr(e),null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const o=new Ch(t,n,r,!1,a),s=Iu(e,r);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const Fh=wl({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return Rh(e,0,1,t,n)}});const Dh=wl({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;Pr(e);const o=Iu(e,r),s=new Mh(t,n,null,a);for(let i=0;i<o.values.length;i++)o.values[i]=s.nextValue();return o.toTensor()}});const Ph=wl({randomUniformInt_:function(e,t,n,r){return Dh(e,t,n,"int32",r)}});function $h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:r};return dl.runKernel(ts,{},a)}const Lh=wl({real_:function(e){const t={input:yl(e,"input","real")};return dl.runKernel(ns,t)}});const zh=wl({reciprocal_:function(e){const t={x:yl(e,"x","reciprocal")};return dl.runKernel(rs,t)}});const Wh=wl({relu_:function(e){const t={x:yl(e,"x","relu")};return dl.runKernel(as,t)}});const Bh=wl({relu6_:function(e){const t={x:yl(e,"x","relu6")};return dl.runKernel(cs,t)}});const Uh=wl({reverse_:function(e,t){const n={x:yl(e,"x","reverse")},r={dims:t};return dl.runKernel(ds,n,r)}});const jh=wl({reverse1d_:function(e){const t=yl(e,"x","reverse");return mr(1===t.rank,()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`),Uh(t,0)}});const Hh=wl({reverse2d_:function(e,t){const n=yl(e,"x","reverse");return mr(2===n.rank,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Uh(n,t)}});const Vh=wl({reverse3d_:function(e,t){const n=yl(e,"x","reverse");return mr(3===n.rank,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Uh(n,t)}});const qh=wl({reverse4d_:function(e,t){const n=yl(e,"x","reverse");return mr(4===n.rank,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Uh(n,t)}});const Gh=wl({round_:function(e){const t={x:yl(e,"x","round")};return dl.runKernel(ps,t)}});const Kh=wl({rsqrt_:function(e){const t={x:yl(e,"x","rsqrt","float32")};return dl.runKernel(hs,t)}});const Yh=wl({selu_:function(e){const t={x:yl(e,"x","selu")};return dl.runKernel(vs,t)}});const Qh=wl({separableConv2d_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const i=yl(e,"x","separableConv2d"),l=yl(t,"depthwiseFilter","separableConv2d"),u=yl(n,"pointwiseFilter","separableConv2d");let c=i,d=!1;if(3===i.rank&&(d=!0,c=hd(i,[1,i.shape[0],i.shape[1],i.shape[2]])),"NCHW"===s)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");mr(4===c.rank,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),mr(4===l.rank,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),mr(4===u.rank,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),mr(1===u.shape[0],()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),mr(1===u.shape[1],()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const p=l.shape[2],h=l.shape[3];mr(u.shape[2]===p*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${p*h}, but got ${u.shape[2]}.`);const f=Qd(c,l,r,a,s,o),m=$d(f,u,1,"valid",s);return d?hd(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const Xh=async function(e,t){const n=yl(e,"x","setdiff1d"),r=yl(t,"y","setdiff1d");mr(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),mr(1===n.rank,()=>`x should be 1D tensor, but got x (${n.shape}).`),mr(1===r.rank,()=>`y should be 1D tensor, but got y (${r.shape}).`);const a=await n.data(),o=await r.data(),s=new Set(o);let i=0;for(let c=0;c<a.length;c++)s.has(a[c])||i++;const l=new ji([i],n.dtype),u=new ji([i],"int32");for(let c=0,d=0;c<a.length;c++)s.has(a[c])||(l.values[d]=a[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]};const Jh=wl({sign_:function(e){const t={x:yl(e,"x","sign")};return dl.runKernel(Ss,t)}});const Zh=wl({sin_:function(e){const t={x:yl(e,"x","sin","float32")};return dl.runKernel(ws,t)}});const ef=wl({sinh_:function(e){const t={x:yl(e,"x","sinh")};return dl.runKernel(ks,t)}});const tf=wl({slice1d_:function(e,t,n){const r=yl(e,"x","slice1d");return mr(1===r.rank,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),bd(r,[t],[n])}});const nf=wl({slice2d_:function(e,t,n){const r=yl(e,"x","slice2d");return mr(2===r.rank,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),bd(r,t,n)}});const rf=wl({slice3d_:function(e,t,n){const r=yl(e,"x","slice3d");return mr(3===r.rank,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),bd(r,t,n)}});const af=wl({slice4d_:function(e,t,n){const r=yl(e,"x","slice4d");return mr(4===r.rank,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),bd(r,t,n)}});const of=wl({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=yl(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},a={dim:t};return dl.runKernel(Cs,r,a)}});const sf=wl({fft_:function(e){mr("complex64"===e.dtype,()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`);const t={input:e};return dl.runKernel("FFT",t)}});const lf=wl({ifft_:function(e){mr("complex64"===e.dtype,()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`);const t={input:e};return dl.runKernel(uo,t)}});const uf=wl({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const a=hd(e,[n,t]);r=lf(a)}else{const a=[n,2*(t-1)],o=hd(Lh(e),[n,t]),s=hd(Cp(e),[n,t]),i=Uh(bd(o,[0,1],[n,t-2]),1),l=$u(Uh(bd(s,[0,1],[n,t-2]),1),Uu(-1)),u=gd([o,i],1),c=gd([s,l],1),d=hd(kl(u,c),[a[0],a[1]]);r=lf(d)}if(r=Lh(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=hd(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const cf=wl({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={x:yl(e,"x","split")},a={numOrSizeSplits:t,axis:n};return dl.runKernel(Ns,r,a)}});const df=wl({rfft_:function(e,t){mr("float32"===e.dtype,()=>`The dtype for rfft() must be real value but got ${e.dtype}`);let n=e.shape[e.shape.length-1];const r=e.size/n;let a;if(null!=t&&t<n){const r=e.shape.map(e=>0),o=e.shape.map(e=>e);o[e.shape.length-1]=t,a=bd(e,r,o),n=t}else if(null!=t&&t>n){const r=e.shape.map(e=>e);r[e.shape.length-1]=t-n,a=gd([e,nh(r)],e.shape.length-1),n=t}else a=e;const o=Wu(a),s=hd(kl(a,o),[r,n]),i=sf(s),l=Math.floor(n/2)+1,u=Lh(i),c=Cp(i),d=cf(u,[l,n-l],u.shape.length-1),p=cf(c,[l,n-l],c.shape.length-1),h=a.shape.slice();return h[a.shape.length-1]=l,hd(kl(d[0],p[0]),h)}});const pf=wl({squaredDifference_:function(e,t){let n=yl(e,"a","squaredDifference"),r=yl(t,"b","squaredDifference");[n,r]=al(n,r),ec(n.shape,r.shape);const a={a:n,b:r};return dl.runKernel(Ds,a,{})}});const hf=wl({squeeze_:function(e,t){const n=yl(e,"x","squeeze","string_or_numeric");return hd(n,function(e,t){const n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||a?null:xr(t,e).sort();let s=0;for(let i=0;i<e.length;++i){if(null!=o){if(o[s]===i&&1!==e[i])throw new Error(`Can't squeeze axis ${i} since its dim '${e[i]}' is not 1`);(null==o[s]||o[s]>i)&&1===e[i]&&(n.push(e[i]),r.push(i)),o[s]<=i&&s++}1!==e[i]&&(n.push(e[i]),r.push(i))}return{newShape:n,keptDims:r}}(n.shape,t).newShape)}});const ff=wl({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=vl(e,"tensors","stack","string_or_numeric");mr(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&mr(t<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,a={axis:t};return dl.runKernel(Go,r,a)}});const mf=wl({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:yl(e,"x","step")},r={alpha:t};return dl.runKernel(Zs,n,r)}});const gf=wl({stridedSlice_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const u={x:yl(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:a,endMask:o,ellipsisMask:s,newAxisMask:i,shrinkAxisMask:l};return dl.runKernel(Ls,u,c)}});const yf=wl({tan_:function(e){const t={x:yl(e,"x","tan","float32")};return dl.runKernel(js,t)}});function vf(e,t){yr(e);const n=fl(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Sl(e,null,n,t)}function bf(e,t,n){if(yr(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=fl(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Sl(e,t,r,n)}function wf(e,t,n){if(yr(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=fl(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Sl(e,t,r,n)}function kf(e,t,n){if(yr(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=fl(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Sl(e,t,r,n)}function Sf(e,t,n){if(yr(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=fl(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Sl(e,t=t||r,r,n)}const xf=wl({tensorScatterUpdate_:function(e,t,n){const r=yl(e,"tensor","tensorScatterupdate"),a=yl(t,"indices","tensorScatterupdate","int32"),o=yl(n,"updates","tensorScatterupdate");if(Oc(o,a,r.shape),r.dtype!==o.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${o.dtype}.`);const s={tensor:r,indices:a,updates:o};return dl.runKernel(ms,s,{})}});const If=wl({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=yl(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${t}`);const o={x:r},s={k:t,sorted:n},[i,l]=dl.runKernel(qs,o,s);return{values:i,indices:l}}});const _f=wl({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(Pr(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const o=new Ch(t,n,r,!0,a),s=Iu(e,r);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const Ef=wl({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=yl(e,"x","unique","string_or_numeric");mr(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},a={axis:t},[o,s]=dl.runKernel(Ys,r,a);return{values:o,indices:s}}});const Tf=wl({unsortedSegmentSum_:function(e,t,n){const r=yl(e,"x","unsortedSegmentSum"),a=yl(t,"segmentIds","unsortedSegmentSum","int32");mr(wr(n),()=>"numSegments must be of dtype int");const o={x:r,segmentIds:a},s={numSegments:n};return dl.runKernel(Xs,o,s)}});const Nf=wl({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=yl(e,"x","unstack","string_or_numeric");mr(t>=-n.shape.length&&t<n.shape.length,()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},a={axis:t};return dl.runKernel(Qs,r,a)}});function Cf(e,t){return Qp(e,t,"right")}function Af(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return dl.makeVariable(e,t,n,r)}function Mf(e,t){const n=[];for(let o=0;o<t.length;o++)t[o]&&n.push(o);const r=Iu(e,"int32"),a=Iu([n.length,e.length],"int32");for(let o=0;o<n.length;o++){const t=r.indexToLoc(n[o]),s=o*e.length;a.values.set(t,s)}return a.toTensor()}const Of=async function(e){const t=yl(e,"condition","whereAsync","bool"),n=await t.data(),r=Mf(t.shape,n);return e!==t&&t.dispose(),r};const Rf=async function(e,t,n){const r=yl(e,"tensor","boolMask"),a=yl(t,"mask","boolMask","bool"),o=null==n?0:n,s=a.rank,i=r.shape;mr(s>0,()=>"mask cannot be scalar"),gr(i.slice(o,o+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=o;m<o+s;m++)l*=i[m];const u=i.slice(0,o).concat([l],i.slice(o+s)),c=hd(r,u),d=hd(a,[-1]),p=await Of(d),h=hf(p,[1]),f=Ep(c,h,o);return e!==r&&r.dispose(),t!==a&&a.dispose(),h.dispose(),c.dispose(),d.dispose(),p.dispose(),f};const Ff=wl({transpose_:function(e,t,n){const r=yl(e,"x","transpose");if(null==t&&(t=r.shape.map((e,t)=>t).reverse()),mr(r.rank===t.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`),t.forEach(e=>{mr(e>=0&&e<r.rank,()=>"All entries in 'perm' must be between 0 and "+(r.rank-1)+` but got ${t}`)}),r.rank<=1)return r.clone();const a={x:r},o={perm:t};return"complex64"===r.dtype?Cu(()=>{let e=Lh(r),t=Cp(r);return e=dl.runKernel(Ks,{x:e},o),t=dl.runKernel(Ks,{x:t},o),n&&(t=Wp(t)),kl(e,t)}):dl.runKernel(Ks,a,o)}});const Df=wl({movingAverage_:function(e,t,n,r){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const o=yl(e,"v","movingAverage"),s=yl(t,"x","movingAverage"),i=yl(n,"decay","movingAverage");!function(e,t){mr(e.dtype===t.dtype,()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`)}(o,s),mr(br(o.shape,s.shape),()=>"Shape mismatch in v and x");const l=Uu(1),u=Xu(l,i);let c=$u(Xu(s,o),u);if(a){mr(null!=r,()=>"When using zeroDebias: true, step is required.");const e=yl(r,"step","movingAverage");c=Pu(c,Xu(l,Qu(i,e)))}return Fu(o,c)}});const Pf=wl({scatterND_:function(e,t,n){Pr(n);const r=yl(e,"indices","scatterND","int32"),a=yl(t,"updates","scatterND");Oc(a,r,n);const o={indices:r,updates:a},s={shape:n};return dl.runKernel(fs,o,s)}});const $f=wl({sparseToDense_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Pr(n);const a=yl(e,"sparseIndices","sparseToDense","int32"),o=yl(t,"sparseValues","sparseToDense","string_or_numeric"),s=yl(r,"defaultValue","sparseToDense",o.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const a=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const s=t.size;if(0!==t.rank&&(1!==t.rank||s!==a))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${a}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,o,n,s);const i={sparseIndices:a,sparseValues:o,defaultValue:s},l={outputShape:n};return dl.runKernel(Fs,i,l)}});const Lf=wl({gatherND_:function(e,t){const n=yl(t,"indices","gatherND","int32"),r={params:yl(e,"x","gatherND","string_or_numeric"),indices:n};return dl.runKernel(oo,r)}});const zf=wl({dropout_:function(e,t,n,r){const a=yl(e,"x","dropout");if(mr("float32"===a.dtype,()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`),mr(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),0===t)return e instanceof Gi?a.clone():a;const o=function(e,t){if(null==t)return e.shape.slice();if(br(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),s=1-t,i=Pu(_p(Fu(Dh(o,0,1,"float32",r),s)),s);return $u(a,i)}});function Wf(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function Bf(e,t,n){const r=1-e%2,a=new Float32Array(e);for(let o=0;o<e;++o){const s=2*Math.PI*o/(e+r-1);a[o]=t-n*Math.cos(s)}return vf(a,"float32")}const Uf=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=yl(e,"predictions","inTopK"),a=yl(t,"targets","inTopK");mr(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),mr(r.rank-1===a.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${a.rank}`),gr(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];mr(n>0&&n<=o,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${n}`);const s=await r.data(),i=await a.data(),[l,u]=[s.length/o,o],c=Ir("bool",l);for(let d=0;d<l;d++){const e=d*u,t=s.subarray(e,e+u),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort((e,t)=>t.value-e.value),c[d]=0;for(let a=0;a<n;a++)if(r[a].index===i[d]){c[d]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),xl(c,a.shape,"bool")};const jf=wl({conv2DBackpropFilter_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",s=arguments.length>6?arguments[6]:void 0,i=e;3===e.rank&&(i=hd(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=hd(t,[1,t.shape[0],t.shape[1],t.shape[2]])),mr(4===i.rank,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${i.shape}.`),mr(4===l.rank,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),mr(4===n.length,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u="NHWC"===o?i.shape[3]:i.shape[1],c="NHWC"===o?l.shape[3]:l.shape[1];mr(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),mr(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),pd("conv2dDerFilter",a,s);const d={x:i,dy:l},p={strides:r,pad:a,dataFormat:o,dimRoundingMode:s,filterShape:n};return dl.runKernel(Ia,d,p)}});function Hf(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return $u(e,mf(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function Vf(e,t){let n=t;const r=function(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],o=t.length-r-1,s=t[o];(null==a||1===a&&s>1)&&n.unshift(o)}return n}(e.shape,t.shape);return r.length>0&&(n=gp(n,r)),hd(n,e.shape)}function qf(e,t,n,r){if("linear"===t)return e;if("relu"===t)return Wh(e);if("elu"===t)return ap(e);if("relu6"===t)return Bh(e);if("prelu"===t)return Sh(e,n);if("leakyrelu"===t)return Rp(e,r);if("sigmoid"===t)return vd(e);throw new Error(`Unknown fused activation ${t}.`)}const Gf=(e,t)=>!(e>0)||"linear"===t;const Kf=wl({fusedConv2d_:function(e){let{x:t,filter:n,strides:r,pad:a,dataFormat:o="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(u=u||"linear",!1===Gf(dl.state.gradientDepth,u)){mr("NHWC"===o,()=>`Error in fused conv2d: got dataFormat of ${o} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let e=$d(t,n,r,a,o,s,i);return null!=l&&(e=Fu(e,l)),qf(e,u,c,d)}const p=yl(t,"x","conv2d","float32"),h=yl(n,"filter","conv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=hd(p,[1,p.shape[0],p.shape[1],p.shape[2]])),mr(4===f.rank,()=>`Error in fused conv2d: input must be rank 4, but got rank ${f.rank}.`),mr(4===h.rank,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${h.rank}.`),pd("fused conv2d",a,i);const g="NHWC"===o?f.shape[3]:f.shape[1];mr(h.shape[2]===g,()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${h.shape[2]}.`),mr(ud(r,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${s}'`);const y=td(f.shape,h.shape,r,s,a,i);let v,b;if(null!=l&&(v=yl(l,"bias","fused conv2d"),[v]=al(v,p),"NHWC"===o?ec(y.outShape,v.shape):(mr(v.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${v.shape.length}.`),mr(0===v.shape.length||v.shape[0]===y.outChannels||1===v.shape[0],()=>`Error in fused conv2d: bias shape (${v.shape}) is not compatible with the number of output channels (${y.outChannels})`))),null!=c){const e=c.shape;if(mr(e.length<=1||3===e.length,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`),1===e.length)mr(1===e[0]||e[0]===y.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${y.outChannels}).`);else if(3===e.length)try{ec(e,y.outShape)}catch(fP){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${y.outShape}).`;throw Error(n)}b=yl(c,"prelu weights","fused conv2d")}const w=(e,t)=>{mr("NHWC"===o,()=>`Error in gradient of fused conv2D: got dataFormat of ${o} but only NHWC is currently supported.`);const[n,i,l,c]=t,d=Hf(e,l,u);mr(ld(s),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`);const p=[zd(i.shape,d,n,r,a),jf(i,d,n.shape,r,a)];if(null!=c){const e=Vf(c,d);p.push(e)}return p},k={x:f,filter:h,bias:v,preluActivationWeights:b},S={strides:r,pad:a,dataFormat:o,dilations:s,dimRoundingMode:i,activation:u,leakyreluAlpha:d};if(null==l){const e=Bu((e,t,n)=>{let r=dl.runKernel(ri,k,S);return n([t,e,r]),m&&(r=hd(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:w}});return e(f,h)}{const e=Bu((e,t,n,r)=>{let a=dl.runKernel(ri,k,S);return r([t,e,a,n]),m&&(a=hd(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:w}});return e(f,h,v)}}});const Yf=wl({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0,i=e;3===e.rank&&(i=hd(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=hd(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:i,dy:l},c={strides:r,pad:a,dimRoundingMode:s,dilations:o,filterShape:n};return dl.runKernel($a,u,c)}});const Qf=wl({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0,i=t,l=!1;3===t.rank&&(l=!0,i=hd(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:i,filter:n},c={strides:r,pad:a,dimRoundingMode:s,dilations:o,inputShape:e},d=dl.runKernel(La,u,c);return l?hd(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const Xf=wl({fusedDepthwiseConv2d_:function(e){let{x:t,filter:n,strides:r,pad:a,dataFormat:o="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(!1===Gf(dl.state.gradientDepth,u)){let e=Qd(t,n,r,a,o,s,i);return null!=l&&(e=Fu(e,l)),qf(e,u,c,d)}const p=yl(t,"x","depthwiseConv2d","float32"),h=yl(n,"filter","depthwiseConv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=hd(p,[1,p.shape[0],p.shape[1],p.shape[2]])),mr(4===f.rank,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${f.rank}.`),mr(4===h.rank,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`),mr(f.shape[3]===h.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`),null==s&&(s=[1,1]),mr(ud(r,s),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${r} and dilations '${s}'`),pd("fused depthwiseConv2d",a,i);const g=td(f.shape,h.shape,r,s,a,i,!0);let y,v;null!=l&&(y=yl(l,"bias","fused conv2d"),[y]=al(y,p),ec(g.outShape,y.shape)),null!=c&&(v=yl(c,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{mr(ld(s),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`);const[n,o,l,c]=t,d=Hf(e,l,u),p=Qf(o.shape,d,n,r,a,s,i),h=Yf(o,d,n.shape,r,a,s,i);if(null!=c){return[p,h,Vf(y,d)]}return[p,h]},w={x:f,filter:h,bias:y,preluActivationWeights:v},k={strides:r,pad:a,dataFormat:o,dilations:s,dimRoundingMode:i,activation:u,leakyreluAlpha:d};if(null==l){const e=Bu((e,t,n)=>{let r=dl.runKernel(ai,w,k);return n([t,e,r]),m&&(r=hd(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}});return e(f,h)}{const e=Bu((e,t,n,r)=>{let a=dl.runKernel(ai,w,k);return r([t,e,a,n]),m&&(a=hd(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:b}});return e(f,h,y)}}});const Jf=wl({fusedMatMul_:function(e){let{a:t,b:n,transposeA:r=!1,transposeB:a=!1,bias:o,activation:s="linear",preluActivationWeights:i,leakyreluAlpha:l=.2}=e;if(!1===Gf(dl.state.gradientDepth,s)){let e=yd(t,n,r,a);return null!=o&&(e=Fu(e,o)),qf(e,s,i,l)}let u=yl(t,"a","fused matMul"),c=yl(n,"b","fused matMul");[u,c]=al(u,c);const d=r?u.shape[u.rank-2]:u.shape[u.rank-1],p=a?c.shape[c.rank-1]:c.shape[c.rank-2],h=r?u.shape[u.rank-1]:u.shape[u.rank-2],f=a?c.shape[c.rank-2]:c.shape[c.rank-1],m=u.shape.slice(0,-2),g=c.shape.slice(0,-2),y=vr(m),v=vr(g);mr(d===p,()=>`Error in fused matMul: inner shapes (${d}) and (${p}) of Tensors with shapes ${u.shape} and ${c.shape} and transposeA=${r} and transposeB=${a} must match.`);const b=ec(u.shape.slice(0,-2),c.shape.slice(0,-2)).concat([h,f]),w=hd(u,r?[y,d,h]:[y,h,d]),k=hd(c,a?[v,f,p]:[v,p,f]);let S,x;null!=o&&(S=yl(o,"bias","fused matMul"),[S]=al(S,u),ec(b,S.shape)),null!=i&&(x=yl(i,"prelu weights","fused matMul"));const I=(e,t)=>{const[n,i,l,u]=t,c=Hf(hd(e,l.shape),l,s);let d,p;if(r||a?!r&&a?(d=yd(c,i,!1,!1),p=yd(c,n,!0,!1)):r&&!a?(d=yd(i,c,!1,!0),p=yd(n,c,!1,!1)):(d=yd(i,c,!0,!0),p=yd(c,n,!0,!0)):(d=yd(c,i,!1,!0),p=yd(n,c,!0,!1)),null!=o){return[d,p,Vf(u,c)]}return[d,p]},_={a:w,b:k,bias:S,preluActivationWeights:x},E={transposeA:r,transposeB:a,activation:s,leakyreluAlpha:l};if(null==o){const e=Bu((e,t,n)=>{const r=dl.runKernel(ni,_,E);return n([e,t,r]),{value:hd(r,b),gradFunc:I}});return e(w,k)}{const e=Bu((e,t,n,r)=>{const a=dl.runKernel(ni,_,E);return r([e,t,a,n]),{value:hd(a,b),gradFunc:I}});return e(w,k,S)}}});const Zf=wl({hammingWindow_:function(e){return Bf(e,.54,.46)}});const em=wl({hannWindow_:function(e){return Bf(e,.5,.5)}});const tm=wl({frame_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=0;const s=[];for(;o+t<=e.size;)s.push(bd(e,o,t)),o+=n;if(r)for(;o<e.size;){const r=o+t-e.size,i=gd([bd(e,o,t-r),Yu([r],a)]);s.push(i),o+=n}return 0===s.length?bf([],[0,t]):hd(gd(s),[s.length,t])}});const nm=wl({stft_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:em;null==r&&(r=Wf(t));const o=tm(e,t,n),s=$u(o,a(t));return df(s,r)}});const rm=wl({cropAndResize_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=yl(e,"image","cropAndResize"),i=yl(t,"boxes","cropAndResize","float32"),l=yl(n,"boxInd","cropAndResize","int32"),u=i.shape[0];mr(4===s.rank,()=>`Error in cropAndResize: image must be rank 4,but got rank ${s.rank}.`),mr(2===i.rank&&4===i.shape[1],()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${i.shape}.`),mr(1===l.rank&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${i.shape}.`),mr(2===r.length,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),mr(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),mr("bilinear"===a||"nearest"===a,()=>`method must be bilinear or nearest, but was ${a}`);const c={image:s,boxes:i,boxInd:l},d={method:a,extrapolationValue:o,cropSize:r};return dl.runKernel(Ra,c,d)}});const am=wl({flipLeftRight_:function(e){const t=yl(e,"image","flipLeftRight","float32");mr(4===t.rank,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`);const n={image:t};return dl.runKernel(eo,n,{})}});const om=wl({grayscaleToRGB_:function(e){const t=yl(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];mr(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),mr(1===r,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,xp(t,a)}});const sm=wl({rgbToGrayscale_:function(e){const t=yl(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];mr(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),mr(3===r,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const a=t.dtype,o=_u(t,"float32"),s=vf([.2989,.587,.114]);let i;switch(t.rank){case 2:i=rp("ij,j->i",o,s);break;case 3:i=rp("ijk,k->ij",o,s);break;case 4:i=rp("ijkl,l->ijk",o,s);break;case 5:i=rp("ijklm,m->ijkl",o,s);break;case 6:i=rp("ijklmn,n->ijklm",o,s);break;default:throw new Error("Not a valid tensor rank.")}return i=kp(i,-1),_u(i,a)}});const im=wl({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const a=yl(e,"image","rotateWithOffset","float32");mr(4===a.rank,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`);const o={image:a},s={radians:t,fillValue:n,center:r};return dl.runKernel(ti,o,s)}});function lm(e,t,n,r,a,o){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==o&&(o=0);const s=e.shape[0];return n=Math.min(n,s),mr(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),mr(2===e.rank,()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`),mr(4===e.shape[1],()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`),mr(1===t.rank,()=>"scores must be a 1D tensor"),mr(t.shape[0]===s,()=>`scores has incompatible shape with boxes. Expected ${s}, but was ${t.shape[0]}`),mr(0<=o&&o<=1,()=>`softNmsSigma must be in [0, 1], but was '${o}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}const um=wl({nonMaxSuppression_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const o=yl(e,"boxes","nonMaxSuppression","float32"),s=yl(t,"scores","nonMaxSuppression","float32"),i=lm(o,s,n,r,a);n=i.maxOutputSize,r=i.iouThreshold,a=i.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return dl.runKernel(Uo,{boxes:o,scores:s},l)}});function cm(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,a=e.length,o=0,s=!1;for(;r<a;){o=r+(a-r>>>1);const i=n(t,e[o]);i>0?r=o+1:(a=o,s=!i)}return s?r:-r-1}(e,t,n||dm)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function dm(e,t){return e>t?1:e<t?-1:0}function pm(e,t,n,r,a){return mm(e,t,n,r,a,0)}function hm(e,t,n,r,a,o){return mm(e,t,n,r,a,0,!1,o,!0)}function fm(e,t,n,r,a,o){return mm(e,t,n,r,a,o,!0)}function mm(e,t,n,r,a,o){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const u=[];for(let g=0;g<t.length;g++)t[g]>a&&u.push({score:t[g],boxIndex:g,suppressBeginIndex:0});u.sort(vm);const c=o>0?-.5/o:0,d=[],p=[];for(;d.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:o,suppressBeginIndex:s}=t;if(n<a)break;let i=!1;for(let l=d.length-1;l>=s;--l){const n=gm(e,o,d[l]);if(n>=r){i=!0;break}if(t.score=t.score*ym(r,c,n),t.score<=a)break}t.suppressBeginIndex=d.length,i||(t.score===n?(d.push(o),p.push(t.score)):t.score>a&&cm(u,t,vm))}const h=d.length,f=n-h;i&&f>0&&(d.push(...new Array(f).fill(0)),p.push(...new Array(f).fill(0)));const m={selectedIndices:d};return s&&(m.selectedScores=p),l&&(m.validOutputs=h),m}function gm(e,t,n){const r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),i=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),h=(i-o)*(l-s),f=(d-u)*(p-c);if(h<=0||f<=0)return 0;const m=Math.max(o,u),g=Math.max(s,c),y=Math.min(i,d),v=Math.min(l,p),b=Math.max(y-m,0)*Math.max(v-g,0);return b/(h+f-b)}function ym(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function vm(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const bm=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const o=yl(e,"boxes","nonMaxSuppressionAsync"),s=yl(t,"scores","nonMaxSuppressionAsync"),i=lm(o,s,n,r,a);n=i.maxOutputSize,r=i.iouThreshold,a=i.scoreThreshold;const l=await Promise.all([o.data(),s.data()]),u=l[0],c=l[1],{selectedIndices:d}=pm(u,c,n,r,a);return o!==e&&o.dispose(),s!==t&&s.dispose(),vf(d,"int32")};const wm=wl({nonMaxSuppressionWithScore_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=yl(e,"boxes","nonMaxSuppression"),i=yl(t,"scores","nonMaxSuppression"),l=lm(s,i,n,r,a,o);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,o=l.softNmsSigma;const u={boxes:s,scores:i},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o},d=dl.runKernel(Ho,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}});const km=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=yl(e,"boxes","nonMaxSuppressionAsync"),i=yl(t,"scores","nonMaxSuppressionAsync"),l=lm(s,i,n,r,a,o);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,o=l.softNmsSigma;const u=await Promise.all([s.data(),i.data()]),c=u[0],d=u[1],{selectedIndices:p,selectedScores:h}=fm(c,d,n,r,a,o);return s!==e&&s.dispose(),i!==t&&i.dispose(),{selectedIndices:vf(p,"int32"),selectedScores:vf(h)}};const Sm=wl({nonMaxSuppressionPadded_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=yl(e,"boxes","nonMaxSuppression"),i=yl(t,"scores","nonMaxSuppression"),l=lm(s,i,n,r,a,null),u={boxes:s,scores:i},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:o},d=dl.runKernel(jo,u,c);return{selectedIndices:d[0],validOutputs:d[1]}}});const xm=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=yl(e,"boxes","nonMaxSuppressionAsync"),i=yl(t,"scores","nonMaxSuppressionAsync"),l=lm(s,i,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[p,h]=await Promise.all([s.data(),i.data()]),{selectedIndices:f,validOutputs:m}=hm(p,h,u,c,d,o);return s!==e&&s.dispose(),i!==t&&i.dispose(),{selectedIndices:vf(f,"int32"),validOutputs:Uu(m,"int32")}};const Im=wl({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=yl(e,"images","resizeBilinear");mr(3===a.rank||4===a.rank,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`),mr(2===t.length,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),mr(!1===r||!1===n,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=a,s=!1;3===a.rank&&(s=!0,o=hd(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,i={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=dl.runKernel(ls,i,l);return s?hd(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const _m=wl({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=yl(e,"images","resizeNearestNeighbor");mr(3===a.rank||4===a.rank,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`),mr(2===t.length,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),mr("float32"===a.dtype||"int32"===a.dtype,()=>"`images` must have `int32` or `float32` as dtype"),mr(!1===r||!1===n,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=a,s=!1;3===a.rank&&(s=!0,o=hd(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,i={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=dl.runKernel(ss,i,l);return s?hd(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Em=wl({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const a=yl(e,"image","threshold"),o=a.shape[0]*a.shape[1];let s,i,l,u,c=$u(vf([r]),255);if(mr(3===a.rank,()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`),mr(3===a.shape[2]||1===a.shape[2],()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`),mr("int32"===a.dtype||"float32"===a.dtype,()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`),mr("otsu"===t||"binary"===t,()=>`Method must be binary or otsu, but was ${t}`),3===a.shape[2]){[s,i,l]=cf(a,[1,1,1],-1);const e=$u(s,.2989),t=$u(i,.587),n=$u(l,.114);u=Fu(Fu(e,t),n)}else u=e;if("otsu"===t){c=function(e,t){let n,r,a,o,s,i,l=vf([-1]),u=vf([0]),c=vf([0]);for(let d=0;d<e.size-1;d++){n=bd(e,0,d+1),r=bd(e,d+1),s=Pu(gp(n),t),i=Pu(gp(r),t);const p=gp($u(n,$h(0,n.size)));a=Pu(p,gp(n));const h=Yu(r.shape,n.size),f=Fu($h(0,r.size),h),m=$u(r,f);o=Pu(gp(m),gp(r));const g=Xu(a,o),y=Xu(a,o),v=$u(s,i);c=$u($u(v,g),y);const b=Tp(c,u);u=ep(b,c,u),l=ep(b,vf([d]),l)}return l}(Td(_u(Gh(u),"int32"),xl([]),256),o)}const d=n?Dp(u,c):Tp(u,c);return _u($u(d,255),"int32")}});const Tm=wl({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;const s=yl(e,"image","transform","float32"),i=yl(t,"transforms","transform","float32");mr(4===s.rank,()=>`Error in transform: image must be rank 4,but got rank ${s.rank}.`),mr(2===i.rank&&(i.shape[0]===s.shape[0]||1===i.shape[0])&&8===i.shape[1],()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),mr(null==o||2===o.length,()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`);const l={image:s,transforms:i},u={interpolation:n,fillMode:r,fillValue:a,outputShape:o};return dl.runKernel(Gs,l,u)}});const Nm=wl({bandPart_:function(e,t,n){const r=yl(e,"a","bandPart");mr(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const a=r.shape,[o,s]=r.shape.slice(-2);let i,l;"number"===typeof t?(mr(t%1===0,()=>`bandPart(): numLower must be an integer, got ${t}.`),mr(t<=o,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${o}).`),i=yl(t<0?o:t,"numLower","bandPart")):(mr("int32"===t.dtype,()=>"bandPart(): numLower's dtype must be an int32."),i=ep(Fp(t,0),o,oh(t,o))),"number"===typeof n?(mr(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),mr(n<=s,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${s}).`),l=yl(n<0?s:n,"numUpper","bandPart")):(mr("int32"===n.dtype,()=>"bandPart(): numUpper's dtype must be an int32."),l=ep(Fp(n,0),s,oh(n,s)));const u=hd($h(0,o,1,"int32"),[-1,1]),c=$h(0,s,1,"int32"),d=Xu(u,c),p=Vp(Dp(d,i),Np(d,Wp(l))),h=nh([o,s],r.dtype);return hd(ff(Nf(hd(r,[-1,o,s])).map(e=>ep(p,e,h))),a)}});const Cm=wl({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,mr(null!=e&&e.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const n=e[0].shape[0];for(let t=1;t<e.length;++t)mr(e[t].shape[0]===n,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`)}else t=!0,e=cf(e,e.shape[0],0).map(e=>hf(e,[0]));mr(e.length<=e[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`);const n=[],r=e;for(let a=0;a<e.length;++a)n.push(dl.tidy(()=>{let e=r[a];if(a>0)for(let t=0;t<a;++t){const r=$u(gp($u(n[t],e)),n[t]);e=Xu(e,r)}return Pu(e,vp(e,"euclidean"))}));return t?ff(n,0):n}});function Am(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return dl.tidy(()=>{mr(2===e.shape.length,()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`);const n=e.shape[0],r=e.shape[1];let a=Ip(n),o=Eu(e);const s=bf([[1]],[1,1]);let i=Eu(s);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=o,l=i,u=a;[i,o,a]=dl.tidy(()=>{const t=bd(o,[e,e],[n-e,1]),l=vp(t),u=bd(o,[e,e],[1,1]),c=ep(Tp(u,0),bf([[-1]]),bf([[1]])),d=Xu(u,$u(c,l)),p=Pu(t,d);i=1===p.shape[0]?Eu(s):gd([s,bd(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const h=Wp(Pu(yd(c,d),l)),f=bd(o,[e,0],[n-e,r]),m=$u(h,i),g=Ff(i);if(0===e)o=Xu(f,yd(m,yd(g,f)));else{const t=Xu(f,yd(m,yd(g,f)));o=gd([bd(o,[0,0],[e,r]),t],0)}const y=Ff(m),v=bd(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=Xu(v,yd(yd(v,i),y));else{const t=Xu(v,yd(yd(v,i),y));a=gd([bd(a,[0,0],[n,e]),t],1)}return[i,o,a]}),Au([t,l,u])}return!t&&n>r&&(a=bd(a,[0,0],[n,r]),o=bd(o,[0,0],[r,r])),[a,o]})}const Mm=wl({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(mr(e.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`),2===e.rank)return Am(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce((e,t)=>e*t),r=Nf(hd(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],o=[];r.forEach(e=>{const[n,r]=Am(e,t);a.push(n),o.push(r)});return[hd(ff(a,0),e.shape),hd(ff(o,0),e.shape)]}}});var Om;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Om||(Om={}));const Rm=wl({computeWeightedLoss_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Om.SUM_BY_NONZERO_WEIGHTS;const r=yl(e,"losses","computeWeightedLoss");let a=null;null!=t&&(a=yl(t,"weights","computeWeightedLoss"));const o=null==a?r:$u(r,a);if(n===Om.NONE)return o;if(n===Om.SUM)return gp(o);if(n===Om.MEAN){if(null==a)return th(o);{const e=r.size/a.size,t=Pu(gp(o),gp(a));return e>1?Pu(t,Uu(e)):t}}if(n===Om.SUM_BY_NONZERO_WEIGHTS){if(null==a)return Pu(gp(o),Uu(r.size));{const e=$u(a,rh(r.shape)),t=_u(gp(dh(e,Uu(0))),"float32");return Pu(gp(o),t)}}throw Error(`Unknown reduction: ${n}`)}});const Fm=wl({absoluteDifference_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Om.SUM_BY_NONZERO_WEIGHTS;const a=yl(e,"labels","absoluteDifference"),o=yl(t,"predictions","absoluteDifference");let s=null;null!=n&&(s=yl(n,"weights","absoluteDifference")),gr(a.shape,o.shape,"Error in absoluteDifference: ");const i=Ju(Xu(a,o));return Rm(i,s,r)}});const Dm=wl({cosineDistance_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Om.SUM_BY_NONZERO_WEIGHTS;const o=yl(e,"labels","cosineDistance"),s=yl(t,"predictions","cosineDistance");let i=null;null!=r&&(i=yl(r,"weights","cosineDistance")),gr(o.shape,s.shape,"Error in cosineDistance: ");const l=Uu(1),u=Xu(l,gp($u(o,s),n,!0));return Rm(u,i,a)}});const Pm=wl({hingeLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Om.SUM_BY_NONZERO_WEIGHTS,a=yl(e,"labels","hingeLoss");const o=yl(t,"predictions","hingeLoss");let s=null;null!=n&&(s=yl(n,"weights","hingeLoss")),gr(a.shape,o.shape,"Error in hingeLoss: ");const i=Uu(1);a=Xu($u(Uu(2),a),i);const l=Wh(Xu(i,$u(a,o)));return Rm(l,s,r)}});const $m=wl({huberLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Om.SUM_BY_NONZERO_WEIGHTS;const o=yl(e,"labels","huberLoss"),s=yl(t,"predictions","huberLoss");let i=null;null!=n&&(i=yl(n,"weights","huberLoss")),gr(o.shape,s.shape,"Error in huberLoss: ");const l=Uu(r),u=Ju(Xu(s,o)),c=oh(u,l),d=Xu(u,c),p=Fu($u(Uu(.5),zu(c)),$u(l,d));return Rm(p,i,a)}});const Lm=wl({logLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Om.SUM_BY_NONZERO_WEIGHTS;const o=yl(e,"labels","logLoss"),s=yl(t,"predictions","logLoss");let i=null;null!=n&&(i=yl(n,"weights","logLoss")),gr(o.shape,s.shape,"Error in logLoss: ");const l=Uu(1),u=Uu(r),c=Wp($u(o,Lp(Fu(s,u)))),d=$u(Xu(l,o),Lp(Fu(Xu(l,s),u))),p=Xu(c,d);return Rm(p,i,a)}});const zm=wl({meanSquaredError_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Om.SUM_BY_NONZERO_WEIGHTS;const a=yl(e,"labels","meanSquaredError"),o=yl(t,"predictions","meanSquaredError");let s=null;null!=n&&(s=yl(n,"weights","meanSquaredError")),gr(a.shape,o.shape,"Error in meanSquaredError: ");const i=pf(a,o);return Rm(i,s,r)}});const Wm=wl({sigmoidCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Om.SUM_BY_NONZERO_WEIGHTS,o=yl(e,"multiClassLabels","sigmoidCrossEntropy");const s=yl(t,"logits","sigmoidCrossEntropy");let i=null;if(null!=n&&(i=yl(n,"weights","sigmoidCrossEntropy")),gr(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=Uu(r),t=Uu(1),n=Uu(.5);o=Fu($u(o,Xu(t,e)),$u(n,e))}const l=function(e,t){const n=yl(e,"labels","sigmoidCrossEntropyWithLogits"),r=yl(t,"logits","sigmoidCrossEntropyWithLogits");gr(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=Wh(r),o=$u(r,n),s=zp(wp(Wp(Ju(r))));return Fu(Xu(a,o),s)}(o,s);return Rm(l,i,a)}});const Bm=wl({softmaxCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Om.SUM_BY_NONZERO_WEIGHTS,o=yl(e,"onehotLabels","softmaxCrossEntropy");const s=yl(t,"logits","softmaxCrossEntropy");let i=null;if(null!=n&&(i=yl(n,"weights","softmaxCrossEntropy")),gr(o.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){const e=Uu(r),t=Uu(1),n=Uu(o.shape[1]);o=Fu($u(o,Xu(t,e)),Pu(e,n))}const l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const r=Bu((e,t,r)=>{const a=Hp(t,[n],!0),o=Xu(_u(t,"float32"),a);r([e,o]);const s=Wp($u(o,e));return{value:gp(s,[n]),gradFunc:(e,t)=>{const[r,a]=t,o=up(e.shape,[n]);return[$u(hd(e,o),Xu(_u(r,"float32"),wp(a))),$u(hd(e,o),Xu(wp(a),_u(r,"float32")))]}}});return r(e,t)}(o,s);return Rm(l,i,a)}});const Um=wl({sparseFillEmptyRows_:function(e,t,n,r){const a=yl(e,"indices","sparseFillEmptyRows","int32"),o=yl(t,"values","sparseFillEmptyRows"),s=yl(n,"denseShape","sparseFillEmptyRows","int32"),i=yl(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==a.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${a.shape}`);if(1!==o.rank)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(1!==s.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${s.shape}`);if(0!==i.rank)throw new Error(`Default value should be a scalar but received shape ${i.shape}`);const l={indices:a,values:o,denseShape:s,defaultValue:i},u=dl.runKernel(As,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}});const jm=wl({sparseReshape_:function(e,t,n){const r=yl(e,"inputIndices","sparseReshape","int32"),a=yl(t,"inputShape","sparseReshape","int32"),o=yl(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==a.rank)throw new Error(`Input shape should be Tensor1D but received shape ${a.shape}`);if(1!==o.rank)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const s={inputIndices:r,inputShape:a,newShape:o},i=dl.runKernel(Ms,s);return{outputIndices:i[0],outputShape:i[1]}}});const Hm=wl({sparseSegmentMean_:function(e,t,n){const r=yl(e,"data","sparseSegmentMean"),a=yl(t,"indices","sparseSegmentMean","int32"),o=yl(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${a.shape}`);if(1!==o.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${o.shape}`);const s={data:r,indices:a,segmentIds:o};return dl.runKernel(Os,s)}});const Vm=wl({sparseSegmentSum_:function(e,t,n){const r=yl(e,"data","sparseSegmentSum"),a=yl(t,"indices","sparseSegmentSum","int32"),o=yl(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${a.shape}`);if(1!==o.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${o.shape}`);const s={data:r,indices:a,segmentIds:o};return dl.runKernel(Rs,s)}});const qm=wl({stringNGrams_:function(e,t,n,r,a,o,s,i){const l=yl(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=yl(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:a,rightPad:o,padWidth:s,preserveShortSequences:i},d={data:l,dataSplits:u},p=dl.runKernel(zs,d,c);return{nGrams:p[0],nGramsSplits:p[1]}}});const Gm=wl({stringSplit_:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=yl(e,"input","stringSplit","string"),a=yl(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==a.rank)throw new Error(`Delimiter should be a scalar but received shape ${a.shape}`);const o={skipEmpty:n},s={input:r,delimiter:a},i=dl.runKernel(Ws,s,o);return{indices:i[0],values:i[1],shape:i[2]}}});const Km=wl({stringToHashBucketFast_:function(e,t){const n=yl(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return dl.runKernel(Bs,a,r)}});const Ym=wl({staticRegexReplace_:function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=yl(e,"input","staticRegexReplace","string"),o={pattern:t,rewrite:n,replaceGlobal:r};return dl.runKernel($s,{x:a},o)}}),Qm={fft:sf,ifft:lf,rfft:df,irfft:uf},Xm={hammingWindow:Zf,hannWindow:em,frame:tm,stft:nm},Jm={flipLeftRight:am,grayscaleToRGB:om,resizeNearestNeighbor:_m,resizeBilinear:Im,rgbToGrayscale:sm,rotateWithOffset:im,cropAndResize:rm,nonMaxSuppression:um,nonMaxSuppressionAsync:bm,nonMaxSuppressionWithScore:wm,nonMaxSuppressionWithScoreAsync:km,nonMaxSuppressionPadded:Sm,nonMaxSuppressionPaddedAsync:xm,threshold:Em,transform:Tm},Zm={bandPart:Nm,gramSchmidt:Cm,qr:Mm},eg={absoluteDifference:Fm,computeWeightedLoss:Rm,cosineDistance:Dm,hingeLoss:Pm,huberLoss:$m,logLoss:Lm,meanSquaredError:zm,sigmoidCrossEntropy:Wm,softmaxCrossEntropy:Bm},tg={sparseFillEmptyRows:Um,sparseReshape:jm,sparseSegmentMean:Hm,sparseSegmentSum:Vm},ng={stringNGrams:qm,stringSplit:Gm,stringToHashBucketFast:Km,staticRegexReplace:Ym};function rg(e,t){const n=e[0].length;e.forEach((e,t)=>{mr(e.length===n,()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`)}),mr(t>=0&&t<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=e[0];e.forEach((e,a)=>{for(let o=0;o<n;o++)mr(o===t||e[o]===r[o],()=>`Error in concat${n}D: Shape of tensors[${a}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${a}.`)})}function ag(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var og;!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(og||(og={}));function sg(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function ig(e,t,n){let r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let a=0;a<n;++a)r=r.concat([e[a+1]/t[a],t[a]]);r=r.concat(e.slice(n+1))}return r}function lg(e,t){const n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(let r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{const r=[],a=[];for(let n=1;n<e;++n)n>=2*t+1||n%2===1?a.push(n):r.push(n);n.push(...r),n.push(0),n.push(...a)}return n}function ug(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(let o=1;o<e.length;++o)o<=t.length?r?a.push(t[o-1]*e[o]):a.push(e[o]/t[o-1]):a.push(e[o]);return a}function cg(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function dg(e,t,n){const r=e.slice(0,1);for(let a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function pg(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function hg(e,t){return{real:e[2*t],imag:e[2*t+1]}}function fg(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function mg(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const gg="->",yg=/->/g;function vg(e,t){let n=new Array(e);n.fill(-1);for(let a=0;a<t.length;++a)n[t[a]]=a;const r=[];for(let a=0;a<e;++a)-1===n[a]&&r.push(a);return n=n.filter(e=>-1!==e),{permutationIndices:n,expandDims:r}}function bg(e){return e.every((e,t)=>e===t)}function wg(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function kg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)mr(e.shape[n]%t===0,()=>"Number of splits must evenly divide the axis."),r=new Array(t).fill(e.shape[n]/t);else{const a=t.reduce((e,t)=>(-1===t&&(e+=1),e),0);mr(a<=1,()=>"There should be only one negative value in split array.");const o=t.indexOf(-1);if(-1!==o){const r=t.reduce((e,t)=>t>0?e+t:e);t[o]=e.shape[n]-r}mr(e.shape[n]===t.reduce((e,t)=>e+t),()=>"The sum of sizes must match the size of the axis dimension."),r=t}return r}function Sg(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function xg(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function Ig(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function _g(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function Eg(e,t){return`size ${e} must be non-negative, not ${t}`}function Tg(e,t){return`Input to reshape is a SparseTensor with ${vr(e)}\n  dense values, but the requested shape requires a multiple of ${vr(t)}. inputShape=${e} outputShape= ${t}`}function Ng(e,t){return`Input to reshape is a tensor with ${vr(e)} dense values, but the requested shape has ${vr(t)}. inputShape=${e} outputShape=${t}`}function Cg(){return"segment ids are not increasing"}function Ag(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function Mg(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function Og(e,t,n,r){const a=t.shape.length,o=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>o)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${o}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let d=0;d<r;++d)if(e.shape[d]!==t.shape[d])throw new Error(`x.shape[${d}]: ${e.shape[d]} should be equal to indices.shape[${d}]: ${t.shape[d]}.`);const s=e.shape[n],i=[];let l=1,u=1,c=1;for(let d=0;d<r;++d)i.push(e.shape[d]),l*=e.shape[d];for(let d=r;d<n;d++)i.push(e.shape[d]),u*=e.shape[d];for(let d=r;d<a;d++)i.push(t.shape[d]);for(let d=n+1;d<o;d++)i.push(e.shape[d]),c*=e.shape[d];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:s,outputShape:i}}function Rg(e){try{return e.map(e=>Oi(e))}catch(vH){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${vH}`)}}function Fg(e){return e.map(e=>Mi(e))}!function(){for(const e of rc)Gu(e)}();var Dg=n(5615);var Pg,$g;jr().registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")}),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(Pg||(Pg={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}($g||($g={}));const Lg={};function zg(e){return Lg[e]}function Wg(e,t,n,r,a){const o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){const e=o.inputIndexStart,s=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?e+1:o.inputIndexEnd,i=e<0?t.inputNames.length+e:e;if("tensor"===o.type)return Bg(t.inputNames[i],n,r,a);if("tensors"===o.type){const o=t.inputs.slice(e,s),i=t.inputNames.slice(e,s).filter((e,t)=>{var n;return"NoOp"!==(null===(n=o[t])||void 0===n?void 0:n.op)});return i.map(e=>Bg(e,n,r,a))}const l=Bg(t.inputNames[i],n,r,a),u=l.dataSync();return"number"===o.type?u[0]:Or(l.shape,u)}const s=t.attrParams[e];return s&&s.value}function Bg(e,t,n,r){const[a,o]=Vg(e,n);if(null!=r){const e=r.getHashTableHandleByName(a);if(null!=e)return e}const s=n.currentContextIds.find(e=>!!t[Hg(a,e)]);return void 0!==s?t[Hg(a,s)][o]:void 0}function Ug(e,t,n){return t[Hg(e,n.currentContextId)]}function jg(e,t){const[n,r,a]=Vg(e,t);return[Hg(n,t&&t.currentContextId),r,a]}function Hg(e,t){return t?`${e}-${t}`:e}function Vg(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const r=e.split(":");let a;if(1===r.length)a=[e,0,void 0];else{const e=r[0],t=3===r.length?r[1]:void 0;a=[e,Number(r[r.length-1]),t]}return n&&t.parseNodeNameCache.set(e,a),a}function qg(e,t,n){let r=Wg("pad",e,t,n);if("explicit"===r){r=Wg("explicitPaddings",e,t,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)a[e][0]=r[2*e],a[e][1]=r[2*e+1];return a}return r}function Gg(e){return e.kept?e:Eu(e)}const Kg=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Yg=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Qg=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Xg=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],Jg=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Zg=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],ey=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],ty=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],ny=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],ry=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],ay=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],oy=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],sy=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],iy=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],ly=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],uy=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],cy=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],dy=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],py=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class hy{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[r,a,o,s,i,l,u,c,d,p,h,f,m,g,y,v,b,w,k].map(e=>e.json));this.opMappers=e.reduce((e,t)=>(e[t.tfOpName]=t,e),{})}transformGraph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.node,r=[],a=[],o=[],s=n.reduce((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?a.push(e[t.name]):null!=t.input&&0!==t.input.length||o.push(e[t.name]),e),{});let i=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const d=Object.keys(s);d.forEach(e=>{const t=s[e];t.inputNames.forEach((e,n)=>{const[r,,a]=jg(e),o=s[r];if(null!=o.outputs){const e=o.outputs.indexOf(a);if(-1!==e){const a=`${r}:${e}`;t.inputNames[n]=a}}t.inputs.push(o),o.children.push(t)})}),0===Object.keys(c).length?d.forEach(e=>{const t=s[e];0===t.children.length&&l.push(t)}):Object.keys(c).forEach(e=>{const[t]=jg(e),n=s[t];null!=n&&(n.signatureKey=c[e],l.push(n))}),Object.keys(u).length>0?Object.keys(u).forEach(e=>{const[t]=jg(e),n=s[t];n&&(n.signatureKey=u[e],i.push(n))}):i=r;let p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce((e,t)=>(e[t.signature.name]=this.mapFunction(t),e),{}));const h={nodes:s,inputs:i,outputs:l,weights:a,placeholders:r,signature:t,functions:p};return o.length>0&&(h.initNodes=o),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce((t,n)=>(t[e[n].name]=n,t),{})}mapNode(e){const t=zg(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map(e=>e.startsWith("^")?e.slice(1):e),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((t,n)=>{const r=n.type;let a;switch(n.type){case"string":a=my(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=my(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":a=_y(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=_y(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":a=yy(e.attr,n.tfName,n.defaultValue||0),void 0===a&&n.tfDeprecatedName&&(a=yy(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":a=Iy(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Iy(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":a=gy(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=gy(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":a=Ty(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Ty(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":a=xy(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=xy(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":a=Ey(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Ey(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":a=wy(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=wy(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":a=ky(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=ky(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":a=by(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=by(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:a,type:r},t},{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e),{}));const a=[],o=[];e.signature.inputArg.forEach(e=>{const[t]=jg(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:vy(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,a.push(n),r[t]=n});Object.keys(r).forEach(e=>{const t=r[e];t.inputNames.forEach((e,n)=>{const[a,,o]=jg(e),s=r[a];if(null!=s.outputs){const e=s.outputs.indexOf(o);if(-1!==e){const r=`${a}:${e}`;t.inputNames[n]=r}}t.inputs.push(s),s.children.push(t)})});const s=e.ret;e.signature.outputArg.forEach(e=>{const[t,n]=jg(s[e.name]),a=r[t];null!=a&&(a.defaultOutput=n,o.push(a))});const i=this.mapArgsToSignature(e);return{nodes:r,inputs:a,outputs:o,weights:n,placeholders:[],signature:i}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e),{}),outputs:e.signature.outputArg.reduce((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function fy(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=jr().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function my(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e[t];return null!=a?fy(a.s,r):n}function gy(e,t,n){const r=e[t];return r?r.b:n}function yy(e,t,n){const r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function vy(e){switch("string"===typeof e&&(e=Pg[e]),e){case Pg.DT_FLOAT:case Pg.DT_HALF:return"float32";case Pg.DT_INT32:case Pg.DT_INT64:case Pg.DT_INT8:case Pg.DT_UINT8:return"int32";case Pg.DT_BOOL:return"bool";case Pg.DT_DOUBLE:return"float32";case Pg.DT_STRING:return"string";default:return null}}function by(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function wy(e,t,n){const r=e[t];return r&&r.type?vy(r.type):n}function ky(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map(e=>vy(e)):n}function Sy(e){if(!e.unknownRank)return null!=e.dim?e.dim.map(e=>"number"===typeof e.size?e.size:parseInt(e.size,10)):[]}function xy(e,t,n){const r=e[t];return r&&r.shape?Sy(r.shape):n}function Iy(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(e=>"number"===typeof e?e:parseInt(e,10)):n}function _y(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e[t];return a&&a.list&&a.list.s?a.list.s.map(e=>fy(e,r)):n}function Ey(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map(e=>Sy(e)):n}function Ty(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class Ny{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(e=>this.getInput(e)),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce((e,t)=>(e[t]=this.getAttr(t),e),{}))}getInput(e){return Bg(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return Bg(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return yy(this.node.rawAttrs,e,t);if(null!=n.s)return my(this.node.rawAttrs,e,t);if(null!=n.b)return gy(this.node.rawAttrs,e,t);if(null!=n.shape)return xy(this.node.rawAttrs,e,t);if(null!=n.type)return wy(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return Iy(this.node.rawAttrs,e,t);if(null!=n.list.s)return _y(this.node.rawAttrs,e,t);if(null!=n.list.shape)return Ey(this.node.rawAttrs,e,t);if(null!=n.list.b)return Ty(this.node.rawAttrs,e,t);if(null!=n.list.type)return ky(this.node.rawAttrs,e,t)}return t}}function Cy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){mr(e.length===t.length,()=>n+` Shapes ${e} and ${t} must match`);for(let r=0;r<e.length;r++){const a=e[r],o=t[r];mr(a<0||o<0||a===o,()=>n+` Shapes ${e} and ${t} must match`)}}}function Ay(e){return"number"!==typeof e&&!e.some(e=>e<0)}function My(e,t,n){let r=Oy(e,n);const a=!Ay(r);if(a&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(a&&t.forEach(e=>{r=Oy(e.shape,r)}),!Ay(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function Oy(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let r=0;r<e.length;++r){const a=e[r],o=t[r];if(a>=0&&o>=0&&a!==o)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=a>=0?a:o}return n}class Ry{constructor(e,t,n,r,a,o,s){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=Uu(0),Mu(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map(e=>this.read(e))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),Cy(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,Mu(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach((e,n)=>this.write(e,t[n]))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return xl([],[0].concat(this.elementShape));const n=this.readMany(e);return Cy(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),ff(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return xl([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return Cy(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),gd(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,Nf(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const r=e.map(e=>(n+=e,n));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const a=0===n?0:t.size/n,o=[];Cu(()=>{t=hd(t,[1,n,a]);for(let n=0;n<e.length;++n){const s=[0,0===n?0:r[n-1],0],i=[1,e[n],a];o[n]=hd(bd(t,s,i),this.elementShape)}return o});const s=[];for(let i=0;i<e.length;i++)s[i]=i;this.writeMany(s,o)}}class Fy{get id(){return this.idTensor.id}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach(e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);Cy(t,e.shape,"TensorList shape mismatch: "),Mu(e)}),this.idTensor=Uu(0),this.maxNumElements=r,Mu(this.idTensor)}copy(){return new Fy([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(t=>{null!=e&&e.has(t.id)||t.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);Cy(e,this.elementShape,"TensorList shape mismatch: ");const r=My(this.elementShape,this.tensors,e);return Cu(()=>{const e=this.tensors.map(e=>hd(e,r));return ff(e,0)})}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=My(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,Cy(r.shape,e,"TensorList shape mismatch: "),hd(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Cy(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Mu(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const t=new Fy([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);Cy(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=My(this.elementShape,this.tensors,t);return hd(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Cy(this.elementShape,t.shape,"TensorList shape mismatch: "),Mu(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);Cy(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=My(this.elementShape,this.tensors,n);return 0===e.length?xl([],[0].concat(r)):Cu(()=>{const t=e.map(e=>hd(this.tensors[e],r));return ff(t,0)})}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Cy(this.elementShape,t,"TensorList shape mismatch: ");const n=My(this.elementShape,this.tensors,t);return 0===this.size()?xl([],[0].concat(n)):Cu(()=>{const e=this.tensors.map(e=>hd(e,n));return gd(e,0)})}}const Dy=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=Wg("thenBranch",e,t,n),a=Wg("elseBranch",e,t,n),o=Wg("cond",e,t,n),s=Wg("args",e,t,n);return(await o.data())[0]?n.functionMap[r].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=Wg("body",e,t,n),a=Wg("cond",e,t,n),o=Wg("args",e,t,n),s=await n.functionMap[a].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),i=o.map(e=>e.id);let l=await s[0].data();s.forEach(e=>{e.kept||-1!==i.indexOf(e.id)||e.dispose()});let u=o;for(;l[0];){const e=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const t=u.map(e=>e.id);e.forEach(e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()});const o=await n.functionMap[a].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await o[0].data(),o.forEach(e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()})}return u}case"LoopCond":return[Gg(Wg("pred",e,t,n))];case"Switch":{const r=Wg("pred",e,t,n);let a=Wg("data",e,t,n);return a.kept||(a=Gg(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=e.inputNames.find(e=>void 0!==Bg(e,t,n));if(r){return[Gg(Bg(r,t,n))]}return}case"Enter":{const r=Wg("frameName",e,t,n),a=Wg("tensor",e,t,n);return n.enterFrame(r),[Gg(a)]}case"Exit":{const r=Wg("tensor",e,t,n);return n.exitFrame(),[Gg(r)]}case"NextIteration":{const r=Wg("tensor",e,t,n);return n.nextIteration(),[Gg(r)]}case"TensorArrayV3":{const r=Wg("size",e,t,n),a=Wg("dtype",e,t,n),o=Wg("elementShape",e,t,n),s=Wg("dynamicSize",e,t,n),i=Wg("clearAfterRead",e,t,n),l=Wg("identicalElementShapes",e,t,n),u=Wg("name",e,t,n),c=new Ry(u,a,r,o,l,s,i);return n.addTensorArray(c),[c.idTensor,Uu(1)]}case"TensorArrayWriteV3":{const r=Wg("tensorArrayId",e,t,n),a=Wg("index",e,t,n),o=Wg("tensor",e,t,n),s=n.getTensorArray(r.id);return s.write(a,o),[s.idTensor]}case"TensorArrayReadV3":{const r=Wg("tensorArrayId",e,t,n),a=Wg("index",e,t,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=Wg("tensorArrayId",e,t,n),a=Wg("indices",e,t,n),o=Wg("dtype",e,t,n);return[n.getTensorArray(r.id).gather(a,o)]}case"TensorArrayScatterV3":{const r=Wg("tensorArrayId",e,t,n),a=Wg("indices",e,t,n),o=Wg("tensor",e,t,n),s=n.getTensorArray(r.id);return s.scatter(a,o),[s.idTensor]}case"TensorArrayConcatV3":{const r=Wg("tensorArrayId",e,t,n),a=n.getTensorArray(r.id),o=Wg("dtype",e,t,n);return[a.concat(o)]}case"TensorArraySplitV3":{const r=Wg("tensorArrayId",e,t,n),a=Wg("tensor",e,t,n),o=Wg("lengths",e,t,n),s=n.getTensorArray(r.id);return s.split(o,a),[s.idTensor]}case"TensorArraySizeV3":{const r=Wg("tensorArrayId",e,t,n);return[Uu(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=Wg("tensorArrayId",e,t,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=Wg("tensorListId",e,t,n),a=Wg("index",e,t,n),o=Wg("tensor",e,t,n),s=n.getTensorList(r.id);return s.setItem(a,o),[s.idTensor]}case"TensorListGetItem":{const r=Wg("tensorListId",e,t,n),a=Wg("index",e,t,n),o=Wg("elementShape",e,t,n),s=Wg("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(a,o,s)]}case"TensorListScatterV2":case"TensorListScatter":{const r=Wg("indices",e,t,n),a=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const a=Math.max(...t);if(null!=r&&-1!==r&&a>=r)throw new Error(`Max index must be < array size (${a}  vs. ${r})`);const o=new Fy([],n,e.dtype,r),s=Nf(e,0);return t.forEach((e,t)=>{o.setItem(e,s[t])}),o}(Wg("tensor",e,t,n),r,Wg("elementShape",e,t,n),Wg("numElements",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=Wg("elementShape",e,t,n),a=Wg("elementDType",e,t,n);let o;o="TensorListReserve"===e.op?"numElements":"maxNumElements";const s=Wg(o,e,t,n),i=function(e,t,n,r){return new Fy([],e,t,r)}(r,a,0,"TensorListReserve"===e.op?-1:s);return n.addTensorList(i),[i.idTensor]}case"TensorListGather":{const r=Wg("tensorListId",e,t,n),a=Wg("indices",e,t,n),o=Wg("elementShape",e,t,n),s=Wg("elementDType",e,t,n);return[n.getTensorList(r.id).gather(a,s,o)]}case"TensorListStack":{const r=Wg("tensorListId",e,t,n),a=Wg("elementShape",e,t,n),o=Wg("elementDType",e,t,n),s=Wg("numElements",e,t,n);return[n.getTensorList(r.id).stack(a,o,s)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);Cy(e.shape.slice(1),t,"TensorList shape mismatch: ");const a=Nf(e);return new Fy(a,t,r)}(Wg("tensor",e,t,n),Wg("elementShape",e,t,n),Wg("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=Wg("tensorListId",e,t,n),a=n.getTensorList(r.id),o=Wg("dtype",e,t,n),s=Wg("elementShape",e,t,n);return[a.concat(o,s)]}case"TensorListPushBack":{const r=Wg("tensorListId",e,t,n),a=Wg("tensor",e,t,n),o=n.getTensorList(r.id);return o.pushBack(a),[o.idTensor]}case"TensorListPopBack":{const r=Wg("tensorListId",e,t,n),a=Wg("elementShape",e,t,n),o=Wg("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(a,o)]}case"TensorListSplit":{const r=Wg("tensor",e,t,n),a=Wg("elementShape",e,t,n),o=function(e,t,n){let r=0;const a=t.map(e=>(r+=e,r));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${e.shape}`);const o=Oy(e.shape.slice(1),n),s=0===r?0:e.size/r,i=Cu(()=>{const n=[];e=hd(e,[1,r,s]);for(let r=0;r<t.length;++r){const i=[0,0===r?0:a[r-1],0],l=[1,t[r],s];n[r]=hd(bd(e,i,l),o)}return e.dispose(),n}),l=new Fy([],n,e.dtype,t.length);for(let u=0;u<i.length;u++)l.setItem(u,i[u]);return l}(r,Wg("lengths",e,t,n),a);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const r=Wg("tensorListId",e,t,n);return[Uu(n.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=Wg("tensorListId",e,t,n),a=Wg("size",e,t,n),o=n.getTensorList(r.id).resize(a);return n.addTensorList(o),[o.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};function Py(e,t,n){const[r,a]=Wg("fusedOps",e,t,n),o="biasadd"===r,s=!o,i="prelu"===a,l="fusedbatchnorm"===r,u=Wg("numArgs",e,t,n);if(o){if(i&&2!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&o&&1!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=Wg("strides",e,t,n),d=qg(e,t,n),p=Wg("dataFormat",e,t,n).toUpperCase(),h=Wg("dilations",e,t,n);let[f,m]=Wg("args",e,t,n);s&&(m=f,f=void 0);return{stride:c,pad:d,dataFormat:p,dilations:h,biasArg:f,preluArg:m,activationFunc:a,leakyreluAlpha:Wg("leakyreluAlpha",e,t,n)}}function $y(e,t,n){return{boxes:Wg("boxes",e,t,n),scores:Wg("scores",e,t,n),maxOutputSize:Wg("maxOutputSize",e,t,n),iouThreshold:Wg("iouThreshold",e,t,n),scoreThreshold:Wg("scoreThreshold",e,t,n),softNmsSigma:Wg("softNmsSigma",e,t,n)}}class Ly{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=Uu(0),this.tensorMap=new Map,Mu(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Uu(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),Cu(()=>{const e=Nf(t),r=n.length,a=e.length;mr(r===a,()=>`The number of elements doesn't match, keys has ${r} elements, the values has ${a} elements.`);for(let t=0;t<r;t++){const r=n[t],a=e[t];Mu(a),this.tensorMap.set(r,a)}return this.handle})}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return Cu(()=>{const e=[];for(let r=0;r<n.length;r++){const a=n[r],o=this.findWithDefault(a,t);e.push(o)}return ff(e)})}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}function zy(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Cu;const o=((e,t,n)=>{switch(e.category){case"arithmetic":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(Wg("a",e,t,n),Wg("b",e,t,n))];case"AddN":return[r.addN(Wg("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(Wg("a",e,t,n),Wg("b",e,t,n))];case"Mul":return[r.mul(Wg("a",e,t,n),Wg("b",e,t,n))];case"RealDiv":case"Div":return[r.div(Wg("a",e,t,n),Wg("b",e,t,n))];case"DivNoNan":return[r.divNoNan(Wg("a",e,t,n),Wg("b",e,t,n))];case"FloorDiv":return[r.floorDiv(Wg("a",e,t,n),Wg("b",e,t,n))];case"Sub":return[r.sub(Wg("a",e,t,n),Wg("b",e,t,n))];case"Minimum":return[r.minimum(Wg("a",e,t,n),Wg("b",e,t,n))];case"Maximum":return[r.maximum(Wg("a",e,t,n),Wg("b",e,t,n))];case"Pow":return[r.pow(Wg("a",e,t,n),Wg("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(Wg("a",e,t,n),Wg("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"basic_math":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(Wg("x",e,t,n))];case"Acos":return[r.acos(Wg("x",e,t,n))];case"Acosh":return[r.acosh(Wg("x",e,t,n))];case"Asin":return[r.asin(Wg("x",e,t,n))];case"Asinh":return[r.asinh(Wg("x",e,t,n))];case"Atan":return[r.atan(Wg("x",e,t,n))];case"Atan2":return[r.atan2(Wg("x",e,t,n),Wg("y",e,t,n))];case"Atanh":return[r.atanh(Wg("x",e,t,n))];case"Ceil":return[r.ceil(Wg("x",e,t,n))];case"Complex":return[r.complex(Wg("real",e,t,n),Wg("imag",e,t,n))];case"Cos":return[r.cos(Wg("x",e,t,n))];case"Cosh":return[r.cosh(Wg("x",e,t,n))];case"Elu":return[r.elu(Wg("x",e,t,n))];case"Erf":return[r.erf(Wg("x",e,t,n))];case"Exp":return[r.exp(Wg("x",e,t,n))];case"Expm1":return[r.expm1(Wg("x",e,t,n))];case"Floor":return[r.floor(Wg("x",e,t,n))];case"Log":return[r.log(Wg("x",e,t,n))];case"Log1p":return[r.log1p(Wg("x",e,t,n))];case"Imag":return[r.imag(Wg("x",e,t,n))];case"Neg":return[r.neg(Wg("x",e,t,n))];case"Reciprocal":return[r.reciprocal(Wg("x",e,t,n))];case"Real":return[r.real(Wg("x",e,t,n))];case"Relu":return[r.relu(Wg("x",e,t,n))];case"Round":return[r.round(Wg("x",e,t,n))];case"Selu":return[r.selu(Wg("x",e,t,n))];case"Sigmoid":return[r.sigmoid(Wg("x",e,t,n))];case"Sin":return[r.sin(Wg("x",e,t,n))];case"Sign":return[r.sign(Wg("x",e,t,n))];case"Sinh":return[r.sinh(Wg("x",e,t,n))];case"Softplus":return[r.softplus(Wg("x",e,t,n))];case"Sqrt":return[r.sqrt(Wg("x",e,t,n))];case"Square":return[r.square(Wg("x",e,t,n))];case"Tanh":return[r.tanh(Wg("x",e,t,n))];case"Tan":return[r.tan(Wg("x",e,t,n))];case"ClipByValue":return[r.clipByValue(Wg("x",e,t,n),Wg("clipValueMin",e,t,n),Wg("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(Wg("x",e,t,n))];case"Rsqrt":return[r.rsqrt(Bg(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(Wg("x",e,t,n),Wg("alpha",e,t,n))];case"Prelu":return[r.prelu(Wg("x",e,t,n),Wg("alpha",e,t,n))];case"IsNan":return[r.isNaN(Bg(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(Bg(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(Bg(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"control":return Dy(e,t,n);case"convolution":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Conv1D":{const a=Wg("stride",e,t,n),o=Wg("pad",e,t,n),s=Wg("dataFormat",e,t,n).toUpperCase(),i=Wg("dilation",e,t,n);return[r.conv1d(Wg("x",e,t,n),Wg("filter",e,t,n),a,o,s,i)]}case"Conv2D":{const a=Wg("strides",e,t,n),o=qg(e,t,n),s=Wg("dataFormat",e,t,n).toUpperCase(),i=Wg("dilations",e,t,n);return[r.conv2d(Wg("x",e,t,n),Wg("filter",e,t,n),[a[1],a[2]],o,s,[i[1],i[2]])]}case"_FusedConv2D":{const{stride:a,pad:o,dataFormat:s,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=Py(e,t,n);return[r.fused.conv2d({x:Wg("x",e,t,n),filter:Wg("filter",e,t,n),strides:[a[1],a[2]],pad:o,dataFormat:s,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:o,dataFormat:s,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=Py(e,t,n);return[r.fused.depthwiseConv2d({x:Wg("x",e,t,n),filter:Wg("filter",e,t,n),strides:[a[1],a[2]],pad:o,dataFormat:s,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=Wg("outputShape",e,t,n),o=Wg("strides",e,t,n),s=qg(e,t,n);return[r.conv2dTranspose(Wg("x",e,t,n),Wg("filter",e,t,n),a,[o[1],o[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=Wg("strides",e,t,n),o=qg(e,t,n),s=Wg("dilations",e,t,n),i=Wg("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(Wg("input",e,t,n),Wg("filter",e,t,n),[a[1],a[2]],o,i,[s[1],s[2]])]}case"Conv3D":{const a=Wg("strides",e,t,n),o=Wg("pad",e,t,n),s=Wg("dataFormat",e,t,n).toUpperCase(),i=Wg("dilations",e,t,n);return[r.conv3d(Wg("x",e,t,n),Wg("filter",e,t,n),[a[1],a[2],a[3]],o,s,[i[1],i[2],i[3]])]}case"AvgPool":{const a=Wg("strides",e,t,n),o=Wg("pad",e,t,n),s=Wg("kernelSize",e,t,n);return[r.avgPool(Wg("x",e,t,n),[s[1],s[2]],[a[1],a[2]],o)]}case"MaxPool":{const a=Wg("strides",e,t,n),o=Wg("pad",e,t,n),s=Wg("kernelSize",e,t,n);return[r.maxPool(Wg("x",e,t,n),[s[1],s[2]],[a[1],a[2]],o)]}case"MaxPoolWithArgmax":{const a=Wg("strides",e,t,n),o=Wg("pad",e,t,n),s=Wg("kernelSize",e,t,n),i=Wg("includeBatchInIndex",e,t,n),{result:l,indexes:u}=r.maxPoolWithArgmax(Wg("x",e,t,n),[s[1],s[2]],[a[1],a[2]],o,i);return[l,u]}case"AvgPool3D":{const a=Wg("strides",e,t,n),o=Wg("pad",e,t,n),s=Wg("kernelSize",e,t,n);return[r.avgPool3d(Wg("x",e,t,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],o)]}case"MaxPool3D":{const a=Wg("strides",e,t,n),o=Wg("pad",e,t,n),s=Wg("kernelSize",e,t,n);return[r.maxPool3d(Wg("x",e,t,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],o)]}case"Dilation2D":{const a=Wg("strides",e,t,n),o=Wg("pad",e,t,n),s=Wg("dilations",e,t,n),i=a[1],l=a[2],u=s[1],c=s[2];return[r.dilation2d(Wg("x",e,t,n),Wg("filter",e,t,n),[i,l],o,[u,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"creation":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Fill":{const a=Wg("shape",e,t,n),o=Wg("dtype",e,t,n),s=Wg("value",e,t,n);return[r.fill(a,s,o)]}case"LinSpace":{const a=Wg("start",e,t,n),o=Wg("stop",e,t,n),s=Wg("num",e,t,n);return[r.linspace(a,o,s)]}case"Multinomial":{const a=Wg("logits",e,t,n),o=Wg("numSamples",e,t,n),s=Wg("seed",e,t,n);return[r.multinomial(a,o,s)]}case"OneHot":{const a=Wg("indices",e,t,n),o=Wg("depth",e,t,n),s=Wg("onValue",e,t,n),i=Wg("offValue",e,t,n),l=Wg("dtype",e,t,n);return[r.oneHot(a,o,s,i,l)]}case"Ones":return[r.ones(Wg("shape",e,t,n),Wg("dtype",e,t,n))];case"OnesLike":return[r.onesLike(Wg("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(Wg("shape",e,t,n),Wg("dtype",e,t,n),Wg("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(Wg("shape",e,t,n),Wg("minval",e,t,n),Wg("maxval",e,t,n),Wg("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(Wg("shape",e,t,n),Wg("minval",e,t,n),Wg("maxval",e,t,n),Wg("seed",e,t,n))];case"Range":{const a=Wg("start",e,t,n),o=Wg("stop",e,t,n),s=Wg("step",e,t,n);return[r.range(a,o,s,Wg("dtype",e,t,n))]}case"TruncatedNormal":{const a=Wg("shape",e,t,n),o=Wg("mean",e,t,n),s=Wg("stdDev",e,t,n),i=Wg("seed",e,t,n);return[r.truncatedNormal(a,o,s,Wg("dtype",e,t,n),i)]}case"Zeros":return[r.zeros(Wg("shape",e,t,n),Wg("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(Wg("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"dynamic":return async function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:S;switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:l,softNmsSigma:u}=$y(e,t,n),c=await a.image.nonMaxSuppressionWithScoreAsync(r,o,s,i,l,u);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=$y(e,t,n),u=Wg("padToMaxOutputSize",e,t,n),c=await a.image.nonMaxSuppressionPaddedAsync(r,o,s,i,l,u);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=$y(e,t,n);return[await a.image.nonMaxSuppressionAsync(r,o,s,i,l)]}case"Where":{const r=a.cast(Wg("condition",e,t,n),"bool"),o=[await a.whereAsync(r)];return r.dispose(),o}case"ListDiff":return a.setdiff1dAsync(Wg("x",e,t,n),Wg("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n);case"evaluation":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"LowerBound":{const a=Wg("sortedSequence",e,t,n),o=Wg("values",e,t,n);return[r.lowerBound(a,o)]}case"TopKV2":{const a=Wg("x",e,t,n),o=Wg("k",e,t,n),s=Wg("sorted",e,t,n),i=r.topk(a,o,s);return[i.values,i.indices]}case"UpperBound":{const a=Wg("sortedSequence",e,t,n),o=Wg("values",e,t,n);return[r.upperBound(a,o)]}case"Unique":{const a=Wg("x",e,t,n),o=r.unique(a);return[o.values,o.indices]}case"UniqueV2":{const a=Wg("x",e,t,n),o=Wg("axis",e,t,n),s=r.unique(a,o);return[s.values,s.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"image":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"ResizeBilinear":{const a=Wg("images",e,t,n),o=Wg("size",e,t,n),s=Wg("alignCorners",e,t,n),i=Wg("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(a,[o[0],o[1]],s,i)]}case"ResizeNearestNeighbor":{const a=Wg("images",e,t,n),o=Wg("size",e,t,n),s=Wg("alignCorners",e,t,n),i=Wg("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(a,[o[0],o[1]],s,i)]}case"CropAndResize":{const a=Wg("image",e,t,n),o=Wg("boxes",e,t,n),s=Wg("boxInd",e,t,n),i=Wg("cropSize",e,t,n),l=Wg("method",e,t,n),u=Wg("extrapolationValue",e,t,n);return[r.image.cropAndResize(a,o,s,i,l,u)]}case"ImageProjectiveTransformV3":{const a=Wg("images",e,t,n),o=Wg("transforms",e,t,n),s=Wg("outputShape",e,t,n),i=Wg("fillValue",e,t,n),l=Wg("interpolation",e,t,n),u=Wg("fillMode",e,t,n);return[r.image.transform(a,o,l.toLowerCase(),u.toLowerCase(),i,s)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"graph":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const a=Wg("default",e,t,n);return[Bg(e.name,t,n)||a];case"Placeholder":return[Bg(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[Gg(Wg("x",e,t,n))];case"IdentityN":return Wg("x",e,t,n).map(e=>Gg(e));case"Shape":return[r.tensor1d(Wg("x",e,t,n).shape,"int32")];case"ShapeN":return Wg("x",e,t,n).map(e=>r.tensor1d(e.shape));case"Size":return[r.scalar(Wg("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(Wg("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const o=Wg("x",e,t,n),s=Wg("data",e,t,n),i=Wg("message",e,t,n),l=Wg("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(i);for(let e=0;e<s.length;e++)console.log(Array.prototype.slice.call(s[e].dataSync()).slice(0,l));return[o];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"logical":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Equal":return[r.equal(Wg("a",e,t,n),Wg("b",e,t,n))];case"NotEqual":return[r.notEqual(Wg("a",e,t,n),Wg("b",e,t,n))];case"Greater":return[r.greater(Wg("a",e,t,n),Wg("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(Wg("a",e,t,n),Wg("b",e,t,n))];case"Less":return[r.less(Wg("a",e,t,n),Wg("b",e,t,n))];case"LessEqual":return[r.lessEqual(Wg("a",e,t,n),Wg("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(Wg("a",e,t,n),Wg("b",e,t,n))];case"LogicalNot":return[r.logicalNot(Wg("a",e,t,n))];case"LogicalOr":return[r.logicalOr(Wg("a",e,t,n),Wg("b",e,t,n))];case"Select":case"SelectV2":return[r.where(Wg("condition",e,t,n),Wg("a",e,t,n),Wg("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(Wg("a",e,t,n),Wg("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"matrices":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(Wg("a",e,t,n),Wg("b",e,t,n),Wg("transposeA",e,t,n),Wg("transposeB",e,t,n))];case"Einsum":return[r.einsum(Wg("equation",e,t,n),...Wg("tensors",e,t,n))];case"Transpose":return[r.transpose(Wg("x",e,t,n),Wg("perm",e,t,n))];case"_FusedMatMul":const[a,o]=Wg("fusedOps",e,t,n),s="biasadd"===a,i="prelu"===o,l=Wg("numArgs",e,t,n),u=Wg("leakyreluAlpha",e,t,n);if(s){if(i&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=Wg("args",e,t,n);return[r.fused.matMul({a:Wg("a",e,t,n),b:Wg("b",e,t,n),transposeA:Wg("transposeA",e,t,n),transposeB:Wg("transposeB",e,t,n),bias:c,activation:o,preluActivationWeights:d,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(Wg("a",e,t,n),Wg("numLower",e,t,n),Wg("numUpper",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"normalization":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(Wg("x",e,t,n),Wg("axis",e,t,n),Wg("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(Wg("x",e,t,n),Wg("mean",e,t,n),Wg("variance",e,t,n),Wg("offset",e,t,n),Wg("scale",e,t,n),Wg("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(Wg("x",e,t,n),Wg("radius",e,t,n),Wg("bias",e,t,n),Wg("alpha",e,t,n),Wg("beta",e,t,n))];case"Softmax":return[r.softmax(Wg("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(Wg("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"ragged":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"RaggedGather":{const{outputNestedSplits:a,outputDenseValues:o}=r.raggedGather(Wg("paramsNestedSplits",e,t,n),Wg("paramsDenseValues",e,t,n),Wg("indices",e,t,n),Wg("outputRaggedRank",e,t,n));return a.concat(o)}case"RaggedRange":{const{rtNestedSplits:a,rtDenseValues:o}=r.raggedRange(Wg("starts",e,t,n),Wg("limits",e,t,n),Wg("splits",e,t,n));return[a,o]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(Wg("shape",e,t,n),Wg("values",e,t,n),Wg("defaultValue",e,t,n),Wg("rowPartitionTensors",e,t,n),Wg("rowPartitionTypes",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"reduction":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Max":{const a=Wg("axis",e,t,n),o=Wg("keepDims",e,t,n);return[r.max(Wg("x",e,t,n),a,o)]}case"Mean":{const a=Wg("axis",e,t,n),o=Wg("keepDims",e,t,n);return[r.mean(Wg("x",e,t,n),a,o)]}case"Min":{const a=Wg("axis",e,t,n),o=Wg("keepDims",e,t,n);return[r.min(Wg("x",e,t,n),a,o)]}case"Sum":{const a=Wg("axis",e,t,n),o=Wg("keepDims",e,t,n);return[r.sum(Wg("x",e,t,n),a,o)]}case"All":{const a=Wg("axis",e,t,n),o=Wg("keepDims",e,t,n);return[r.all(Wg("x",e,t,n),a,o)]}case"Any":{const a=Wg("axis",e,t,n),o=Wg("keepDims",e,t,n);return[r.any(Wg("x",e,t,n),a,o)]}case"ArgMax":{const a=Wg("axis",e,t,n);return[r.argMax(Wg("x",e,t,n),a)]}case"ArgMin":{const a=Wg("axis",e,t,n);return[r.argMin(Wg("x",e,t,n),a)]}case"Prod":{const a=Wg("axis",e,t,n),o=Wg("keepDims",e,t,n);return[r.prod(Wg("x",e,t,n),a,o)]}case"Cumprod":{const a=Wg("axis",e,t,n),o=Wg("exclusive",e,t,n),s=Wg("reverse",e,t,n);return[r.cumprod(Wg("x",e,t,n),a,o,s)]}case"Cumsum":{const a=Wg("axis",e,t,n),o=Wg("exclusive",e,t,n),s=Wg("reverse",e,t,n);return[r.cumsum(Wg("x",e,t,n),a,o,s)]}case"Bincount":const a=Wg("x",e,t,n),o=Wg("weights",e,t,n),s=Wg("size",e,t,n);return[r.bincount(a,o,s)];case"DenseBincount":{const a=Wg("x",e,t,n),o=Wg("weights",e,t,n),s=Wg("size",e,t,n),i=Wg("binaryOutput",e,t,n);return[r.denseBincount(a,o,s,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"slice_join":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"ConcatV2":case"Concat":{const a=Wg("n",e,t,n),o=Wg("axis",e,t,n);let s=Wg("tensors",e,t,n);return s=s.slice(0,a),[r.concat(s,o)]}case"Gather":{const a=Wg("x",e,t,n),o=Wg("indices",e,t,n);return[r.gather(a,r.cast(o,"int32"),0)]}case"GatherV2":{const a=Wg("axis",e,t,n),o=Wg("batchDims",e,t,n),s=Wg("x",e,t,n),i=Wg("indices",e,t,n);return[r.gather(s,r.cast(i,"int32"),a,o)]}case"Reverse":{const a=Wg("dims",e,t,n),o=[];for(let e=0;e<a.length;e++)a[e]&&o.push(e);const s=Wg("x",e,t,n);return[r.reverse(s,o)]}case"ReverseV2":{const a=Wg("axis",e,t,n),o=Wg("x",e,t,n);return[r.reverse(o,a)]}case"Slice":{const a=Wg("begin",e,t,n),o=Wg("size",e,t,n);return[r.slice(Wg("x",e,t,n),a,o)]}case"StridedSlice":{const a=Wg("begin",e,t,n),o=Wg("end",e,t,n),s=Wg("strides",e,t,n),i=Wg("beginMask",e,t,n),l=Wg("endMask",e,t,n),u=Wg("ellipsisMask",e,t,n),c=Wg("newAxisMask",e,t,n),d=Wg("shrinkAxisMask",e,t,n),p=Wg("x",e,t,n);return[r.stridedSlice(p,a,o,s,i,l,u,c,d)]}case"Pack":return Cu(()=>{const a=Wg("axis",e,t,n),o=Wg("tensors",e,t,n),s=o[0].shape,i=r.squeeze(o[0]).shape,l=o.map(e=>{const t=br(e.shape,s);if(!t&&!br(r.squeeze(e).shape,i))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,s)});return[r.stack(l,a)]});case"Unpack":{const a=Wg("axis",e,t,n),o=Wg("tensor",e,t,n);return r.unstack(o,a)}case"Tile":{const a=Wg("reps",e,t,n);return[r.tile(Wg("x",e,t,n),a)]}case"Split":case"SplitV":{const a=Wg("axis",e,t,n),o=Wg("numOrSizeSplits",e,t,n),s=Wg("x",e,t,n);return r.split(s,o,a)}case"ScatterNd":{const a=Wg("indices",e,t,n),o=Wg("values",e,t,n),s=Wg("shape",e,t,n);return[r.scatterND(a,o,s)]}case"GatherNd":{const a=Wg("x",e,t,n),o=Wg("indices",e,t,n);return[r.gatherND(a,o)]}case"SparseToDense":{const a=Wg("sparseIndices",e,t,n),o=Wg("outputShape",e,t,n),s=Wg("sparseValues",e,t,n),i=Wg("defaultValue",e,t,n);return[r.sparseToDense(a,s,o,s.dtype===i.dtype?i:r.cast(i,s.dtype))]}case"TensorScatterUpdate":{const a=Wg("indices",e,t,n),o=Wg("values",e,t,n),s=Wg("tensor",e,t,n);return[r.tensorScatterUpdate(s,a,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"sparse":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:o,emptyRowIndicator:s,reverseIndexMap:i}=r.sparse.sparseFillEmptyRows(Wg("indices",e,t,n),Wg("values",e,t,n),Wg("denseShape",e,t,n),Wg("defaultValue",e,t,n));return[a,o,s,i]}case"SparseReshape":{const{outputIndices:a,outputShape:o}=r.sparse.sparseReshape(Wg("inputIndices",e,t,n),Wg("inputShape",e,t,n),Wg("newShape",e,t,n));return[a,o]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(Wg("data",e,t,n),Wg("indices",e,t,n),Wg("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(Wg("data",e,t,n),Wg("indices",e,t,n),Wg("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"spectral":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"FFT":return[r.fft(Wg("x",e,t,n))];case"IFFT":return[r.ifft(Wg("x",e,t,n))];case"RFFT":return[r.rfft(Wg("x",e,t,n))];case"IRFFT":return[r.irfft(Wg("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"string":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(Wg("input",e,t,n),Wg("pattern",e,t,n),Wg("rewrite",e,t,n),Wg("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:a,nGramsSplits:o}=r.string.stringNGrams(Wg("data",e,t,n),Wg("dataSplits",e,t,n),Wg("separator",e,t,n),Wg("nGramWidths",e,t,n),Wg("leftPad",e,t,n),Wg("rightPad",e,t,n),Wg("padWidth",e,t,n),Wg("preserveShortSequences",e,t,n));return[a,o]}case"StringSplit":{const{indices:a,values:o,shape:s}=r.string.stringSplit(Wg("input",e,t,n),Wg("delimiter",e,t,n),Wg("skipEmpty",e,t,n));return[a,o,s]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(Wg("input",e,t,n),Wg("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"transformation":return a(()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Cast":return[r.cast(Wg("x",e,t,n),Wg("dtype",e,t,n))];case"ExpandDims":{const a=Wg("axis",e,t,n);return[r.expandDims(Wg("x",e,t,n),a)]}case"Squeeze":{const a=Wg("axis",e,t,n);return[r.squeeze(Wg("x",e,t,n),a)]}case"Reshape":return[r.reshape(Wg("x",e,t,n),Wg("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(Wg("x",e,t,n),Wg("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(Wg("x",e,t,n),Wg("padding",e,t,n),Wg("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(Wg("x",e,t,n),Wg("padding",e,t,n),Wg("constantValue",e,t,n))];case"SpaceToBatchND":{const a=Wg("blockShape",e,t,n),o=Wg("paddings",e,t,n);return[r.spaceToBatchND(Wg("x",e,t,n),a,o)]}case"BatchToSpaceND":{const a=Wg("blockShape",e,t,n),o=Wg("crops",e,t,n);return[r.batchToSpaceND(Wg("x",e,t,n),a,o)]}case"DepthToSpace":{const a=Wg("blockSize",e,t,n),o=Wg("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(Wg("x",e,t,n),a,o)]}case"BroadcastTo":return[r.broadcastTo(Wg("x",e,t,n),Wg("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(Wg("s0",e,t,n),Wg("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const a=r.getHashTableHandleByName(e.name);if(null!=a)return[a];{const a=Wg("keyDType",e,t,n),o=Wg("valueDType",e,t,n),s=new Ly(a,o);return r.addHashTable(e.name,s),[s.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const a=Wg("tableHandle",e,t,n,r),o=Wg("keys",e,t,n),s=Wg("values",e,t,n),i=r.getHashTableById(a.id);return[await i.import(o,s)]}case"LookupTableFind":case"LookupTableFindV2":{const a=Wg("tableHandle",e,t,n,r),o=Wg("keys",e,t,n),s=Wg("defaultValue",e,t,n),i=r.getHashTableById(a.id);return[await i.find(o,s)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=Wg("tableHandle",e,t,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,r);case"custom":const o=zg(e.op);if(o&&o.customExecutor)return o.customExecutor(new Ny(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return zr(o)?o.then(e=>[].concat(e)):[].concat(o)}class Wy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function By(e,t,n,r){const a=new Set,o=[];let s=null,i=null;const l=new Set,u=new Set(Object.keys(e).map(e=>Vg(e)[0]));r=r||[];const c=new Set(r.map(e=>Vg(e.name)[0])),d=[...t];for(;d.length>0;){const e=d.pop();(Gy(e)||Ky(e)||Yy(e))&&null==s&&(s=e,i=s.children.map(e=>e.name).filter(e=>a.has(e))),a.add(e.name),null==n[e.name]&&(u.has(e.name)||c.has(e.name)||(0!==e.inputs.length?e.inputs.forEach(e=>{l.has(e.name)||(l.add(e.name),d.push(e))}):o.push(e.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:o,dynamicNode:s,syncInputs:i}}function Uy(e,t){const{usedNodes:n,inputs:r}=t,a=Object.keys(r).map(e=>Vg(e)[0]).map(t=>e.nodes[t]),o=e.initNodes||[],s=e=>n.has("string"===typeof e?e:e.name);function i(e){return[...new Map(e.map(e=>[e.name,e])).values()]}const l=i([...a,...e.weights,...o]).filter(s),u=i([...l,...Object.values(e.nodes)]).filter(s),c=new Map(u.map(e=>[e.name,e])),d={};for(const m of u){d[m.name]=d[m.name]||0;for(const e of m.children)s(e)||(d[e.name]=Number.POSITIVE_INFINITY),d[e.name]=(d[e.name]||0)+1}const p=Object.entries(d).filter(e=>{let[,t]=e;return 0===t}).map(e=>{let[t]=e;return t}),h=[...p];for(;p.length>0;){const e=p.pop(),t=c.get(e);for(const n of t.children.filter(s))0===--d[n.name]&&(h.push(n.name),p.push(n.name))}const f=function(e,t){const n=new Map(e.map(e=>[e.name,e])),r=t.map(e=>e.name),a=new Set(r);for(;r.length>0;){const e=r.pop(),t=n.get(e);for(const o of t.children)n.has(o.name)&&!a.has(o.name)&&(a.add(o.name),r.push(o.name))}const o=e.filter(e=>a.has(e.name));return o}(h.map(e=>c.get(e)),l);return function(e,t){const n=new Map(e.map((e,t)=>[e.name,t])),r=new Set(t.map(e=>e.name)),a=e=>r.has("string"===typeof e?e:e.name),o=new Set(e.map(e=>e.name)),s=e=>o.has("string"===typeof e?e:e.name);for(const i of e){for(const e of i.children.filter(s)){if(!n.has(e.name))throw new jy(`Child ${e.name} of node ${i.name} is unreachable.`);if(n.get(i.name)>n.get(e.name))throw new jy(`Node ${i.name} is scheduled to run after its child ${e.name}.`)}if(!a(i))for(const e of i.inputs){if(!n.has(e.name))throw new jy(`Input ${e.name} of node ${i.name} is unreachable.`);if(n.get(e.name)>n.get(i.name))throw new jy(`Node ${i.name} is scheduled to run before its input ${e.name}.`)}}}(f,l),f}class jy extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}const Hy=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),Vy=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),qy=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function Gy(e){return Hy.has(e.op)}function Ky(e){return Vy.has(e.op)}function Yy(e){return qy.has(e.op)}class Qy{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map(t=>e[t].map(e=>e.id));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t})}get functions(){return Object.keys(this._functions).reduce((e,t)=>(e[t]=this._functions[t].signature,e),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach(t=>{this._functionExecutorMap[t]=new Qy(e.functions[t],this)})}getCompilationKey(e,t){const n=e.map(e=>e.name).sort(),r=t.map(e=>e.name).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,t){const n=By(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:o}=n;if(null!=a)throw new Error(`This execution contains the node '${a.name}', which has the dynamic op '${a.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${o}]`);if(r.length>0){const n=t.map(e=>e.name),a=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${a}]. Missing the following inputs: [${r}]`)}const s=Uy(this.graph,n),i=function(e){const t=new Map(e.map((e,t)=>[e.name,t])),n=Number.MAX_SAFE_INTEGER,r=e.map((e,t)=>Gy(e)?n:t),a=e=>{const n=r[t.get(e.name)];return null==n?-1:n},o=e.map((e,t)=>e.children.map(a).reduce((e,t)=>Math.max(e,t),r[t])),s=new Map;for(let i=0;i<e.length;++i){const t=o[i];if(t===n)continue;const r=e[i],a=e[t];s.has(a.name)||s.set(a.name,[]),s.get(a.name).push(r)}return s}(s);return{orderedNodes:s,nodeLiveUntilMap:i}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return Mu(t),t}cloneTensorList(e){if(!e)return null;const t=e.map(e=>this.cloneAndKeepTensor(e));return t}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(e=>{let[t,n]=e;return[t,this.cloneTensorList(n)]}))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map(e=>this.graph.nodes[Vg(e)[0]]),a=t.map(e=>Vg(e)[0]),o=new Set(a);let s=a.map(e=>this.graph.nodes[e]);0===s.length&&(s=this._outputs);const i=this.getCompilationKey(r,s);let l=this.compiledMap.get(i);null==l&&(l=this.compile(e,s),this.compiledMap.set(i,l));try{this.keepIntermediateTensors=jr().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(fP){this.keepIntermediateTensors=!1,console.warn(fP.message)}const u={},c={};return Cu(()=>{const n=new Wy(this.weightMap,u,c,this.functionExecutorMap,this.parseNodeNameCache),r=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(t=>{const[a,o]=Vg(t,n),s=[];s[o]=e[t],r[a]=s,this.keepIntermediateTensors&&(this.clonedTensorsMap[a]=this.cloneTensorList(s))});const a=this.getFrozenTensorIds(r),{orderedNodes:s,nodeLiveUntilMap:i}=l;for(const e of s){if(r[e.name])continue;const t=zy(e,r,n,this._resourceManager);if(zr(t))throw new Error(`The execution of the op '${e.op}' returned a promise. Please use model.executeAsync() instead.`);r[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,r,n,a,o,i.get(e.name))}return null==this.parent&&n.dispose(a),t.map(e=>Bg(e,r,n))})}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map(t=>e[t]).map(e=>e.map(e=>e.id)));return new Set(t)}checkTensorForDisposal(e,t,n,r,a,o,s){if(!Gy(t)&&!o.has(e)){for(const r of n[e])null!=r&&(s[r.id]=(s[r.id]||0)+t.children.length);for(const e of t.inputs){if(Gy(e))continue;const t=Ug(e.name,n,r);if(null!=t)for(const e of t){if(!e||e.kept||a.has(e.id))continue;const t=s[e.id];1===t?(e.dispose(),delete s[e.id]):null!=t&&s[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,r,a,o){function s(e){return Gy(e)||a.has(e.name)}if(!Gy(e)&&null!=o)for(const i of o){if(s(i))continue;const e=Ug(i.name,t,n);for(const t of e)!t||t.kept||r.has(t.id)||t.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=jr().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(fP){this.keepIntermediateTensors=!1,console.warn(fP.message)}const o=new Wy(this.weightMap,r,a,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const s=await this.executeWithControlFlow(e,o,t,n),i=t.map(e=>Bg(e,s,o)),l=i.map(e=>e.id),u=Object.keys(e).map(t=>e[t].id),c=new Set([...l,...u,...this.weightIds]);return Object.values(s).forEach(e=>{e.forEach(e=>{!e||e.isDisposed||c.has(e.id)||e.dispose()})}),null==this.parent&&o.dispose(c),i}async executeFunctionAsync(e,t,n){const r=e.reduce((e,t,n)=>(e[this.inputs[n].name]=t,e),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const a=Object.keys(e),o=a.map(e=>this.graph.nodes[Vg(e)[0]]),s=n.map(e=>Vg(e)[0]),i=new Set(s);let l=s.map(e=>this.graph.nodes[e]);0===l.length&&(l=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:d,syncInputs:p}=By(e,l,this.weightMap,this._initNodes),h=[...o,...this.graph.weights,...this._initNodes||[]].map(e=>({node:e,contexts:t.currentContext})),f=Object.assign({},this.weightMap);Object.keys(e).forEach(t=>{const[n,r]=Vg(t),a=[];a[r]=e[t],f[n]=a});const m={},g=this.getFrozenTensorIds(f),y={};for(;h.length>0;){const e=this.processStack(o,h,t,f,y,g,i,m,u);await Promise.all(e)}null!=d||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const v=l.filter(e=>!Gy(e)&&!Bg(e.name,f,t)).map(e=>e.name);if(v.length>0){let e="";throw null!=d&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${p}]`),new Error(`Cannot compute the outputs [${v}] from the provided inputs [${a}]. Consider providing the following inputs: [${c}]. ${e}`)}return f}processStack(e,t,n,r,a,o,s,i,l){const u=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let c="";if("Enter"===e.node.op&&Wg("isConstant",e.node,r,n)&&([c]=jg(e.node.name,n)),null==r[e.node.name]){const d=zy(e.node,r,n,this._resourceManager);c||([c]=jg(e.node.name,n));const p=n.currentContext;zr(d)?u.push(d.then(u=>(r[c]=u,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(u)),n.currentContext=p,this.checkTensorForDisposal(c,e.node,r,n,o,s,i),this.processChildNodes(e.node,t,n,r,a,l),u))):(r[c]=d,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(d)),this.checkTensorForDisposal(c,e.node,r,n,o,s,i),this.processChildNodes(e.node,t,n,r,a,l))}else this.processChildNodes(e.node,t,n,r,a,l)}return u}processChildNodes(e,t,n,r,a,o){e.children.forEach(e=>{const[s]=jg(e.name,n);!a[s]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some(e=>!!Bg(e,r,n))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every(e=>!!Bg(e,r,n))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(e=>e.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(t=>{const n=e[t],[r]=Vg(t),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const e=a.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every((t,n)=>-1===e[n]||e[n]===t);mr(t,()=>`The shape of dict['${a.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`)}a.attrParams.dtype&&a.attrParams.dtype.value&&mr(n.dtype===a.attrParams.dtype.value,()=>`The dtype of dict['${a.name}'] provided in model.execute(dict) must be ${a.attrParams.dtype.value}, but was ${n.dtype}`)})}mapInputs(e){var t,n;const r={};for(const a in e){const o=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[a];null!=o?r[o.name]=e[a]:r[a]=e[a]}return r}checkInputs(e){const t=Object.keys(e).filter(e=>{const[t]=Vg(e);return null==this.graph.nodes[t]});if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map(e=>{var t,n;const r=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=r?r.name:e},{})}checkOutputs(e){e.forEach(e=>{const[t]=Vg(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)})}}class Xy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const Jy="?tfjs-format=file",Zy="model.json";class ev{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=r,null==n&&(this.loadOptions={}),this.resourceManager=new Xy}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return zr(e)?e.then(e=>this.loadSync(e)):this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(n=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}this.signature=n,this.version=`${t.versions.producer}.${t.versions.minConsumer}`;const r=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Qy(hy.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=hy.Instance.transformGraph(e.modelInitializer);this.initializer=new Qy(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"===typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof Gi?[e]:e).forEach((e,n)=>t[this.structuredOutputKeys[n]]=e),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof Gi)&&!Array.isArray(e)){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const r=n[t];null!=r.resourceId&&(e[t]=this.resourceIdToCapturedInput[r.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-n} non-resource placeholders, while there are ${e.length} input tensors provided.`);let r=0;return this.inputNodes.reduce((t,n)=>{var a,o,s;const i=null===(s=null===(o=null===(a=this.signature)||void 0===a?void 0:a.inputs)||void 0===o?void 0:o[n])||void 0===s?void 0:s.resourceId;return t[n]=null!=i?this.resourceIdToCapturedInput[i]:e[r++],t},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let r=0;r<n.length;r++){const a=t[n[r]];this.resourceIdToCapturedInput[a.resourceId]=e[r]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((t,n)=>(t[n]=[e[n]],t),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Au(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function tv(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if(null==t)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==n&&(n={}),n.fromTFHub&&"string"===typeof t&&(t=function(e){e.endsWith("/")||(e+="/");return`${e}${Zy}${Jy}`}(t));const a=new ev(t,n,r);return await a.load(),a}var nv=function(){return nv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},nv.apply(this,arguments)};function rv(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function i(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,i)}l((r=r.apply(e,t||[])).next())})}function av(e,t){var n,r,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var ov=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],sv={modelType:"short",runtime:"mediapipe",maxFaces:1},iv=function(){function e(e){var t=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new Dg.FaceDetection({locateFile:function(t,n){if(e.solutionPath){var r=e.solutionPath.replace(/\/+$/,"");return"".concat(r,"/").concat(t)}return"".concat(n,"/").concat(t)}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:e.modelType}),this.faceDetectorSolution.onResults(function(e){if(t.height=e.image.height,t.width=e.image.width,t.faces=[],null!==e.detections)for(var n=0,r=e.detections;n<r.length;n++){var a=r[n];t.faces.push(t.normalizedToAbsolute(a.landmarks,(void 0,void 0,{xMin:s=(o=a.boundingBox).xCenter-o.width/2,xMax:s+o.width,yMin:i=o.yCenter-o.height/2,yMax:i+o.height,width:o.width,height:o.height})))}var o,s,i})}return e.prototype.normalizedToAbsolute=function(e,t){var n=this;return{keypoints:e.map(function(e,t){return{x:e.x*n.width,y:e.y*n.height,name:ov[t]}}),box:{xMin:t.xMin*this.width,yMin:t.yMin*this.height,xMax:t.xMax*this.width,yMax:t.yMax*this.height,width:t.width*this.width,height:t.height*this.height}}},e.prototype.estimateFaces=function(e,t){return rv(this,void 0,void 0,function(){var n,r;return av(this,function(a){switch(a.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),e instanceof Gi?(r=ImageData.bind,[4,Cc(e)]):[3,2];case 1:return n=new(r.apply(ImageData,[void 0,a.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:n=e,a.label=3;case 3:return e=n,[4,this.faceDetectorSolution.send({image:e})];case 4:return a.sent(),[2,this.faces]}})})},e.prototype.dispose=function(){this.faceDetectorSolution.close()},e.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},e}();function lv(e){return rv(this,void 0,void 0,function(){var t,n;return av(this,function(r){switch(r.label){case 0:return t=function(e){if(null==e)return nv({},sv);var t=nv({},e);return t.runtime="mediapipe",null==t.modelType&&(t.modelType=sv.modelType),null==t.maxFaces&&(t.maxFaces=sv.maxFaces),t}(e),[4,(n=new iv(t)).initialize()];case 1:return r.sent(),[2,n]}})})}function uv(e){return e instanceof Gi?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function cv(e){return e instanceof Gi?e:Ac(e)}function dv(e,t){mr(0!==e.width,function(){return"".concat(t," width cannot be 0.")}),mr(0!==e.height,function(){return"".concat(t," height cannot be 0.")})}function pv(e,t,n){var r=t.outputTensorSize,a=t.keepAspectRatio,o=t.borderMode,s=t.outputTensorFloatRange,i=uv(e),l=function(e,t){return t?{xCenter:t.xCenter*e.width,yCenter:t.yCenter*e.height,width:t.width*e.width,height:t.height*e.height,rotation:t.rotation}:{xCenter:.5*e.width,yCenter:.5*e.height,width:e.width,height:e.height,rotation:0}}(i,n),u=function(e,t,n){if(void 0===n&&(n=!1),!n)return{top:0,left:0,right:0,bottom:0};var r=t.height,a=t.width;dv(t,"targetSize"),dv(e,"roi");var o,s,i=r/a,l=e.height/e.width,u=0,c=0;return i>l?(o=e.width,s=e.width*i,c=(1-l/i)/2):(o=e.height/i,s=e.height,u=(1-i/l)/2),e.width=o,e.height=s,{top:c,left:u,right:u,bottom:c}}(l,r,a),c=function(e,t,n,r){var a=e.width,o=e.height,s=r?-1:1,i=Math.cos(e.rotation),l=Math.sin(e.rotation),u=e.xCenter,c=e.yCenter,d=1/t,p=1/n,h=new Array(16);return h[0]=a*i*s*d,h[1]=-o*l*d,h[2]=0,h[3]=(-.5*a*i*s+.5*o*l+u)*d,h[4]=a*l*s*p,h[5]=o*i*p,h[6]=0,h[7]=(-.5*o*i-.5*a*l*s+c)*p,h[8]=0,h[9]=0,h[10]=a*d,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,function(e){if(16!==e.length)throw new Error("Array length must be 16 but got ".concat(e.length));return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}(h)}(l,i.width,i.height,!1),d=Cu(function(){var t=cv(e),n=bf(function(e,t,n){return dv(n,"inputResolution"),[1/n.width*e[0][0]*t.width,1/n.height*e[0][1]*t.width,e[0][3]*t.width,1/n.width*e[1][0]*t.height,1/n.height*e[1][1]*t.height,e[1][3]*t.height,0,0]}(c,i,r),[1,8]),a="zero"===o?"constant":"nearest",l=Jm.transform(kp(_u(t,"float32")),n,"bilinear",a,0,[r.height,r.width]);return null!=s?function(e,t){var n=function(e,t,n,r){var a=(r-n)/255;return{scale:a,offset:n-0*a}}(0,0,t[0],t[1]);return Cu(function(){return Fu($u(e,n.scale),n.offset)})}(l,s):l});return{imageTensor:d,padding:u,transformationMatrix:c}}function hv(e){null==e.reduceBoxesInLowestLayer&&(e.reduceBoxesInLowestLayer=!1),null==e.interpolatedScaleAspectRatio&&(e.interpolatedScaleAspectRatio=1),null==e.fixedAnchorSize&&(e.fixedAnchorSize=!1);for(var t=[],n=0;n<e.numLayers;){for(var r=[],a=[],o=[],s=[],i=n;i<e.strides.length&&e.strides[i]===e.strides[n];){var l=fv(e.minScale,e.maxScale,i,e.strides.length);if(0===i&&e.reduceBoxesInLowestLayer)o.push(1),o.push(2),o.push(.5),s.push(.1),s.push(l),s.push(l);else{for(var u=0;u<e.aspectRatios.length;++u)o.push(e.aspectRatios[u]),s.push(l);if(e.interpolatedScaleAspectRatio>0){var c=i===e.strides.length-1?1:fv(e.minScale,e.maxScale,i+1,e.strides.length);s.push(Math.sqrt(l*c)),o.push(e.interpolatedScaleAspectRatio)}}i++}for(var d=0;d<o.length;++d){var p=Math.sqrt(o[d]);r.push(s[d]/p),a.push(s[d]*p)}var h=0,f=0;if(e.featureMapHeight.length>0)h=e.featureMapHeight[n],f=e.featureMapWidth[n];else{var m=e.strides[n];h=Math.ceil(e.inputSizeHeight/m),f=Math.ceil(e.inputSizeWidth/m)}for(var g=0;g<h;++g)for(var y=0;y<f;++y)for(var v=0;v<r.length;++v){var b={xCenter:(y+e.anchorOffsetX)/f,yCenter:(g+e.anchorOffsetY)/h,width:0,height:0};e.fixedAnchorSize?(b.width=1,b.height=1):(b.width=a[v],b.height=r[v]),t.push(b)}n=i}return t}function fv(e,t,n,r){return 1===r?.5*(e+t):e+(t-e)*n/(r-1)}function mv(e,t){var n=t[0],r=t[1];return[n*e[0]+r*e[1]+e[3],n*e[4]+r*e[5]+e[7]]}function gv(e,t,n,r){return rv(this,void 0,void 0,function(){var r,a,o,s,i;return av(this,function(l){switch(l.label){case 0:return e.sort(function(e,t){return Math.max.apply(Math,t.score)-Math.max.apply(Math,e.score)}),r=bf(e.map(function(e){return[e.locationData.relativeBoundingBox.yMin,e.locationData.relativeBoundingBox.xMin,e.locationData.relativeBoundingBox.yMax,e.locationData.relativeBoundingBox.xMax]})),a=vf(e.map(function(e){return e.score[0]})),[4,Jm.nonMaxSuppressionAsync(r,a,t,n)];case 1:return[4,(o=l.sent()).array()];case 2:return s=l.sent(),i=e.filter(function(e,t){return s.indexOf(t)>-1}),Au([r,a,o]),[2,i]}})})}function yv(e,t,n){return rv(this,void 0,void 0,function(){var r,a,o,s,i;return av(this,function(l){switch(l.label){case 0:return r=e[0],a=e[1],o=function(e,t,n){return Cu(function(){var r,a,o,s;n.reverseOutputOrder?(a=hf(bd(e,[0,n.boxCoordOffset+0],[-1,1])),r=hf(bd(e,[0,n.boxCoordOffset+1],[-1,1])),s=hf(bd(e,[0,n.boxCoordOffset+2],[-1,1])),o=hf(bd(e,[0,n.boxCoordOffset+3],[-1,1]))):(r=hf(bd(e,[0,n.boxCoordOffset+0],[-1,1])),a=hf(bd(e,[0,n.boxCoordOffset+1],[-1,1])),o=hf(bd(e,[0,n.boxCoordOffset+2],[-1,1])),s=hf(bd(e,[0,n.boxCoordOffset+3],[-1,1]))),a=Fu($u(Pu(a,n.xScale),t.w),t.x),r=Fu($u(Pu(r,n.yScale),t.h),t.y),n.applyExponentialOnBoxSize?(o=$u(wp(Pu(o,n.hScale)),t.h),s=$u(wp(Pu(s,n.wScale)),t.w)):(o=$u(Pu(o,n.hScale),t.h),s=$u(Pu(s,n.wScale),t.h));var i=Xu(r,Pu(o,2)),l=Xu(a,Pu(s,2)),u=Fu(r,Pu(o,2)),c=Fu(a,Pu(s,2)),d=gd([hd(i,[n.numBoxes,1]),hd(l,[n.numBoxes,1]),hd(u,[n.numBoxes,1]),hd(c,[n.numBoxes,1])],1);if(n.numKeypoints)for(var p=0;p<n.numKeypoints;++p){var h=n.keypointCoordOffset+p*n.numValuesPerKeypoint,f=void 0,m=void 0;n.reverseOutputOrder?(f=hf(bd(e,[0,h],[-1,1])),m=hf(bd(e,[0,h+1],[-1,1]))):(m=hf(bd(e,[0,h],[-1,1])),f=hf(bd(e,[0,h+1],[-1,1])));var g=Fu($u(Pu(f,n.xScale),t.w),t.x),y=Fu($u(Pu(m,n.yScale),t.h),t.y);d=gd([d,hd(g,[n.numBoxes,1]),hd(y,[n.numBoxes,1])],1)}return d})}(a,t,n),s=Cu(function(){var e=r;return n.sigmoidScore?(null!=n.scoreClippingThresh&&(e=Od(r,-n.scoreClippingThresh,n.scoreClippingThresh)),e=vd(e)):e}),[4,vv(o,s,n)];case 1:return i=l.sent(),Au([o,s]),[2,i]}})})}function vv(e,t,n){return rv(this,void 0,void 0,function(){var r,a,o,s,i,l,u,c,d,p,h,f;return av(this,function(m){switch(m.label){case 0:return r=[],[4,e.data()];case 1:return a=m.sent(),[4,t.data()];case 2:for(o=m.sent(),s=0;s<n.numBoxes;++s)if(!(null!=n.minScoreThresh&&o[s]<n.minScoreThresh||(i=s*n.numCoords,l=bv(a[i+0],a[i+1],a[i+2],a[i+3],o[s],n.flipVertically,s),(u=l.locationData.relativeBoundingBox).width<0||u.height<0))){if(n.numKeypoints>0)for((c=l.locationData).relativeKeypoints=[],d=n.numKeypoints*n.numValuesPerKeypoint,p=0;p<d;p+=n.numValuesPerKeypoint)h=i+n.keypointCoordOffset+p,f={x:a[h+0],y:n.flipVertically?1-a[h+1]:a[h+1]},c.relativeKeypoints.push(f);r.push(l)}return[2,r]}})})}function bv(e,t,n,r,a,o,s){return{score:[a],ind:s,locationData:{relativeBoundingBox:{xMin:t,yMin:o?1-n:e,xMax:r,yMax:o?1-e:n,width:r-t,height:n-e}}}}var wv,kv,Sv,xv={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},Iv={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},_v={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},Ev={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},Tv={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},Nv={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},Cv={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},Av=function(){function e(e,t,n){this.detectorModel=t,this.maxFaces=n,"full"===e?(this.imageToTensorConfig=Cv,this.tensorsToDetectionConfig=Tv,this.anchors=hv(Iv)):(this.imageToTensorConfig=Nv,this.tensorsToDetectionConfig=Ev,this.anchors=hv(xv));var r=vf(this.anchors.map(function(e){return e.width})),a=vf(this.anchors.map(function(e){return e.height})),o=vf(this.anchors.map(function(e){return e.xCenter})),s=vf(this.anchors.map(function(e){return e.yCenter}));this.anchorTensor={x:o,y:s,w:r,h:a}}return e.prototype.dispose=function(){this.detectorModel.dispose(),Au([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},e.prototype.reset=function(){},e.prototype.detectFaces=function(e,t){return void 0===t&&(t=!1),rv(this,void 0,void 0,function(){var n,r,a,o,s,i,l,u,c,d,p;return av(this,function(h){switch(h.label){case 0:return null==e?(this.reset(),[2,[]]):(n=Cu(function(){var n=_u(cv(e),"float32");return t&&(n=hf(Jm.flipLeftRight(kp(n,0)),[0])),n}),r=pv(n,this.imageToTensorConfig),a=r.imageTensor,o=r.transformationMatrix,s=this.detectorModel.execute(a,"Identity:0"),i=function(e){return Cu(function(){var t=function(e){return Cu(function(){return[bd(e,[0,0,0],[1,-1,1]),bd(e,[0,0,1],[1,-1,-1])]})}(e),n=t[0],r=t[1];return{boxes:hf(r),logits:hf(n)}})}(s),l=i.boxes,[4,yv([u=i.logits,l],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return 0===(c=h.sent()).length?(Au([n,a,s,u,l]),[2,c]):[4,gv(c,this.maxFaces,.3)];case 2:return d=h.sent(),p=function(e,t){void 0===e&&(e=[]);var n,r=(n=t,[].concat.apply([],n));return e.forEach(function(e){var t=e.locationData;t.relativeKeypoints.forEach(function(e){var t=mv(r,[e.x,e.y]),n=t[0],a=t[1];e.x=n,e.y=a});var n=t.relativeBoundingBox,a=Number.MAX_VALUE,o=Number.MAX_VALUE,s=Number.MIN_VALUE,i=Number.MIN_VALUE;[[n.xMin,n.yMin],[n.xMin+n.width,n.yMin],[n.xMin+n.width,n.yMin+n.height],[n.xMin,n.yMin+n.height]].forEach(function(e){var t=mv(r,e),n=t[0],l=t[1];a=Math.min(a,n),s=Math.max(s,n),o=Math.min(o,l),i=Math.max(i,l)}),t.relativeBoundingBox={xMin:a,xMax:s,yMin:o,yMax:i,width:s-a,height:i-o}}),e}(d,o),Au([n,a,s,u,l]),[2,p]}})})},e.prototype.estimateFaces=function(e,t){return rv(this,void 0,void 0,function(){var n,r;return av(this,function(a){return n=uv(e),r=!!t&&t.flipHorizontal,[2,this.detectFaces(e,r).then(function(e){return e.map(function(e){for(var t=e.locationData.relativeKeypoints.map(function(e,t){return nv(nv({},e),{x:e.x*n.width,y:e.y*n.height,name:ov[t]})}),r=e.locationData.relativeBoundingBox,a=0,o=["width","xMax","xMin"];a<o.length;a++)r[o[a]]*=n.width;for(var s=0,i=["height","yMax","yMin"];s<i.length;s++)r[i[s]]*=n.height;return{keypoints:t,box:r}})})]})})},e}();function Mv(e){return rv(this,void 0,void 0,function(){var t,n,r;return av(this,function(a){switch(a.label){case 0:return t=function(e){if(null==e)return nv({},_v);var t=nv({},e);return null==t.modelType&&(t.modelType=_v.modelType),null==t.maxFaces&&(t.maxFaces=_v.maxFaces),null==t.detectorModelUrl&&("full"===t.modelType?t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),t}(e),n="string"==typeof t.detectorModelUrl&&t.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,tv(t.detectorModelUrl,{fromTFHub:n})];case 1:return r=a.sent(),[2,new Av(t.modelType,r,t.maxFaces)]}})})}let Ov;!function(e){e.MediaPipeFaceDetector="MediaPipeFaceDetector"}(wv||(wv={})),function(e){e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64"}(kv||(kv={})),function(e){e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu",e[e.leakyrelu=4]="leakyrelu",e[e.sigmoid=5]="sigmoid",e[e.elu=6]="elu"}(Sv||(Sv={}));const Rv={kernelName:ni,backendName:"wasm",setupFunc:function(e){Ov=e.wasm.cwrap(ni,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o,bias:s,preluActivationWeights:i}=t;if("float32"!==a.dtype||"float32"!==o.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r,p=n.dataIdMap.get(a.dataId).id,h=n.dataIdMap.get(o.dataId).id;let f=0;if(null!=s){const e=n.dataIdMap.get(s.dataId);if(1!==e.shape.length)throw new Error(`_FusedMatMul only supports rank-1 bias but got rank ${e.shape.length}.`);f=e.id}const m=null==i?0:n.dataIdMap.get(i.dataId).id,g=Sv[c];if(null==g)throw new Error(`${c} activation not yet supported for FusedConv2D in the wasm backend.`);const y=l?a.shape[2]:a.shape[1],v=u?o.shape[1]:o.shape[2],b=ec(a.shape.slice(0,-2),o.shape.slice(0,-2)),w=n.makeOutput([...b,y,v],a.dtype),k=n.dataIdMap.get(w.dataId).id,S=new Uint8Array(new Int32Array(a.shape).buffer),x=new Uint8Array(new Int32Array(o.shape).buffer);return Ov(p,S,a.shape.length,h,x,o.shape.length,l,u,g,f,m,d||0,k),w}};function Fv(e,t){let n;return{kernelName:e,backendName:"wasm",setupFunc:function(t){n=t.wasm.cwrap(e,null,["number","number","number"])},kernelFunc:function(e){const{backend:r,inputs:{x:a}}=e,o=r.dataIdMap.get(a.dataId).id,s=r.makeOutput(a.shape,t||a.dtype),i=r.dataIdMap.get(s.dataId).id;return 0===vr(s.shape)||n(o,kv[a.dtype],i),s}}}const Dv=Fv(Kr),Pv=Fv(Yr),$v=Fv(Qr);function Lv(e,t,n){let r;return{kernelName:e,backendName:"wasm",setupFunc:function(t){r=t.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:a}=e,{a:o,b:s}=a,i=t.dataIdMap.get(o.dataId).id,l=t.dataIdMap.get(s.dataId).id,u=null!=n?n:o.dtype,c=ec(o.shape,s.shape),d=t.makeOutput(c,u);if(0===vr(c))return d;const p=new Uint8Array(new Int32Array(o.shape).buffer),h=new Uint8Array(new Int32Array(s.shape).buffer),f=t.dataIdMap.get(d.dataId).id;return r(i,p,o.shape.length,l,h,s.shape.length,kv[o.dtype],f),d}}}const zv=Lv(Xr);let Wv;const Bv={kernelName:Jr,backendName:"wasm",setupFunc:function(e){Wv=e.wasm.cwrap(Jr,null,["array","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,r=n.makeOutput(t[0].shape,t[0].dtype);if(0===vr(r.shape))return r;const a=t.map(e=>n.dataIdMap.get(e.dataId).id),o=new Uint8Array(new Int32Array(a).buffer),s=n.dataIdMap.get(r.dataId).id;return Wv(o,a.length,kv[r.dtype],s),r}};function Uv(e){const{inputs:{x:t},backend:n}=e;if("string"===t.dtype)return xl(n.readSync(t.dataId),t.shape,t.dtype);const r=n.makeOutput(t.shape,t.dtype),a=n.typedArrayFromHeap(t);return n.typedArrayFromHeap(r).set(a),r}const jv={kernelName:lo,backendName:"wasm",kernelFunc:Uv};let Hv;function Vv(e){const{inputs:t,backend:n,attrs:r}=e,[a,o]=function(e,t){const n=[],r=[];for(let a=0;a<e.length;++a)1!==e[a]&&n.push(e[a]),1!==e[t[a]]&&r.push(t[a]);for(let a=0;a<r.length;++a){let e=-1;for(let t=0;t<r.length;++t)r[t]>=a&&(-1===e||r[e]>r[t])&&(e=t);r[e]=a}return[n,r]}(t.x.shape,r.perm);let s=!0;for(let f=0;f<o.length;f++)o[f]!==f&&(s=!1);const i=function(e,t){const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];return n}(t.x.shape,r.perm),l={dataId:t.x.dataId,shape:a,dtype:t.x.dtype};if(s){const e=Uv({inputs:t,backend:n});return e.shape=i,e}const u=n.makeOutput(i,l.dtype),c=n.dataIdMap.get(l.dataId).id,d=n.dataIdMap.get(u.dataId).id,p=new Uint8Array(new Int32Array(o).buffer),h=new Uint8Array(new Int32Array(l.shape).buffer);return Hv(c,h,l.shape.length,kv[l.dtype],d,p,o.length),u}const qv={kernelName:Ks,backendName:"wasm",kernelFunc:Vv,setupFunc:function(e){Hv=e.wasm.cwrap(Ks,null,["number","array","number","number","number","array","number"])}};function Gv(e,t,n){const r=e.shape,a=e.shape.length,o=xr(t,r);let s=o;const i=dp(s,a);let l=null,u=!1;if(null!=i){const t=new Array(a);for(let e=0;e<t.length;e++)t[e]=r[i[e]];s=hp(s.length,a),l=Vv({inputs:{x:e},attrs:{perm:i},backend:n});const o=n.dataIdMap.get(e.dataId).id;n.dataIdMap.get(l.dataId).id!==o&&(u=!0)}return{transposed:l,originalAxes:o,axes:s,inputWasTransposed:u}}let Kv;const Yv={kernelName:Zr,backendName:"wasm",setupFunc:function(e){Kv=e.wasm.cwrap(Zr,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:s}=n;let i=t.dataIdMap.get(s.dataId).id,l=s;const{transposed:u,axes:c,originalAxes:d,inputWasTransposed:p}=Gv(s,a,t);if(p){l=u,i=t.dataIdMap.get(u.dataId).id}cp("all",c,l.shape.length);const[h,f]=lp(l.shape,c),m=vr(f),g=t.makeOutput(h,s.dtype);if(0!==vr(l.shape)){const e=t.dataIdMap.get(g.dataId).id;Kv(i,m,e)}if(p&&t.disposeData(u.dataId),o){const e=up(g.shape,d);g.shape=e}return g}};let Qv;const Xv={kernelName:ea,backendName:"wasm",setupFunc:function(e){Qv=e.wasm.cwrap(ea,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:s}=n;let i=t.dataIdMap.get(s.dataId).id,l=s;const{transposed:u,axes:c,originalAxes:d,inputWasTransposed:p}=Gv(s,a,t);if(p){l=u,i=t.dataIdMap.get(u.dataId).id}cp("any",c,l.shape.length);const[h,f]=lp(l.shape,c),m=vr(f),g=t.makeOutput(h,s.dtype);if(0!==vr(l.shape)){const e=t.dataIdMap.get(g.dataId).id;Qv(i,m,e)}if(p&&t.disposeData(u.dataId),o){const e=up(g.shape,d);g.shape=e}return g}};function Jv(e){let t;return{kernelName:e,backendName:"wasm",setupFunc:function(n){t=n.wasm.cwrap(e,null,["number","number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:r,attrs:a}=e,{axis:o}=a,{x:s}=r,i=n.dataIdMap.get(s.dataId).id;let l=i,u=s;const{transposed:c,axes:d,inputWasTransposed:p}=Gv(s,o,n);if(p){const e=n.dataIdMap.get(c.dataId).id;e!==i&&(u=c,l=e)}const h=u.shape.slice(0,-1),f=n.makeOutput(h,"int32"),m=n.dataIdMap.get(f.dataId).id,g=vr(f.shape),y=u.shape[d[0]];return t(l,kv[u.dtype],g,y,m),p&&n.disposeData(c.dataId),f}}}const Zv=Jv(ta),eb=Jv(na),tb=Fv(ra),nb=Fv(aa),rb=Fv(oa),ab=Lv(ia),ob=Fv(sa);let sb;const ib={kernelName:la,backendName:"wasm",setupFunc:function(e){sb=e.wasm.cwrap(la,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,a=t.x,o=r.dataIdMap.get(a.dataId).id,{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=n,c=Zc(a.shape,s,i,1,l,u),d=c.filterHeight,p=c.filterWidth,h=c.padInfo.top,f=c.padInfo.right,m=c.padInfo.bottom,g=c.padInfo.left,y=c.strideHeight,v=c.strideWidth,b=c.inChannels;if("channelsLast"!==c.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${c.dataFormat}'. Please use 'channelsLast'.`);if(1!==c.dilationWidth||1!==c.dilationHeight)throw new Error(`was backend only supports average pooling with dilation = [1, 1], got [${c.dilationHeight}, ${c.dilationWidth}].`);const w=r.makeOutput(c.outShape,"float32"),k=r.dataIdMap.get(w.dataId).id;return sb(o,a.shape[0],a.shape[1],a.shape[2],d,p,h,f,m,g,y,v,b,k),w}};let lb;const ub={kernelName:ca,backendName:"wasm",setupFunc:function(e){lb=e.wasm.cwrap("AvgPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l,dataFormat:u}=r,c=ed(a.shape,o,s,1,i,l,u),d=n.makeOutput(c.outShape,a.dtype);return lb(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),d}};let cb;const db={kernelName:da,backendName:"wasm",setupFunc:function(e){cb=e.wasm.cwrap("AvgPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=r,c=ed(o.shape,s,i,1,l,u),d=n.makeOutput(o.shape,o.dtype);return cb(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left,c.filterDepth,c.filterHeight,c.filterWidth),d}};let pb;const hb={kernelName:ua,backendName:"wasm",setupFunc:function(e){pb=e.wasm.cwrap("AvgPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:s,strides:i,pad:l}=r,u=Zc(o.shape,s,i,1,l),c=n.makeOutput(o.shape,o.dtype);return pb(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inChannels,u.inHeight,u.inWidth,u.outHeight,u.outWidth,u.strideHeight,u.strideWidth,u.dilationHeight,u.dilationWidth,u.effectiveFilterHeight,u.effectiveFilterWidth,u.padInfo.top,u.padInfo.left,u.filterHeight,u.filterWidth),c}};function fb(e){const{inputs:t,attrs:n}=e,{x:r}=t,{shape:a}=n,o=vr(r.shape),s=Sr(a,o);return mr(o===vr(s),()=>`new shape: ${s}, old shape: ${r.shape}. New shape and old shape must have the same number of elements.`),e.backend.incRef(r.dataId),{dataId:r.dataId,shape:s,dtype:r.dtype}}const mb={kernelName:os,backendName:"wasm",kernelFunc:fb};let gb;const yb={kernelName:pa,backendName:"wasm",setupFunc:function(e){gb=e.wasm.cwrap(pa,null,["number","array","number","number","array","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o}=t,{transposeA:s,transposeB:i}=r;if("float32"!==a.dtype||"float32"!==o.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const l=a.shape.length,u=o.shape.length,c=s?a.shape[l-2]:a.shape[l-1],d=i?o.shape[u-1]:o.shape[u-2],p=s?a.shape[l-1]:a.shape[l-2],h=i?o.shape[u-2]:o.shape[u-1],f=a.shape.slice(0,-2),m=o.shape.slice(0,-2),g=vr(f),y=vr(m),v=ec(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([p,h]);mr(c===d,()=>`Error in matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${a.shape} and ${o.shape} and transposeA=${s} and transposeB=${i} must match.`);const b=i?[y,h,d]:[y,d,h],w=fb({inputs:{x:a},backend:n,attrs:{shape:s?[g,c,p]:[g,p,c]}}),k=fb({inputs:{x:o},backend:n,attrs:{shape:b}}),S=n.dataIdMap.get(w.dataId).id,x=n.dataIdMap.get(k.dataId).id,I=s?w.shape[2]:w.shape[1],_=i?k.shape[1]:k.shape[2],E=Math.max(g,y),T=n.makeOutput([E,I,_],w.dtype),N=n.dataIdMap.get(T.dataId).id,C=new Uint8Array(new Int32Array(w.shape).buffer),A=new Uint8Array(new Int32Array(k.shape).buffer);return gb(S,C,w.shape.length,x,A,k.shape.length,s,i,N),n.disposeData(w.dataId),n.disposeData(k.dataId),T.shape=v,T}};function vb(e,t){Array.isArray(e)||(e=[e]),e.forEach(e=>{null!=e&&mr("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the CPU backend.`)})}function bb(e,t,n,r,a){const o=Dc(r,t,n),s=vr(n),i=Ar(r);if(o){const n=Pc(t,i);return"string"===a?e.slice(n,n+s):e.subarray(n,n+s)}const l=Iu(r,a,"string"===a?Rg(e):e),u=Iu(n,a);for(let c=0;c<u.size;++c){const e=u.indexToLoc(c),n=e.map((e,n)=>e+t[n]);u.set(l.get(...n),...e)}return"string"===a?Fg(u.values):u.values}function wb(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:o,size:s}=r;vb(a,"slice");const[i,l]=$c(a,o,s);!function(e,t,n){const r=e.shape.length;mr(r===t.length,()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`),mr(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let a=0;a<r;++a)mr(t[a]+n[a]<=e.shape[a],()=>`Error in slice${r}D: begin[${a}] + size[${a}] (${t[a]+n[a]}) would overflow input.shape[${a}] (${e.shape[a]})`)}(a,i,l);const u=bb(n.data.get(a.dataId).values,i,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,u)}const kb={kernelName:bs,backendName:"cpu",kernelFunc:wb};function Sb(e){const{inputs:{x:t},attrs:{begin:n,size:r},backend:a}=e,[o,s]=$c(t,n,r),i=Dc(t.shape,o,s),l=a.readSync(t.dataId),u=a.makeOutput(s,t.dtype),c=Ar(t.shape),d=a.dataIdMap.get(u.dataId);if(i){const e=Pc(o,c);if("string"===t.dtype)d.stringBytes=l.slice(e,e+vr(s));else{a.typedArrayFromHeap(u).set(l.subarray(e,e+vr(s)))}return u}if("string"===t.dtype){const e=bb(l,o,s,t.shape,t.dtype);return d.stringBytes=e,u}const p=a.typedArrayFromHeap(u),h=t.shape.length;if(2===h)!function(e,t,n,r,a){let o=0;const s=r[0],i=r[1],l=s+a[0];for(let u=s;u<l;u++){const r=u*t+i;n.set(e.subarray(r,r+a[1]),o),o+=a[1]}}(l,c[0],p,o,s);else if(3===h)!function(e,t,n,r,a,o){let s=0;const i=a[0],l=a[1],u=a[2],c=i+o[0],d=l+o[1];for(let p=i;p<c;p++)for(let a=l;a<d;a++){const i=p*t+a*n+u;r.set(e.subarray(i,i+o[2]),s),s+=o[2]}}(l,c[0],c[1],p,o,s);else if(4===h)!function(e,t,n,r,a,o,s){let i=0;const l=o[0],u=o[1],c=o[2],d=l+s[0],p=u+s[1],h=c+s[2],f=o[3];for(let m=l;m<d;m++)for(let o=u;o<p;o++)for(let l=c;l<h;l++){const u=m*t+o*n+l*r+f;a.set(e.subarray(u,u+s[3]),i),i+=s[3]}}(l,c[0],c[1],c[2],p,o,s);else{const e=bb(l,o,s,t.shape,t.dtype);p.set(e)}return u}const xb={kernelName:bs,backendName:"wasm",kernelFunc:Sb};const Ib={kernelName:ha,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,crops:s}=r,i=o.reduce((e,t)=>e*t),l=ig(a.shape,o,i),u=lg(l.length,o.length),c=ug(a.shape,o,i),d=cg(s,o.length),p=dg(c,s,o.length),h=fb({inputs:{x:a},backend:n,attrs:{shape:l}}),f=Vv({inputs:{x:h},backend:n,attrs:{perm:u}}),m=fb({inputs:{x:f},backend:n,attrs:{shape:c}}),g=Sb({inputs:{x:m},backend:n,attrs:{begin:d,size:p}});return n.disposeData(h.dataId),n.disposeData(f.dataId),n.disposeData(m.dataId),g}};let _b;const Eb={kernelName:fa,backendName:"wasm",setupFunc:function(e){_b=e.wasm.cwrap(fa,null,["number","number","boolean","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a,weights:o}=n,{size:s}=r,i=0!==o.shape.reduce((e,t)=>e*t,1),l=1===a.shape.length?[s]:[a.shape[0],s],u=t.makeOutput(l,o.dtype);function c(e){return t.dataIdMap.get(e.dataId).id}return _b(c(a),s,i,c(o),kv[o.dtype],c(u)),u}},Tb=Lv(ma);const Nb={kernelName:ga,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,o=n.typedArrayFromHeap(r),s=n.typedArrayFromHeap(a),i=ec(Array.from(o),Array.from(s));return n.makeOutput([i.length],"int32",void 0,new Int32Array(i))}};function Cb(e){const{inputs:{x:t},attrs:{dtype:n},backend:r}=e,a=r.makeOutput(t.shape,n),o=r.typedArrayFromHeap(t);return r.typedArrayFromHeap(a).set(o),a}const Ab={kernelName:ya,backendName:"wasm",kernelFunc:Cb},Mb=Fv(va);let Ob;const Rb={kernelName:ba,backendName:"wasm",setupFunc:function(e){Ob=e.wasm.cwrap(ba,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:o,clipValueMax:s}=r,i=n.dataIdMap.get(a.dataId).id,l=n.makeOutput(a.shape,a.dtype),u=n.dataIdMap.get(l.dataId).id;return Ob(i,o,s,u),l}};function Fb(e,t,n,r){const a=_r(n,vr(t));if(r&&"string"!==n){let t=0;e.forEach(e=>{const n=vr(e.shape);a.set(e.vals,t),t+=n})}else{let r=0;e.forEach(e=>{const o="string"===n?Rg(e.vals):e.vals;let s=0;for(let n=0;n<e.shape[0];++n){const i=n*t[1]+r;for(let t=0;t<e.shape[1];++t)a[i+t]=o[s++]}r+=e.shape[1]})}return a}function Db(e){const{inputs:t,backend:n}=e,r=xr(e.attrs.axis,t[0].shape)[0],a=t.map(e=>e.shape);rg(a,r);let o=ag(t.map(e=>e.shape),r);const s=t.filter(e=>vr(e.shape)>0);if(1===s.length)return Uv({inputs:{x:s[0]},backend:n});const i=n.makeOutput(o,t[0].dtype);if(0===vr(o))return i;if("string"===s[0].dtype){const e=s.map(e=>{const t=vr(e.shape.slice(r));return fb({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})}),a=e.map(e=>({vals:n.readSync(e.dataId),shape:e.shape}));o=ag(e.map(e=>e.shape),1);const l=1===e[0].shape[0],u=Fb(a,o,t[0].dtype,l),c=ag(s.map(e=>e.shape),r);i.shape=c;return n.dataIdMap.get(i.dataId).stringBytes=Fg(u),e.forEach(e=>n.disposeData(e.dataId)),i}const l=vr(s[0].shape.slice(0,r));let u=0;const c=s.map(e=>{const t=vr(e.shape.slice(r));return u+=t,t}),d=s.map(e=>n.typedArrayFromHeap(e)),p=n.typedArrayFromHeap(i);for(let h=0;h<l;h++){let e=h*u;for(let t=0;t<d.length;t++){const n=c[t],r=h*n,a=d[t].subarray(r,r+n);p.set(a,e),e+=n}}return i}const Pb={kernelName:Sa,backendName:"wasm",kernelFunc:Db};let $b;const Lb={kernelName:xa,backendName:"wasm",setupFunc:function(e){$b=e.wasm.cwrap(xa,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o}=t,s=r.dataIdMap.get(a.dataId).id,i=r.dataIdMap.get(o.dataId).id,{strides:l,dilations:u,pad:c,dimRoundingMode:d,dataFormat:p}=n,h=dd(p),f=td(a.shape,o.shape,l,u,c,d,!1,h),m=f.filterHeight,g=f.filterWidth,y=f.padInfo.top,v=f.padInfo.right,b=f.padInfo.bottom,w=f.padInfo.left,k=f.dilationHeight,S=f.dilationWidth,x=f.strideHeight,I=f.strideWidth,_=f.inChannels,E=f.outChannels,T="SAME"===f.padInfo.type?1:0;if("channelsLast"!==f.dataFormat)throw new Error(`wasm backend Conv2D does not support dataFormat:'${f.dataFormat}'. Please use 'channelsLast'.`);const N=r.makeOutput(f.outShape,"float32"),C=r.dataIdMap.get(N.dataId).id;return $b(s,a.shape[0],a.shape[1],a.shape[2],i,m,g,y,v,b,w,T,k,S,x,I,_,E,C),N}};let zb;const Wb={kernelName:_a,backendName:"wasm",setupFunc:function(e){zb=e.wasm.cwrap(_a,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{dy:a,filter:o}=n,{strides:s,pad:i,dataFormat:l,dimRoundingMode:u,inputShape:c}=r,d=dd(l),p=td(c,o.shape,s,1,i,u,!1,d),{batchSize:h,filterHeight:f,filterWidth:m,inChannels:g,inHeight:y,inWidth:v,outChannels:b,outHeight:w,outWidth:k,strideHeight:S,strideWidth:x}=p,I=f-1-p.padInfo.top,_=m-1-p.padInfo.left,E="channelsLast"===p.dataFormat,T=Ar(p.inShape),N=Ar(a.shape),[C,A,M]=Ar(o.shape),O=T[0],R=E?T[1]:T[2],F=E?T[2]:1,D=E?1:T[1],P=N[0],$=E?N[1]:N[2],L=E?N[2]:1,z=E?1:N[1],W=t.makeOutput(p.inShape,"float32"),B=t.dataIdMap.get(W.dataId).id,U=t.dataIdMap.get(a.dataId).id,j=t.dataIdMap.get(o.dataId).id;return zb(U,j,h,f,m,y,v,g,w,k,b,S,x,I,_,C,A,M,O,R,F,D,P,$,L,z,B),W}};let Bb;const Ub={kernelName:Ea,backendName:"wasm",setupFunc:function(e){Bb=e.wasm.cwrap(Ea,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:s,pad:i,dilations:l}=r;if("float32"!==a.dtype)throw new Error(`Tensor x must have dtype float32, got ${a.dtype}`);if("float32"!==o.dtype)throw new Error(`Tensor filter must have dtype float32, got ${o.dtype}`);const u=nd(a.shape,o.shape,s,l,i),c=n.makeOutput(u.outShape,a.dtype);return Bb(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inDepth,u.inHeight,u.inWidth,u.inChannels,u.outDepth,u.outHeight,u.outWidth,u.outChannels,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.filterDepth,u.filterHeight,u.filterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),c}};let jb;const Hb={kernelName:Ta,backendName:"wasm",setupFunc:function(e){jb=e.wasm.cwrap(Ta,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:o}=t,{strides:s,pad:i,filterShape:l}=r;if("float32"!==a.dtype)throw new Error(`Tensor dy must have dtype float32, got ${a.dtype}`);if("float32"!==o.dtype)throw new Error(`Tensor filter must have dtype float32, got ${o.dtype}`);const u=nd(a.shape,l,s,1,i),c=n.makeOutput(u.filterShape,o.dtype);return jb(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inDepth,u.inHeight,u.inWidth,u.inChannels,u.outDepth,u.outHeight,u.outWidth,u.outChannels,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.filterDepth,u.filterHeight,u.filterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),c}};let Vb;const qb={kernelName:Na,backendName:"wasm",setupFunc:function(e){Vb=e.wasm.cwrap(Na,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:o}=t,{pad:s,strides:i,inputShape:l}=r;if("float32"!==a.dtype)throw new Error(`Tensor dy must have dtype float32, got ${a.dtype}`);if("float32"!==o.dtype)throw new Error(`Tensor filter must have dtype float32, got ${o.dtype}`);const u=nd(l,o.shape,i,1,s),c=n.makeOutput(u.inShape,a.dtype);return Vb(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(c.dataId).id,u.batchSize,u.inDepth,u.inHeight,u.inWidth,u.inChannels,u.outDepth,u.outHeight,u.outWidth,u.outChannels,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.filterDepth,u.filterHeight,u.filterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),c}},Gb=Fv(Ca),Kb=Fv(Aa);var Yb;let Qb;!function(e){e[e.bilinear=0]="bilinear",e[e.nearest=1]="nearest"}(Yb||(Yb={}));const Xb={kernelName:Ra,backendName:"wasm",setupFunc:function(e){Qb=e.wasm.cwrap(Ra,null,["number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{method:a,extrapolationValue:o,cropSize:s}=r,{image:i,boxes:l,boxInd:u}=n,c=l.shape[0],[d,p]=s,h=[c,d,p,i.shape[3]];let f,m=t.dataIdMap.get(i.dataId);"float32"!==i.dtype&&(f=Cb({backend:t,inputs:{x:i},attrs:{dtype:"float32"}}),m=t.dataIdMap.get(f.dataId));const g=m.id,y=t.dataIdMap.get(l.dataId).id,v=t.dataIdMap.get(u.dataId).id,b=t.makeOutput(h,"float32"),w=t.dataIdMap.get(b.dataId).id,k=new Uint8Array(new Int32Array(i.shape).buffer);return Qb(g,y,v,c,k,d,p,Yb[a],o,w),null!=f&&t.disposeData(f.dataId),b}};let Jb;const Zb={kernelName:Ma,backendName:"wasm",setupFunc:function(e){Jb=e.wasm.cwrap(Ma,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,exclusive:s,reverse:i}=r,l=a.shape.length;mr("float32"===a.dtype||"int32"===a.dtype,()=>`cumprod does not support ${a.dtype} tensors in the WASM backend`);const u=dp([o],l);let c=a;null!==u&&(c=Vv({inputs:{x:a},attrs:{perm:u},backend:n}));const d=hp(1,l)[0];cp("cumprod",[d],l);const p=n.makeOutput(c.shape,c.dtype),h=c.shape[d],f=n.dataIdMap.get(c.dataId).id,m=n.dataIdMap.get(p.dataId).id;Jb(f,s?1:0,i?1:0,h,m,kv[a.dtype]);let g=p;if(null!==u){g=Vv({inputs:{x:p},attrs:{perm:pp(u)},backend:n}),n.disposeData(c.dataId),n.disposeData(p.dataId)}return g}};let ew;const tw={kernelName:Oa,backendName:"wasm",setupFunc:function(e){ew=e.wasm.cwrap(Oa,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,exclusive:s,reverse:i}=r,l=a.shape.length;mr("float32"===a.dtype||"int32"===a.dtype,()=>`cumsum does not support ${a.dtype} tensors in the WASM backend`);const u=dp([o],l);let c=a;null!==u&&(c=Vv({inputs:{x:a},attrs:{perm:u},backend:n}));const d=hp(1,l)[0];cp("cumsum",[d],l);const p=n.makeOutput(c.shape,c.dtype),h=c.shape[d],f=n.dataIdMap.get(c.dataId).id,m=n.dataIdMap.get(p.dataId).id;ew(f,s?1:0,i?1:0,h,m,kv[a.dtype]);let g=p;if(null!==u){g=Vv({inputs:{x:p},attrs:{perm:pp(u)},backend:n}),n.disposeData(c.dataId),n.disposeData(p.dataId)}return g}};let nw;const rw={kernelName:Fa,backendName:"wasm",setupFunc:function(e){nw=e.wasm.cwrap("DenseBincount",null,["number","array","number","number","boolean","number","number","boolean","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a,weights:o}=n,{size:s,binaryOutput:i}=r,l=0!==o.shape.reduce((e,t)=>e*t,1),u=1===a.shape.length?[s]:[a.shape[0],s],c=t.makeOutput(u,o.dtype);function d(e){return t.dataIdMap.get(e.dataId).id}return nw(d(a),new Uint8Array(new Int32Array(a.shape).buffer),a.shape.length,s,l,d(o),kv[o.dtype],i,d(c)),c}};let aw;const ow={kernelName:Da,backendName:"wasm",setupFunc:function(e){aw=e.wasm.cwrap(Da,null,["number","number","number","array","number","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a}=n,{blockSize:o,dataFormat:s}=r,i=a.shape[0],l=("NHWC"===s?a.shape[1]:a.shape[2])*o,u=("NHWC"===s?a.shape[2]:a.shape[3])*o,c=("NHWC"===s?a.shape[3]:a.shape[1])/(o*o),d="NHWC"===s?[i,l,u,c]:[i,c,l,u],p=t.makeOutput(d,"float32"),h=t.dataIdMap.get(a.dataId).id,f=new Uint8Array(new Int32Array(Ar(a.shape)).buffer),m=new Uint8Array(new Int32Array(d).buffer),g=new Uint8Array(new Int32Array(Ar(d)).buffer),y=t.dataIdMap.get(p.dataId).id;return aw(h,o,"NHWC"===s?1:0,f,a.shape.length-1,m,g,d.length,y),p}};let sw;const iw={kernelName:Pa,backendName:"wasm",setupFunc:function(e){sw=e.wasm.cwrap(Pa,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o}=t,s=r.dataIdMap.get(a.dataId).id,i=r.dataIdMap.get(o.dataId).id,{strides:l,dilations:u,pad:c,dimRoundingMode:d}=n,p=null==u?[1,1]:u,h=td(a.shape,o.shape,l,p,c,d,!0),f=h.filterHeight,m=h.filterWidth,g=h.padInfo.top,y=h.padInfo.right,v=h.padInfo.bottom,b=h.padInfo.left,w=h.dilationHeight,k=h.dilationWidth,S=h.strideHeight,x=h.strideWidth,I=h.inChannels,_=h.outChannels,E="SAME"===h.padInfo.type?1:0;if("channelsLast"!==h.dataFormat)throw new Error(`wasm backend DepthwiseConv2dNative does not support dataFormat:'${h.dataFormat}'. Please use 'channelsLast'.`);const T=r.makeOutput(h.outShape,"float32"),N=r.dataIdMap.get(T.dataId).id;return sw(s,a.shape[0],a.shape[1],a.shape[2],i,f,m,g,y,v,b,E,w,k,S,x,I,_,N),T}};let lw;const uw={kernelName:za,backendName:"wasm",setupFunc:function(e){lw=e.wasm.cwrap("Diag",null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=vr(r.shape),o=n.makeOutput([...r.shape,...r.shape],r.dtype);return lw(n.dataIdMap.get(r.dataId).id,kv[r.dtype],a,n.dataIdMap.get(o.dataId).id),o}};let cw;const dw={kernelName:Wa,backendName:"wasm",setupFunc:function(e){cw=e.wasm.cwrap(Wa,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:s,pad:i,dilations:l}=r;if(a.dtype!==o.dtype)throw new Error(`Dilation2D error: x must have the same dtype as filter. Got ${a.dtype} and ${o.dtype}`);const u=Jc(a.shape,o.shape,s,i,"NHWC",l),c=n.makeOutput(u.outShape,a.dtype);return cw(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,kv[a.dtype],u.batchSize,u.inChannels,u.inHeight,u.inWidth,u.outHeight,u.outWidth,u.strideHeight,u.strideWidth,u.dilationHeight,u.dilationWidth,u.filterHeight,u.filterWidth,u.padInfo.top,u.padInfo.left),c}};let pw;const hw={kernelName:Ua,backendName:"wasm",setupFunc:function(e){pw=e.wasm.cwrap(Ua,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o,dy:s}=t,{strides:i,pad:l,dilations:u}=r;if(a.dtype!==o.dtype||a.dtype!==s.dtype)throw new Error(`Dilation2DBackpropFilter error: x must have the same dtype as filter and dy. Got ${a.dtype}, ${o.dtype}, and ${s.dtype}`);const c=Jc(a.shape,o.shape,i,l,"NHWC",u),d=n.makeOutput(o.shape,o.dtype);return pw(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(d.dataId).id,kv[a.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),d}};let fw;const mw={kernelName:Ba,backendName:"wasm",setupFunc:function(e){fw=e.wasm.cwrap(Ba,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o,dy:s}=t,{strides:i,pad:l,dilations:u}=r;if(a.dtype!==o.dtype||a.dtype!==s.dtype)throw new Error(`Dilation2DBackpropInput error: x must have the same dtype as filter and dy. Got ${a.dtype}, ${o.dtype}, and ${s.dtype}`);const c=Jc(a.shape,o.shape,i,l,"NHWC",u),d=n.makeOutput(a.shape,a.dtype);return fw(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(d.dataId).id,kv[a.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),d}},gw=Fv(qa);let yw;const vw={kernelName:Ga,backendName:"wasm",setupFunc:function(e){yw=e.wasm.cwrap(Ga,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:a}=t,o=n.makeOutput(a.shape,"float32"),s=e=>n.dataIdMap.get(e.dataId).id;return yw(s(a),s(r),s(o)),o}},bw=Lv(Ya,0,"bool"),ww=Fv(Ka),kw=Fv(Qa,"float32");function Sw(e){const{inputs:t,attrs:n,backend:r}=e,{input:a}=t,{dim:o}=n,s=a.shape.length,i=a.shape.slice();let l=o;return o<0&&(mr(-(s+1)<=o,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),l=s+o+1),i.splice(l,0,1),fb({inputs:{x:a},backend:r,attrs:{shape:i}})}const xw={kernelName:Xa,backendName:"wasm",kernelFunc:Sw},Iw=Fv(Ja,"float32");function _w(e){const{attrs:{shape:t,value:n,dtype:r},backend:a}=e,o=a.makeOutput(t,r);return a.typedArrayFromHeap(o).fill(n),o}const Ew={kernelName:Za,backendName:"wasm",kernelFunc:_w};let Tw;const Nw={kernelName:eo,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{image:r}=t,a=n.makeOutput(r.shape,r.dtype),o=n.dataIdMap.get(r.dataId).id,s=n.dataIdMap.get(a.dataId).id,[i,l,u,c]=r.shape;return Tw(o,i,l,u,c,s),a},setupFunc:function(e){Tw=e.wasm.cwrap(eo,null,["number","number","number","number","number","number"])}},Cw=Fv(to),Aw=Lv(no);let Mw;const Ow={kernelName:ro,backendName:"wasm",setupFunc:function(e){Mw=e.wasm.cwrap(ro,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{varianceEpsilon:a}=r,{x:o,mean:s,variance:i,offset:l,scale:u}=n,c=t.dataIdMap.get(o.dataId).id,d=t.dataIdMap.get(s.dataId).id,p=t.dataIdMap.get(i.dataId).id,h=null!=l?t.dataIdMap.get(l.dataId).id:0,f=null!=u?t.dataIdMap.get(u.dataId).id:0,m=t.makeOutput(o.shape,o.dtype);if(0===vr(o.shape))return m;const g=t.dataIdMap.get(m.dataId).id;return Mw(c,d,p,h,f,a,g),m}};let Rw;const Fw={kernelName:ri,backendName:"wasm",setupFunc:function(e){Rw=e.wasm.cwrap(ri,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:u,dilations:c,dataFormat:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=n,m=td(a.shape,o.shape,l,c,u,p),g=Sv[h];if(null==g)throw new Error(`${h} activation not yet supported for FusedConv2D in the wasm backend.`);const y=r.dataIdMap.get(a.dataId).id,v=r.dataIdMap.get(o.dataId).id,b=m.outChannels;let w=0;if(null!=s){const e=r.dataIdMap.get(s.dataId);if(1!==e.shape.length)throw new Error(`FusedConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==b)throw new Error(`FusedConv2D bias shape (${e.shape}) does not match the number of output channels (${b})`);w=e.id}const k=m.filterHeight,S=m.filterWidth,x=m.padInfo.top,I=m.padInfo.right,_=m.padInfo.bottom,E=m.padInfo.left,T=m.dilationHeight,N=m.dilationWidth,C=m.strideHeight,A=m.strideWidth,M=m.inChannels,O="SAME"===m.padInfo.type?1:0,R=m.batchSize,F=m.inHeight,D=m.inWidth;if("NHWC"!==d)throw new Error(`wasm backend FusedConv2D does not support dataFormat:'${d}'. Please use 'NHWC'.`);const P=r.makeOutput(m.outShape,"float32"),$=r.dataIdMap.get(P.dataId).id,L=null==i?0:r.dataIdMap.get(i.dataId).id;return Rw(y,R,F,D,v,k,S,w,x,I,_,E,O,T,N,C,A,M,b,g,L,f||0,$),P}};let Dw;const Pw={kernelName:ai,backendName:"wasm",setupFunc:function(e){Dw=e.wasm.cwrap(ai,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:u,dilations:c,dataFormat:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=n,m=td(a.shape,o.shape,l,c,u,p,!0),g=Sv[h];if(null==g)throw new Error(`${h} activation not yet supported for FusedDepthwiseConv2D in the wasm backend.`);const y=r.dataIdMap.get(a.dataId).id,v=r.dataIdMap.get(o.dataId).id,b=m.outChannels;let w=0;if(null!=s){const e=r.dataIdMap.get(s.dataId);if(1!==e.shape.length)throw new Error(`FusedDepthwiseConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==b)throw new Error(`FusedDepthwiseConv2D bias shape (${e.shape}) does not match the number of output channels (${b})`);w=e.id}const k=m.filterHeight,S=m.filterWidth,x=m.padInfo.top,I=m.padInfo.right,_=m.padInfo.bottom,E=m.padInfo.left,T=m.dilationHeight,N=m.dilationWidth,C=m.strideHeight,A=m.strideWidth,M=m.inChannels,O="SAME"===m.padInfo.type?1:0,R=m.batchSize,F=m.inHeight,D=m.inWidth;if("NHWC"!==d)throw new Error(`wasm backend FusedDepthwiseConv2D does not support dataFormat:'${d}'. Please use 'NHWC'.`);const P=r.makeOutput(m.outShape,"float32"),$=r.dataIdMap.get(P.dataId).id,L=null==i?0:r.dataIdMap.get(i.dataId).id;return Dw(y,R,F,D,v,k,S,w,x,I,_,E,O,T,N,C,A,M,b,g,L,f||0,$),P}};let $w;const Lw={kernelName:oo,backendName:"wasm",setupFunc:function(e){$w=e.wasm.cwrap(oo,null,["number","number","number","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{params:r,indices:a}=n,[o,s,i,l]=Mc(r,a),u=t.makeOutput(o,r.dtype);if(0===s)return u;const c=a.shape,d=c[c.length-1],p=t.dataIdMap.get(r.dataId).id,h=t.dataIdMap.get(a.dataId).id,f=new Uint8Array(new Int32Array(l).buffer),m=t.dataIdMap.get(u.dataId).id;return $w(p,kv[r.dtype],h,s,d,i,f,m),u}};let zw;const Ww={kernelName:ao,backendName:"wasm",setupFunc:function(e){zw=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a,indices:o}=n,{axis:s,batchDims:i}=r,l=xr(s,a.shape)[0],u=t.readSync(o.dataId),c=a.shape[l];for(let x=0;x<u.length;++x){const e=u[x];mr(e<=c-1&&e>=0,()=>`GatherV2: the index value ${e} is not in [0, ${c-1}]`)}const d=Og(a,o,l,i),p=fb({inputs:{x:a},attrs:{shape:[d.batchSize,d.outerSize,d.dimSize,d.sliceSize]},backend:t}),h=vr(o.shape),f=fb({inputs:{x:o},attrs:{shape:[d.batchSize,h/d.batchSize]},backend:t}),m=[d.batchSize,d.outerSize,h/d.batchSize,d.sliceSize],g=t.makeOutput(m,a.dtype);if(0===vr(a.shape))return g;const y=p.shape.length-1,v=t.dataIdMap.get(p.dataId).id,b=t.dataIdMap.get(f.dataId).id,w=t.dataIdMap.get(g.dataId).id,k=new Uint8Array(new Int32Array(Ar(p.shape)).buffer),S=new Uint8Array(new Int32Array(Ar(m)).buffer);return zw(v,kv[a.dtype],k,y,b,d.batchSize,S,w),t.disposeData(p.dataId),t.disposeData(f.dataId),g.shape=d.outputShape,g}},Bw=Lv(so,0,"bool"),Uw=Lv(io,0,"bool"),jw=Fv(po,"bool"),Hw=Fv(ho,"bool"),Vw=Fv(fo,"bool");let qw;const Gw={kernelName:mo,backendName:"wasm",setupFunc:function(e){qw=e.wasm.cwrap(mo,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:{x:t},attrs:{alpha:n},backend:r}=e,a=r.dataIdMap.get(t.dataId).id,o=r.makeOutput(t.shape,"float32");if(0!==vr(t.shape)){const e=r.dataIdMap.get(o.dataId).id;qw(a,kv[t.dtype],n,e)}return o}},Kw=Lv(go,0,"bool"),Yw=Lv(yo,0,"bool");let Qw;const Xw={kernelName:vo,backendName:"wasm",setupFunc:function(e){Qw=e.wasm.cwrap(vo,null,["number","number","number","number"])},kernelFunc:function(e){const{attrs:t,backend:n}=e,{start:r,stop:a,num:o}=t,s=Math.floor(o),i=n.makeOutput([s],"float32");return Qw(n.dataIdMap.get(i.dataId).id,r,a,s),i}},Jw=Fv(bo),Zw=Fv(wo),ek=Lv(ko,0,"bool"),tk=Fv(So),nk=Lv(xo,0,"bool"),rk=Lv("LogicalXor",0,"bool");let ak;const ok={kernelName:Io,backendName:"wasm",setupFunc:function(e){ak=e.wasm.cwrap(Io,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:o,bias:s,alpha:i,beta:l}=r;if("float32"!==a.dtype)throw new Error("LRN error: x must have dtype float32");const u=n.makeOutput(a.shape,a.dtype);return ak(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(u.dataId).id,a.shape[3],o,s,i,l),u}};let sk;const ik={kernelName:_o,backendName:"wasm",setupFunc:function(e){sk=e.wasm.cwrap(_o,null,["number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,y:o,dy:s}=t,{depthRadius:i,bias:l,alpha:u,beta:c}=r;if("float32"!==a.dtype||"float32"!==o.dtype||"float32"!==s.dtype)throw new Error("LRNGrad error: x, y, and dy must have dtype float32");const d=n.makeOutput(a.shape,a.dtype);return sk(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(d.dataId).id,s.shape[3],i,l,u,c),d}};let lk;const uk={kernelName:Eo,backendName:"wasm",setupFunc:function(e){lk=e.wasm.cwrap(Eo,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{reductionIndices:a,keepDims:o}=r,{x:s}=n;let i=t.dataIdMap.get(s.dataId).id,l=s;const{transposed:u,axes:c,originalAxes:d,inputWasTransposed:p}=Gv(s,a,t);if(p){l=u,i=t.dataIdMap.get(u.dataId).id}cp("max",c,l.shape.length);const[h,f]=lp(l.shape,c),m=vr(f),g=t.makeOutput(h,s.dtype);if(0!==vr(l.shape)){const e=t.dataIdMap.get(g.dataId).id;lk(i,kv[s.dtype],m,e)}if(p&&t.disposeData(u.dataId),o){const e=up(g.shape,d);g.shape=e}return g}},ck=Lv(To);let dk;const pk={kernelName:No,backendName:"wasm",setupFunc:function(e){dk=e.wasm.cwrap(No,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,a=t.x,o=r.dataIdMap.get(a.dataId).id;mr("float32"===a.dtype,()=>`Error in MaxPool: only float32 input is supported. Got ${a.dtype}.`);const{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=n,c=Zc(a.shape,s,i,1,l,u),d=c.filterHeight,p=c.filterWidth,h=c.padInfo.top,f=c.padInfo.right,m=c.padInfo.bottom,g=c.padInfo.left,y=c.dilationHeight,v=c.dilationWidth,b=c.strideHeight,w=c.strideWidth,k=c.inChannels,S=c.outChannels;if("channelsLast"!==c.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${c.dataFormat}'. Please use 'channelsLast'.`);const x=r.makeOutput(c.outShape,"float32"),I=r.dataIdMap.get(x.dataId).id;return dk(o,a.shape[0],a.shape[1],a.shape[2],d,p,h,f,m,g,y,v,b,w,k,S,I),x}};let hk;const fk={kernelName:Ao,backendName:"wasm",setupFunc:function(e){hk=e.wasm.cwrap("MaxPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l,dataFormat:u}=r,c=ed(a.shape,o,s,1,i,l,u),d=n.makeOutput(c.outShape,a.dtype);return hk(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),d}};let mk;const gk={kernelName:Mo,backendName:"wasm",setupFunc:function(e){mk=e.wasm.cwrap("MaxPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=r,c=ed(o.shape,s,i,1,l,u),d=n.makeOutput(o.shape,o.dtype);return mk(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),d}};let yk;const vk={kernelName:Co,backendName:"wasm",setupFunc:function(e){yk=e.wasm.cwrap("MaxPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=r,c=Zc(o.shape,s,i,1,l,u),d=n.makeOutput(o.shape,o.dtype);return yk(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),d}};let bk;const wk={kernelName:Oo,backendName:"wasm",setupFunc:function(e){bk=e.wasm.cwrap("MaxPoolWithArgmax",null,["number","number","number","number","boolean","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:s,pad:i,includeBatchInIndex:l}=r;mr(4===a.shape.length,()=>`Error in maxPool: input must be rank 4 but got rank ${a.shape.length}.`);const u=[1,1];mr(ud(s,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);const c=Zc(a.shape,o,s,[1,1],i),d=n.makeOutput(c.outShape,a.dtype),p=n.makeOutput(c.outShape,"int32");return bk(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,n.dataIdMap.get(p.dataId).id,kv[a.dtype],l,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),[d,p]}};let kk;const Sk={kernelName:Ro,backendName:"wasm",setupFunc:function(e){kk=e.wasm.cwrap(Ro,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:s}=n,i=t.dataIdMap.get(s.dataId).id;let l=i,u=s;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:h}=Gv(s,a,t);let f=d;if(h){const e=t.dataIdMap.get(c.dataId).id;e!==i&&(u=c,l=e,f=hp(f.length,u.shape.length))}cp("mean",f,u.shape.length);const[m,g]=lp(u.shape,f),y=vr(g);let v=u;"float32"!==u.dtype&&(v=Cb({backend:t,inputs:{x:u},attrs:{dtype:"float32"}}),l=t.dataIdMap.get(v.dataId).id);const b=t.makeOutput(m,"float32");if(0!==vr(u.shape)){const e=t.dataIdMap.get(b.dataId).id;kk(l,y,e)}if(h&&t.disposeData(c.dataId),o){const e=up(b.shape,p);b.shape=e}return"float32"!==u.dtype&&t.disposeData(v.dataId),b}};let xk;const Ik={kernelName:Fo,backendName:"wasm",setupFunc:function(e){xk=e.wasm.cwrap(Fo,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:s}=n,i=t.dataIdMap.get(s.dataId).id;let l=i,u=s;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:h}=Gv(s,a,t);if(h){const e=t.dataIdMap.get(c.dataId).id;e!==i&&(u=c,l=e)}cp("min",d,u.shape.length);const[f,m]=lp(u.shape,d),g=vr(m),y=t.makeOutput(f,u.dtype);if(0!==vr(u.shape)){const e=t.dataIdMap.get(y.dataId).id;xk(l,kv[s.dtype],g,e)}if(h&&t.disposeData(c.dataId),o){const e=up(y.shape,p);y.shape=e}return y}},_k=Lv(Do);var Ek;let Tk;!function(e){e[e.reflect=0]="reflect",e[e.symmetric=1]="symmetric"}(Ek||(Ek={}));const Nk={kernelName:Po,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,mode:a}}=e,o=r.map((e,n)=>e[0]+t.shape[n]+e[1]),s=n.dataIdMap.get(t.dataId).id,i=n.makeOutput(o,t.dtype),l=n.dataIdMap.get(i.dataId).id,u=new Uint8Array(new Int32Array(t.shape).buffer),c=r.map(e=>e[0]),d=r.map(e=>e[1]),p=new Uint8Array(new Int32Array(c).buffer),h=new Uint8Array(new Int32Array(d).buffer);return Tk(s,u,t.shape.length,kv[t.dtype],p,h,Ek[a],l),i},setupFunc:function(e){Tk=e.wasm.cwrap(Po,null,["number","array","number","number","array","array","number","number"])}};let Ck;function Ak(e){const{backend:t,inputs:{logits:n},attrs:{dim:r}}=e,a=t.dataIdMap.get(n.dataId).id,o=t.makeOutput(n.shape,n.dtype),s=t.dataIdMap.get(o.dataId).id,i=n.shape[r],l=vr(n.shape)/i;return 0===vr(o.shape)||Ck(a,s,i,l),o}const Mk={kernelName:Cs,backendName:"wasm",setupFunc:function(e){Ck=e.wasm.cwrap(Cs,null,["number","number","number","number"])},kernelFunc:Ak};let Ok;const Rk={kernelName:Lo,backendName:"wasm",setupFunc:function(e){Ok=e.wasm.cwrap(Lo,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:o,seed:s,normalized:i}=r;if("float32"!==a.dtype)throw new Error(`Tensor logits must have dtype float32, got ${a.dtype}`);const l=i?a:Ak({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),[u,c]=l.shape,d=n.makeOutput([u,o],"int32");return Ok(n.dataIdMap.get(l.dataId).id,u,c,o,s,n.dataIdMap.get(d.dataId).id),i||n.disposeData(l.dataId),d}},Fk=Lv($o),Dk=Lv(zo),Pk=Fv(Wo);function $k(e,t){const n=new Int32Array(e.wasm.HEAPU8.buffer,t,4),r=n[0],a=n[1],o=n[2],s=n[3];return e.wasm._free(t),{pSelectedIndices:r,selectedSize:a,pSelectedScores:o,pValidOutputs:s}}let Lk;const zk={kernelName:Uo,backendName:"wasm",setupFunc:function(e){Lk=e.wasm.cwrap(Uo,"number",["number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:o,scoreThreshold:s}=r,{boxes:i,scores:l}=n,u=t.dataIdMap.get(i.dataId).id,c=t.dataIdMap.get(l.dataId).id,d=Lk(u,c,o,a,s),{pSelectedIndices:p,selectedSize:h,pSelectedScores:f,pValidOutputs:m}=$k(t,d);return t.wasm._free(f),t.wasm._free(m),t.makeOutput([h],"int32",p)}};let Wk;const Bk={kernelName:jo,backendName:"wasm",setupFunc:function(e){Wk=e.wasm.cwrap(jo,"number",["number","number","number","number","number","bool"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:o,scoreThreshold:s,padToMaxOutputSize:i}=r,{boxes:l,scores:u}=n,c=t.dataIdMap.get(l.dataId).id,d=t.dataIdMap.get(u.dataId).id,p=Wk(c,d,o,a,s,i),{pSelectedIndices:h,selectedSize:f,pSelectedScores:m,pValidOutputs:g}=$k(t,p);return t.wasm._free(m),[t.makeOutput([f],"int32",h),t.makeOutput([],"int32",g)]}};let Uk;const jk={kernelName:Ho,backendName:"wasm",setupFunc:function(e){Uk=e.wasm.cwrap(Ho,"number",["number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{iouThreshold:a,maxOutputSize:o,scoreThreshold:s,softNmsSigma:i}=r,{boxes:l,scores:u}=n,c=t.dataIdMap.get(l.dataId).id,d=t.dataIdMap.get(u.dataId).id,p=Uk(c,d,o,a,s,i),{pSelectedIndices:h,selectedSize:f,pSelectedScores:m,pValidOutputs:g}=$k(t,p);return t.wasm._free(g),[t.makeOutput([f],"int32",h),t.makeOutput([f],"float32",m)]}},Hk=Lv(Bo,0,"bool");let Vk;const qk={kernelName:qo,backendName:"wasm",setupFunc:function(e){Vk=e.wasm.cwrap(qo,null,["number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:o,depth:s,onValue:i,offValue:l}=r,u=n.makeOutput([...a.shape,s],o),c=n.dataIdMap.get(u.dataId).id,d=n.dataIdMap.get(a.dataId).id;return Vk(d,s,i,l,c),u}};const Gk={kernelName:Vo,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(1),r}};const Kk={kernelName:Go,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return Sw({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const o=t[0].shape,s=t[0].dtype;t.forEach(e=>{gr(o,e.shape,"All tensors passed to stack must have matching shapes"),mr(s===e.dtype,()=>"All tensors passed to stack must have matching dtypes")});const i=[],l=t.map(e=>{const t=Sw({inputs:{input:e},backend:n,attrs:{dim:a}});return i.push(t),t}),u=Db({inputs:l,backend:n,attrs:{axis:a}});return i.forEach(e=>n.disposeData(e.dataId)),u}};let Yk;const Qk={kernelName:Ko,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:r,constantValue:a}}=e,o=r.map((e,n)=>e[0]+t.shape[n]+e[1]);if(0===vr(t.shape))return _w({backend:n,attrs:{shape:o,value:a,dtype:t.dtype}});const s=n.dataIdMap.get(t.dataId).id,i=n.makeOutput(o,t.dtype),l=n.dataIdMap.get(i.dataId).id,u=new Uint8Array(new Int32Array(t.shape).buffer),c=r.map(e=>e[0]),d=r.map(e=>e[1]),p=new Uint8Array(new Int32Array(c).buffer),h=new Uint8Array(new Int32Array(d).buffer);return Yk(s,u,t.shape.length,kv[t.dtype],p,h,a,l),i},setupFunc:function(e){Yk=e.wasm.cwrap(Ko,null,["number","array","number","number","array","array","number","number"])}},Xk=Lv(Yo);let Jk;const Zk={kernelName:Qo,backendName:"wasm",setupFunc:function(e){Jk=e.wasm.cwrap(Qo,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t,o=n.dataIdMap.get(r.dataId).id,s=n.dataIdMap.get(a.dataId).id;let i=o;const l=r;let u=l;"float32"!==l.dtype&&(u=Cb({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),i=n.dataIdMap.get(u.dataId).id);const c=n.makeOutput(r.shape,"float32"),d=n.dataIdMap.get(c.dataId).id;return Jk(i,s,d),"float32"!==l.dtype&&n.disposeData(u.dataId),c}};let eS;const tS={kernelName:Xo,backendName:"wasm",setupFunc:function(e){eS=e.wasm.cwrap(Xo,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:s}=n,i=t.dataIdMap.get(s.dataId).id;let l=i,u=s;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:h}=Gv(s,a,t);let f=d;if(h){const e=t.dataIdMap.get(c.dataId).id;e!==i&&(u=c,l=e,f=hp(f.length,u.shape.length))}cp("prod",f,u.shape.length);const[m,g]=lp(u.shape,f),y=vr(g),v=t.makeOutput(m,u.dtype);if(0!==vr(u.shape)){const e=t.dataIdMap.get(v.dataId).id;eS(l,y,kv[v.dtype],e)}if(h&&t.disposeData(c.dataId),o){const e=up(v.shape,p);v.shape=e}return v}};function nS(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return Fr(0,r);const a=Fr(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(let o=1;o<a.length;o++)a[o]=a[o-1]+n;return a}const rS={kernelName:ts,backendName:"wasm",kernelFunc:e=>{const{backend:t,attrs:n}=e,{start:r,stop:a,step:o,dtype:s}=n,i=nS(r,a,o,s),l=t.makeOutput([i.length],s);return t.typedArrayFromHeap(l).set(i),l}},aS=Lv(Ha),oS=Fv(rs),sS=Fv(as),iS=Fv(cs);let lS;const uS={kernelName:ls,backendName:"wasm",setupFunc:function(e){lS=e.wasm.cwrap(ls,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{images:a}=n,{alignCorners:o,halfPixelCenters:s,size:i}=r,[l,u]=i,[c,d,p,h]=a.shape,f=[c,l,u,h];let m,g=t.dataIdMap.get(a.dataId);"float32"!==g.dtype&&(m=Cb({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),g=t.dataIdMap.get(m.dataId));const y=g.id,v=t.makeOutput(f,"float32");if(0===vr(a.shape))return v;const b=t.dataIdMap.get(v.dataId).id;return lS(y,c,d,p,h,l,u,o?1:0,s?1:0,b),null!=m&&t.disposeData(m.dataId),v}};let cS;const dS={kernelName:us,backendName:"wasm",setupFunc:function(e){cS=e.wasm.cwrap(us,null,["number","number","number","array","array","boolean"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:o}=t,{alignCorners:s}=r,i=n.makeOutput(a.shape,"float32");let l,u=n.dataIdMap.get(a.dataId);return"float32"!==u.dtype&&(l=Cb({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),u=n.dataIdMap.get(l.dataId)),cS(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(i.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(o.shape).buffer),s),null!=l&&n.disposeData(l.dataId),i}};let pS;const hS={kernelName:ss,backendName:"wasm",setupFunc:function(e){pS=e.wasm.cwrap(ss,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{images:a}=n,{alignCorners:o,halfPixelCenters:s,size:i}=r,[l,u]=i,[c,d,p,h]=a.shape,f=[c,l,u,h],m=t.makeOutput(f,"float32");if(0===vr(a.shape))return m;let g,y=t.dataIdMap.get(a.dataId);"float32"!==y.dtype&&(g=Cb({backend:t,inputs:{x:a},attrs:{dtype:"float32"}}),y=t.dataIdMap.get(g.dataId));const v=y.id,b=t.dataIdMap.get(m.dataId).id;return pS(v,c,d,p,h,l,u,o?1:0,s?1:0,b),null!=g&&t.disposeData(g.dataId),m}};let fS;const mS={kernelName:is,backendName:"wasm",setupFunc:function(e){fS=e.wasm.cwrap(is,null,["number","number","number","array","array","boolean"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:o}=t,{alignCorners:s}=r,i=n.makeOutput(a.shape,"float32");let l,u=n.dataIdMap.get(a.dataId);return"float32"!==u.dtype&&(l=Cb({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),u=n.dataIdMap.get(l.dataId)),fS(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(i.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(o.shape).buffer),s),null!=l&&n.disposeData(l.dataId),i}};let gS;const yS={kernelName:ds,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:o}=r,s=xr(o,a.shape);if(0===a.shape.length)return Uv({inputs:{x:a},backend:n});const i=n.makeOutput(a.shape,a.dtype),l=n.dataIdMap.get(a.dataId).id,u=n.dataIdMap.get(i.dataId).id,c=new Uint8Array(new Int32Array(s).buffer),d=new Uint8Array(new Int32Array(a.shape).buffer);gS(l,c,s.length,d,a.shape.length,u);const p=fb({inputs:{x:i},attrs:{shape:a.shape},backend:n});return n.disposeData(i.dataId),p},setupFunc:function(e){gS=e.wasm.cwrap(ds,null,["number","array","number","array","number","number"])}};let vS;const bS={kernelName:ti,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{radians:o,fillValue:s,center:i}=r,l=n.makeOutput(a.shape,a.dtype),u=n.dataIdMap.get(a.dataId).id,c=n.dataIdMap.get(l.dataId).id,[d,p,h,f]=a.shape,[m,g]=sg(i,p,h),y="number"===typeof s?[s,s,s,0===s?0:255]:[...s,255],v=new Uint8Array(new Int32Array(y).buffer);return vS(u,d,p,h,f,o,m,g,v,y.length,c),l},setupFunc:function(e){vS=e.wasm.cwrap(ti,null,["number","number","number","number","number","number","number","number","array","number","number"])}},wS=Fv(ps),kS=Fv(hs);let SS;const xS={kernelName:fs,backendName:"wasm",setupFunc:function(e){SS=e.wasm.cwrap(fs,null,["number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{indices:a,updates:o}=n,{shape:s}=r,i=t.makeOutput(s,o.dtype);if(0===vr(s))return i;const{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=Rc(0,a,s),h=t.dataIdMap.get(a.dataId).id,f=t.dataIdMap.get(o.dataId).id,m=new Uint8Array(new Int32Array(d).buffer),g=t.dataIdMap.get(i.dataId).id;return SS(h,f,kv[o.dtype],l,u,c,m,p,g),i}};let IS;const _S={kernelName:gs,backendName:"wasm",setupFunc:function(e){IS=e.wasm.cwrap(gs,null,["number","number","number","number","number","number","bool","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:o}=t,{side:s}=r;if(a.dtype!==o.dtype)throw new Error(`SearchSorted error: sorted_sequence must have the same dtype as values. Got ${a.dtype} and ${o.dtype}`);const i=n.makeOutput(o.shape,"int32");function l(e){return n.dataIdMap.get(e.dataId).id}return IS(l(a),l(o),a.shape[0],a.shape[1],o.shape[1],kv[a.dtype],"left"===s,l(i)),i}};let ES;const TS={kernelName:ys,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:o}=t,s=n.dataIdMap.get(r.dataId).id,i=n.dataIdMap.get(a.dataId).id,l=n.dataIdMap.get(o.dataId).id,u=n.makeOutput(a.shape,a.dtype),c=n.dataIdMap.get(u.dataId).id,d=r.shape.length,p=a.shape.length,h=0===d||d>1||1===p?1:vr(a.shape.slice(1));return ES(s,i,l,h,c),u},setupFunc:function(e){ES=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}},NS=Fv(vs);let CS;const AS={kernelName:"Sigmoid",backendName:"wasm",setupFunc:function(e){CS=e.wasm.cwrap(xs,null,["number","number"])},kernelFunc:function(e){const{backend:t,inputs:{x:n}}=e,r=t.dataIdMap.get(n.dataId).id,a=t.makeOutput(n.shape,n.dtype),o=t.dataIdMap.get(a.dataId).id;return 0===vr(a.shape)||CS(r,o),a}},MS=Fv(Ss),OS=Fv(ws),RS=Fv(ks),FS=Fv(Is);const DS={kernelName:Ts,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,paddings:s}=r,i=vr(o),l=[[0,0]];l.push(...s);for(let g=1+o.length;g<a.shape.length;++g)l.push([0,0]);const u=Qk.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),c=ig(u.shape,o,i,!1),d=lg(c.length,o.length,!1),p=ug(u.shape,o,i,!1),h=fb({inputs:{x:u},backend:n,attrs:{shape:c}}),f=Vv({inputs:{x:h},backend:n,attrs:{perm:d}}),m=fb({inputs:{x:f},backend:n,attrs:{shape:p}});return n.disposeData(u.dataId),n.disposeData(h.dataId),n.disposeData(f.dataId),m}};let PS;const $S={kernelName:As,backendName:"wasm",setupFunc:function(e){PS=e.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{indices:r,values:a,denseShape:o,defaultValue:s}=n,i=r.shape[0],l=r.shape[1],u=t.readSync(o.dataId)[0],c=[i+u,l],d=t.dataIdMap.get(r.dataId).id,p=t.dataIdMap.get(a.dataId).id,h=t.dataIdMap.get(s.dataId).id,f=t.makeOutput(c,r.dtype),m=t.dataIdMap.get(f.dataId).id,g=t.makeOutput(c.slice(0,1),a.dtype),y=t.dataIdMap.get(g.dataId).id,v=t.makeOutput([u],"bool"),b=t.dataIdMap.get(v.dataId).id,w=t.makeOutput([i],r.dtype),k=t.dataIdMap.get(w.dataId).id,S=t.makeOutput([4],"int32"),x=t.dataIdMap.get(S.dataId).id,I=PS(d,p,kv[a.dtype],i,u,l,h,m,y,b,k,x),_=t.readSync(S.dataId);let E;switch(_[0]){case 1:E=Sg(_[1]);break;case 2:E=xg(_[1],_[2]);break;case 3:E=Ig(_[1],_[2],_[3]);break;default:E=""}if(t.disposeData(S.dataId),E)throw t.disposeData(f.dataId),t.disposeData(g.dataId),t.disposeData(v.dataId),t.disposeData(w.dataId),new Error(E);let T=f,N=g;return I!==c[0]&&(T=Sb({inputs:{x:f},attrs:{begin:0,size:[I,l]},backend:t}),N=Sb({inputs:{x:g},attrs:{begin:0,size:I},backend:t}),t.disposeData(f.dataId),t.disposeData(g.dataId)),[T,N,v,w]}};let LS;const zS={kernelName:Ms,backendName:"wasm",setupFunc:function(e){LS=e.wasm.cwrap(Ms,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{inputIndices:r,inputShape:a,newShape:o}=n;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${a.shape}`);if(1!==o.shape.length)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const s=t.dataIdMap.get(r.dataId).id,i=t.dataIdMap.get(a.dataId).id,l=t.dataIdMap.get(o.dataId).id,u=r.shape[0],c=vr(o.shape),d=t.makeOutput([u,c],r.dtype),p=t.dataIdMap.get(d.dataId).id,h=t.makeOutput([c],o.dtype),f=t.dataIdMap.get(h.dataId).id,m=t.makeOutput([3],"int32"),g=t.dataIdMap.get(m.dataId).id;LS(s,i,l,u,p,f,g);const y=t.readSync(m.dataId);let v;switch(y[0]){case 0:v=_g(y[1],y[2]);break;case 1:v=Eg(y[1],y[2]);break;case 2:v="reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero";break;case 3:v=Tg(Array.from(t.readSync(a.dataId)),Array.from(t.readSync(h.dataId)));break;case 4:v=Ng(Array.from(t.readSync(a.dataId)),Array.from(t.readSync(h.dataId)));break;default:v=""}if(t.disposeData(m.dataId),v)throw t.disposeData(d.dataId),t.disposeData(h.dataId),new Error(v);return[d,h]}};let WS;function BS(e){WS=e.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function US(e,t){const{backend:n,inputs:r}=e,{data:a,indices:o,segmentIds:s}=r,i=o.shape[0],l=n.readSync(s.dataId,i-1,i)[0],u=i>0?l+1:0;if(u<0)throw new Error("segment ids must be >= 0");const c=a.shape.slice();c[0]=u;const d=n.dataIdMap.get(a.dataId).id,p=n.dataIdMap.get(o.dataId).id,h=n.dataIdMap.get(s.dataId).id,f=n.makeOutput(c,a.dtype),m=n.dataIdMap.get(f.dataId).id,g=n.makeOutput([4],"int32"),y=n.dataIdMap.get(g.dataId).id;WS(d,kv[a.dtype],a.shape[0],p,h,m,y,t,0);const v=n.readSync(g.dataId);let b;switch(v[0]){case 0:b="segment ids must be >= 0";break;case 1:b="segment ids are not increasing";break;case 2:b=Ag(v[1],v[2]);break;case 3:b=Mg(v[1],v[2],v[3]);break;default:b=""}if(n.disposeData(g.dataId),b)throw n.disposeData(f.dataId),new Error(b);return f}const jS={kernelName:Os,backendName:"wasm",setupFunc:BS,kernelFunc:function(e){return US(e,!0)}};const HS={kernelName:Rs,backendName:"wasm",setupFunc:BS,kernelFunc:function(e){return US(e,!1)}};let VS;const qS={kernelName:Fs,backendName:"wasm",setupFunc:function(e){VS=e.wasm.cwrap(Fs,null,["number","number","number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{sparseIndices:a,sparseValues:o,defaultValue:s}=n,{outputShape:i}=r,l=t.makeOutput(i,s.dtype);if(0===vr(i))return l;const{sliceRank:u,numUpdates:c,sliceSize:d,strides:p,outputSize:h}=Rc(0,a,i),f=t.dataIdMap.get(a.dataId).id,m=t.dataIdMap.get(o.dataId).id,g=t.dataIdMap.get(s.dataId).id,y=new Uint8Array(new Int32Array(p).buffer),v=t.dataIdMap.get(l.dataId).id;return VS(f,m,o.shape.length,g,kv[s.dtype],u,c,d,y,h,v),l}};const GS={kernelName:Ns,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{numOrSizeSplits:o,axis:s}=n,i=xr(s,a.shape)[0],l=kg(a,o,i),u=new Array(a.shape.length).fill(0),c=a.shape.slice();return l.map(e=>{const t=[...c];t[i]=e;const n=Sb({inputs:{x:a},attrs:{begin:u,size:t},backend:r});return u[i]+=e,n})}},KS=Fv(_s),YS=Fv(Ps),QS=Lv(Ds);let XS;const JS={kernelName:Zs,backendName:"wasm",setupFunc:function(e){XS=e.wasm.cwrap(Zs,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{alpha:a}=r,{x:o}=n,s=t.dataIdMap.get(o.dataId).id,i=t.makeOutput(o.shape,o.dtype),l=t.dataIdMap.get(i.dataId).id;return XS(s,a,kv[o.dtype],l),i}};let ZS;const ex={kernelName:Ls,backendName:"wasm",setupFunc:function(e){ZS=e.wasm.cwrap(Ls,null,["number","array","number","array","array","array","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{x:a}=n,{begin:o,end:s,strides:i,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r,{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:w}=Lc(a.shape,o,s,i,l,u,c,d,p);let k;if(m)k=fb({inputs:{x:a},backend:t,attrs:{shape:f}});else if(g||y){mr(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const e=Fc(v,b,w),n=Sb({inputs:{x:a},backend:t,attrs:{begin:v,size:e}});k=fb({inputs:{x:n},backend:t,attrs:{shape:f}}),t.disposeData(n.dataId)}else{const e=t.makeOutput(h,"float32"),n=t.dataIdMap.get(a.dataId).id,r=new Uint8Array(new Int32Array(Ar(a.shape)).buffer),o=new Uint8Array(new Int32Array(v).buffer),s=new Uint8Array(new Int32Array(b).buffer),i=new Uint8Array(new Int32Array(w).buffer),l=new Uint8Array(new Int32Array(h).buffer),u=new Uint8Array(new Int32Array(Ar(h)).buffer),c=t.dataIdMap.get(e.dataId).id;ZS(n,r,a.shape.length,o,s,i,l,u,h.length,c),k=fb({inputs:{x:e},backend:t,attrs:{shape:f}}),t.disposeData(e.dataId)}return k}};class tx{constructor(e,t,n,r,a,o){this.separator=Mi(e),this.nGramWidths=t,this.leftPad=Mi(n),this.rightPad=Mi(r),this.padWidth=a,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,a,o){for(let s=0;s<a;++s){const i=this.getPadWidth(o),l=Math.max(0,i-s),u=Math.max(0,i-(a-(s+1))),c=o-(l+u),d=t+(l>0?0:s-i);let p=0;p+=l*this.leftPad.length;for(let t=0;t<c;++t)p+=e[d+t].length;p+=u*this.rightPad.length;p+=(l+u+c-1)*this.separator.length,n[r+s]=new Uint8Array(p);const h=n[r+s];let f=0;const m=e=>e.forEach(e=>h[f++]=e);for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<c-1;++t)m(e[d+t]),m(this.separator);if(c>0){m(e[d+c-1]);for(let e=0;e<u;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<u-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let a=1;a<r;++a){let r=t[a]>=e;if(r=r&&t[a]<=n,!r)throw new Error(`Invalid split value ${t[a]}, must be in [${e}, ${n}]`);e=t[a]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const a=r-1,o=_r("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=a;++t)o[t]=0;return[e,o]}o[0]=0;for(let i=1;i<=a;++i){const e=t[i]-t[i-1];let n=0;this.nGramWidths.forEach(t=>{n+=this.getNumNGrams(e,t)}),this.preserveShort&&e>0&&0===n&&(n=1),o[i]=o[i-1]+n}const s=new Array(o[a]);for(let i=0;i<a;++i){const n=t[i];let r=o[i];if(this.nGramWidths.forEach(a=>{const o=t[i+1]-t[i],l=this.getNumNGrams(o,a);this.createNGrams(e,n,s,r,l,a),r+=l}),this.preserveShort&&r===o[i]){const a=t[i+1]-t[i];if(0===a)continue;const o=a+2*this.padWidth,l=1;this.createNGrams(e,n,s,r,l,o)}}return[s,o]}}function nx(e,t,n,r,a,o,s,i){return new tx(n,r,a,o,s,i).compute(e,t)}const rx={kernelName:zs,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{data:a,dataSplits:o}=n,{separator:s,nGramWidths:i,leftPad:l,rightPad:u,padWidth:c,preserveShortSequences:d}=r,p=t.readSync(a.dataId),h=t.readSync(o.dataId),[f,m]=nx(p,h,s,i,l,u,c,d),g=t.makeOutput([f.length],"string");t.dataIdMap.get(g.dataId).stringBytes=f;const y=t.makeOutput(o.shape,"int32");return t.typedArrayFromHeap(y).set(m),[g,y]}};function ax(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const a=t[0];let o=e.indexOf(a);for(;-1!==o;){const t=e.subarray(0,o);n&&0===t.length||r.push(t),o=(e=e.subarray(o+1)).indexOf(a)}return void(n&&0===e.length||r.push(e))}let a=0;for(let o=0;o<e.length+1;o++)if(o===e.length||-1!==t.indexOf(e[o])){const t=e.subarray(a,o);n&&0===t.length||r.push(t),a=o+1}}function ox(e,t,n){const r=e.length,a=[];let o=0,s=0;const i=new Array(r);for(let p=0;p<r;++p){const r=a.length;ax(e[p],t,n,a);const l=a.length-r;i[p]=l,o+=l,s=Math.max(s,l)}const l=_r("int32",2*o),u=new Array(o),c=[r,s];let d=0;for(let p=0;p<r;++p)for(let e=0;e<i[p];++e)l[2*d]=p,l[2*d+1]=e,u[d]=a[d],++d;return[l,u,c]}const sx={kernelName:Ws,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{input:a,delimiter:o}=n,{skipEmpty:s}=r,i=t.readSync(a.dataId),l=t.readSync(o.dataId),[u,c,d]=ox(i,l[0],s),p=c.length,h=t.makeOutput([p,2],"int32");t.typedArrayFromHeap(h).set(u);const f=t.makeOutput([p],"string");t.dataIdMap.get(f.dataId).stringBytes=c;const m=t.makeOutput([2],"int32");return t.typedArrayFromHeap(m).set(d),[h,f,m]}};function ix(e,t){const n=_r("int32",e.length);for(let r=0;r<e.length;++r)n[r]=Ti(e[r]).modulo(t).getLowBitsUnsigned();return n}const lx={kernelName:Bs,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{input:a}=n,{numBuckets:o}=r,s=ix(t.readSync(a.dataId),o),i=t.makeOutput(a.shape,"int32");return t.typedArrayFromHeap(i).set(s),i}},ux=Lv(Us);let cx;const dx={kernelName:Es,backendName:"wasm",setupFunc:function(e){cx=e.wasm.cwrap(Es,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{axis:a,keepDims:o}=r,{x:s}=n,i=t.dataIdMap.get(s.dataId).id;let l=i,u=s;const{transposed:c,axes:d,originalAxes:p,inputWasTransposed:h}=Gv(s,a,t);let f=d;if(h){const e=t.dataIdMap.get(c.dataId).id;e!==i&&(u=c,l=e,f=hp(f.length,u.shape.length))}cp("sum",f,u.shape.length);const[m,g]=lp(u.shape,f),y=vr(g),v=t.makeOutput(m,u.dtype);if(0!==vr(u.shape)){const e=t.dataIdMap.get(v.dataId).id;cx(l,y,kv[v.dtype],e)}if(h&&t.disposeData(c.dataId),o){const e=up(v.shape,p);v.shape=e}return v}},px=Fv(js),hx=Fv(Hs);let fx;const mx={kernelName:ms,backendName:"wasm",setupFunc:function(e){fx=e.wasm.cwrap(ms,null,["number","number","number","number","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{tensor:a,indices:o,updates:s}=n,{}=r,i=t.makeOutput(a.shape,a.dtype);if(0===vr(a.shape))return i;const{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=Rc(0,o,a.shape),h=t.dataIdMap.get(o.dataId).id,f=t.dataIdMap.get(s.dataId).id,m=t.dataIdMap.get(a.dataId).id,g=new Uint8Array(new Int32Array(d).buffer),y=t.dataIdMap.get(i.dataId).id;return fx(h,f,kv[s.dtype],l,u,c,g,p,y,m),i}};let gx;const yx={kernelName:Vs,backendName:"wasm",setupFunc:function(e){gx=e.wasm.cwrap(Vs,null,["number","array","number","array","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,o=n.dataIdMap.get(a.dataId).id,{reps:s}=r,i=new Array(a.shape.length);for(let p=0;p<i.length;p++)i[p]=a.shape[p]*s[p];const l=new Uint8Array(new Int32Array(a.shape).buffer),u=new Uint8Array(new Int32Array(i).buffer),c=n.makeOutput(i,a.dtype),d=n.dataIdMap.get(c.dataId).id;return gx(o,l,a.shape.length,u,i.length,kv[c.dtype],d),c}};let vx;const bx={kernelName:qs,backendName:"wasm",setupFunc:function(e){vx=e.wasm.cwrap(qs,null,["number","array","number","number","number","bool","number","number"])},kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a}=t,{k:o,sorted:s}=r,i=n.dataIdMap.get(a.dataId).id,l=new Uint8Array(new Int32Array(a.shape).buffer),u=a.shape.slice();u[u.length-1]=o;const c=n.makeOutput(u,a.dtype),d=n.dataIdMap.get(c.dataId).id,p=n.makeOutput(u,"int32"),h=n.dataIdMap.get(p.dataId).id;return vx(i,l,a.shape.length,kv[a.dtype],o,s,d,h),[c,p]}};let wx;const kx={kernelName:Gs,backendName:"wasm",setupFunc:function(e){wx=e.wasm.cwrap(Gs,null,["number","number","bool","number","number","number","number","number","number","array","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:r}=e,{image:a,transforms:o}=n,{interpolation:s,fillMode:i,fillValue:l,outputShape:u}=r,[c,d,p,h]=a.shape,[f,m]=null!=u?u:[d,p],g=[c,f,m,h],y=new Uint8Array(new Int32Array(Ar(a.shape)).buffer),v=new Uint8Array(new Int32Array(Ar(g)).buffer),b=t.makeOutput(g,a.dtype),w=t.dataIdMap.get(b.dataId).id,k=t.dataIdMap.get(a.dataId).id,S=t.dataIdMap.get(o.dataId).id,x="nearest"===s?1:2;let I;switch(i){case"constant":default:I=1;break;case"reflect":I=2;break;case"wrap":I=3;break;case"nearest":I=4}return wx(k,S,o.shape[0]>1,c,f,m,h,p,d,y,a.shape.length-1,v,g.length-1,x,I,l,w),b}};function Sx(e,t,n,r){const a=xr(t,n)[0],o=[1,n[0],1];for(let f=0;f<a;f++)o[0]*=n[f];o[1]=n[a];for(let f=a+1;f<n.length;f++)o[2]*=n[f];const s=new Map,i=new Int32Array(n[a]),l=new ji(o,r,e),u=[],c=1===o[0]&&1===o[2];for(let f=0;f<n[a];f++){let t;if(c)t=e[f].toString();else{const e=[];for(let t=0;t<o[0];t++)for(let n=0;n<o[2];n++)e.push(l.get(t,f,n));t=e.join(",")}const n=s.get(t);if(null!=n)i[f]=n;else{const e=s.size;s.set(t,e),i[f]=e,u.push(f)}}const d=o.slice();d[1]=s.size;const p=new ji(d,r);u.forEach((e,t)=>{for(let n=0;n<o[0];n++)for(let r=0;r<o[2];r++)p.set(l.get(n,e,r),n,t,r)});const h=n.slice();return h[a]=d[1],{outputValues:p.values,outputShape:h,indices:i}}const xx={kernelName:Ys,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:o}=t,{outputValues:s,outputShape:i,indices:l}=Sx(r.readSync(o.dataId),a,o.shape,o.dtype);return[r.makeOutput(i,o.dtype,void 0,s),r.makeOutput([l.length],"int32",void 0,l)]}};const Ix={kernelName:Qs,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:o}=r;o<0&&(o+=a.shape.length);const s=a.shape[o],i=a.shape.length,l=new Array(i-1);let u=0;for(let h=0;h<i;h++)h!==o&&(l[u++]=a.shape[h]);const c=new Array(s),d=new Array(i).fill(0),p=a.shape.slice();p[o]=1;for(let h=0;h<c.length;h++)d[o]=h,c[h]=Sb({inputs:{x:a},attrs:{begin:d,size:p},backend:n});return c.map(e=>{let{dataId:t,dtype:n}=e;return{dataId:t,dtype:n,shape:l}})}};const _x={kernelName:Js,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(0),r}},Ex=[Rv,Dv,Pv,$v,zv,Bv,Yv,Xv,Zv,eb,tb,nb,rb,ab,ob,ib,hb,ub,db,yb,Ib,Eb,Tb,Nb,Ab,Mb,Rb,Pb,Lb,Wb,Ub,Hb,qb,Gb,Kb,Xb,Zb,tw,rw,ow,iw,uw,dw,hw,mw,gw,vw,bw,ww,kw,xw,Iw,Ew,Nw,Cw,Aw,Ow,Fw,Pw,Lw,Ww,Bw,Uw,jv,jw,Hw,Vw,Gw,Kw,Yw,Xw,Zw,Jw,ek,tk,nk,rk,ok,ik,uk,ck,pk,fk,gk,vk,wk,Sk,Ik,_k,Nk,Rk,Fk,Dk,Pk,zk,Bk,jk,Hk,qk,Gk,Kk,Qk,Xk,Zk,tS,rS,aS,oS,sS,iS,mb,uS,dS,hS,mS,yS,bS,wS,kS,xS,_S,TS,NS,AS,MS,OS,RS,xb,Mk,FS,DS,$S,zS,jS,HS,qS,GS,KS,YS,QS,JS,ex,rx,sx,lx,ux,dx,px,hx,mx,yx,bx,kx,qv,xx,Ix,_x];for(const n of Ex)di(n);const Tx=jr();Tx.registerFlag("WASM_HAS_SIMD_SUPPORT",async()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}catch(fP){return!1}}),Tx.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",async()=>{if(Tx.get("IS_NODE"))return!1;try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(fP){return!1}});var Nx=n(9764),Cx=n.n(Nx),Ax=n(8562),Mx=n(1372),Ox=n.n(Mx);const Rx=Cx()||Nx,Fx=Ox()||Mx;class Dx extends dr{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(Hx),Vx=this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new cr(this,Nu())}write(e,t,n){const r={id:this.dataIdNextNumber++};return this.move(r,e,t,n,1),r}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const t=Ai();e();return{kernelMs:Ai()-t}}move(e,t,n,r,a){const o=this.dataIdNextNumber++;if("string"===r){const s=t;return void this.dataIdMap.set(e,{id:o,stringBytes:s,shape:n,dtype:r,memoryOffset:null,refCount:a})}const s=vr(n),i=s*Er(r),l=this.wasm._malloc(i)>>>0;this.dataIdMap.set(e,{id:o,memoryOffset:l,shape:n,dtype:r,refCount:a}),this.wasm.tfjs.registerTensor(o,s,l),null!=t&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,i),l)}async read(e){return this.readSync(e)}readSync(e,t,n){const{memoryOffset:r,dtype:a,shape:o,stringBytes:s}=this.dataIdMap.get(e);if("string"===a)return null!=t&&0!==t||!(null==n||n>=s.length)?s.slice(t,n):s;t=t||0,n=n||vr(o);const i=Er(a);return function(e,t){switch(t){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error(`Unknown dtype ${t}`)}}(this.wasm.HEAPU8.slice(r+t*i,r+n*i).buffer,a)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.dataIdMap.has(e)){const n=this.dataIdMap.get(e);if(n.refCount--,!t&&n.refCount>0)return!1;this.wasm._free(n.memoryOffset),this.wasm.tfjs.disposeData(n.id),this.dataIdMap.delete(e)}return!0}refCount(e){if(this.dataIdMap.has(e)){return this.dataIdMap.get(e).refCount}return 0}incRef(e){const t=this.dataIdMap.get(e);null!=t&&t.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,t,n,r){let a;if(null==n)a=this.write(null!==r&&void 0!==r?r:null,e,t);else{const r=this.dataIdNextNumber++;a={id:r},this.dataIdMap.set(a,{id:r,memoryOffset:n,shape:e,dtype:t,refCount:1});const o=vr(e);this.wasm.tfjs.registerTensor(r,o,n)}return{dataId:a,shape:e,dtype:t}}typedArrayFromHeap(e){let{shape:t,dtype:n,dataId:r}=e;const a=this.wasm.HEAPU8.buffer,{memoryOffset:o}=this.dataIdMap.get(r),s=vr(t);switch(n){case"float32":return new Float32Array(a,o,s);case"int32":return new Int32Array(a,o,s);case"bool":return new Uint8Array(a,o,s);default:throw new Error(`Unknown dtype ${n}`)}}}function Px(e){return(t,n)=>(function(e,t){return jr().platform.fetch(e,t)}(e,{credentials:"same-origin"}).then(r=>{r.ok||t.env.a(`failed to load wasm binary file at '${e}'`),r.arrayBuffer().then(e=>{WebAssembly.instantiate(e,t).then(e=>{n(e.instance,e.module)})})}),{})}function $x(e,t,n){if(null!=zx)return zx;let r="tfjs-backend-wasm.wasm";return e&&t?r="tfjs-backend-wasm-threaded-simd.wasm":e&&(r="tfjs-backend-wasm-simd.wasm"),null!=Bx&&null!=Bx[r]?Bx[r]:n+r}const Lx=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let zx=null,Wx=null,Bx={},Ux=!1,jx=!1;let Hx=-1,Vx=null;Ru("wasm",async()=>{const{wasm:e}=await async function(){const[e,t]=await Promise.all([jr().getAsync("WASM_HAS_SIMD_SUPPORT"),jr().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise((n,r)=>{const a={locateFile:(n,r)=>{if(n.endsWith(".worker.js")){const e=Ax.$.replace(/\n/g,"\\n"),t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}return n.endsWith(".wasm")?$x(e,t,null!=Wx?Wx:r):r+n}};jx&&(a.instantiateWasm=Px($x(e,t,null!=Wx?Wx:"")));let o,s=!1;a.onAbort=()=>{s||Ux||(Ux=!0,r({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"}))},t&&e&&null==zx?(a.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+Rx.toString()],{type:"text/javascript"}),o=Rx(a)):o=Fx(a),o.then(e=>{s=!0,Ux=!1,e.tfjs={init:e.cwrap("init",null,[]),initWithThreadsCount:e.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:e.cwrap("get_threads_count","number",[]),registerTensor:e.cwrap("register_tensor",null,["number","number","number"]),disposeData:e.cwrap("dispose_data",null,["number"]),dispose:e.cwrap("dispose",null,[])},n({wasm:e})}).catch(r)})}();return new Dx(e)},2);const qx=Mf;class Gx extends dr{nextDataId(){return Gx.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new cr(this,Nu())}write(e,t,n){this.firstUse&&(this.firstUse=!1,jr().get("IS_NODE")&&oi("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&Tr(n[0])){const a=n.map(e=>Mi(e));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return pg(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return function(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map(e=>Oi(e));return Iu(e.shape,e.dtype,n)}catch(_e){throw new Error("Failed to decode encoded string bytes into utf-8")}return Iu(e.shape,e.dtype,t)}makeOutput(e,t,n){return Nu().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=Ai();e();return{kernelMs:Ai()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){vb([e],"where");const t=this.readSync(e.dataId);return qx(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}function Kx(e){return(t,n,r)=>{const a=_r(n,t.length);for(let o=0;o<t.length;++o)a[o]=e(t[o],r);return a}}function Yx(e,t,n){return Qx(e,Kx(t),n)}function Qx(e,t,n){return r=>{let{inputs:a,attrs:o,backend:s}=r;const{x:i}=a;vb(i,e);const l=s,u=l.data.get(i.dataId).values;let c;if("string"===i.dtype){if(!Array.isArray(u))throw new Error("String tensor's value was not an instance of Array");c=Rg(u)}else c=u;const d=n||i.dtype,p=t(c,d,o);return l.makeTensorInfo(i.shape,d,p)}}Gx.nextDataId=0,Ru("cpu",()=>new Gx,1);const Xx=Yx(qa,e=>e>=0?e:Math.exp(e)-1),Jx={kernelName:qa,backendName:"cpu",kernelFunc:Xx};function Zx(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const eI={kernelName:lo,backendName:"cpu",kernelFunc:Zx};function tI(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:o}=r;vb([a],"leakyRelu");const s=vr(a.shape),i=n.data.get(a.dataId).values,l=Ir("float32",s);for(let u=0;u<i.length;u++)l[u]=i[u]<0?o*i[u]:i[u];return n.makeTensorInfo(a.shape,"float32",l)}const nI={kernelName:mo,backendName:"cpu",kernelFunc:tI};function rI(e){return(t,n,r,a,o)=>{const s=ec(t,n),i=s.length,l=Ar(s),u=Ir(o,vr(s)),c=t.length,d=n.length,p=Ar(t),h=Ar(n),f=Zu(t,s),m=Zu(n,s);if(f.length+m.length===0)for(let g=0;g<u.length;++g)u[g]=e(r[g%r.length],a[g%a.length]);else for(let g=0;g<u.length;++g){const t=Lr(g,i,l),n=t.slice(-c);f.forEach(e=>n[e]=0);const o=$r(n,c,p),s=t.slice(-d);m.forEach(e=>s[e]=0);const y=$r(s,d,h);u[g]=e(r[o],a[y])}return[u,s]}}const aI=rI((e,t)=>e<0?t*e:e);function oI(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t;vb([r,a],"prelu");const o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,[i,l]=aI(r.shape,a.shape,o,s,"float32");return n.makeTensorInfo(l,"float32",i)}const sI={kernelName:Qo,backendName:"cpu",kernelFunc:oI},iI=Yx(as,e=>Math.max(0,e)),lI={kernelName:as,backendName:"cpu",kernelFunc:iI},uI=Yx(cs,e=>Math.min(Math.max(0,e),6)),cI={kernelName:cs,backendName:"cpu",kernelFunc:uI},dI=(Kx(e=>1/(1+Math.exp(-e))),Yx(xs,e=>1/(1+Math.exp(-e)))),pI={kernelName:xs,backendName:"cpu",kernelFunc:dI};function hI(e,t,n,r,a){if("linear"===n)return Zx({inputs:{x:t},backend:e});if("relu"===n)return iI({inputs:{x:t},backend:e});if("elu"===n)return Xx({inputs:{x:t},backend:e});if("relu6"===n)return uI({inputs:{x:t},backend:e});if("prelu"===n)return oI({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return tI({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return dI({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function fI(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,i=n.makeTensorInfo(r.shape,"complex64");return n.data.get(i.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",o),imag:n.makeTensorInfo(a.shape,"float32",s)},i}const mI={kernelName:wa,backendName:"cpu",kernelFunc:fI};function gI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){return fI({inputs:{real:gI(e,t,"float32"),imag:gI(e,t,"float32")},backend:e})}const r=Fr(vr(t),n);return e.makeTensorInfo(t,n,r)}function yI(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.real,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}const vI={kernelName:ns,backendName:"cpu",kernelFunc:yI};function bI(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:o}=r;if("complex64"===o){if("complex64"===a.dtype)return Zx({inputs:{x:a},backend:n});const e=gI(n,a.shape,a.dtype),t=bI({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),r=fI({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===a.dtype){const e=yI({inputs:{input:a},backend:n}),t=bI({inputs:{x:e},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(e),t}if(s=a.dtype,"complex64"===(i=o)||"float32"===i&&"complex64"!==s||"int32"===i&&"float32"!==s&&"complex64"!==s||"bool"===i&&"bool"===s){const e=Zx({inputs:{x:a},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:o}}var s,i;const l=n.data.get(a.dataId).values,[u,c,d]=function(e,t,n,r){if("int32"===r)return[t,"int32",Int32Array.from(e)];if("bool"===r){const r=Ci([0],n),[a,o]=rI((e,t)=>e!==t?1:0)(t,[],e,r,"bool");return[o,"bool",a]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}(l,a.shape,a.dtype,o);return n.makeTensorInfo(u,c,d)}const wI={kernelName:ya,backendName:"cpu",kernelFunc:bI};function kI(e,t,n,r){return null==n?n=>{let{inputs:a,backend:o}=n;const{a:s,b:i}=a,l=o;vb([s,i],e);const u=l.data.get(s.dataId).values,c=l.data.get(i.dataId).values,d="string"===s.dtype?Rg(u):u,p="string"===s.dtype?Rg(c):c,h=r||s.dtype,[f,m]=t(s.shape,i.shape,d,p,h);return l.makeTensorInfo(m,h,f)}:e=>{let{inputs:a,backend:o}=e;const{a:s,b:i}=a,l=o;if("complex64"===s.dtype||"complex64"===i.dtype){const e=bI({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),t=l.data.get(e.dataId),r=t.complexTensorInfos.real,a=t.complexTensorInfos.imag,o=l.data.get(r.dataId).values,u=l.data.get(a.dataId).values,c=bI({inputs:{x:i},backend:l,attrs:{dtype:"complex64"}}),d=l.data.get(c.dataId),p=d.complexTensorInfos.real,h=d.complexTensorInfos.imag,f=l.data.get(p.dataId).values,m=l.data.get(h.dataId).values,[g,y,v]=n(s.shape,i.shape,o,u,f,m),b=l.makeTensorInfo(v,"float32",g),w=l.makeTensorInfo(v,"float32",y),k=fI({inputs:{real:b,imag:w},backend:l});return l.disposeIntermediateTensorInfo(e),l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(b),l.disposeIntermediateTensorInfo(w),k}{const e=l.data.get(s.dataId).values,n=l.data.get(i.dataId).values,a=r||s.dtype,[o,u]=t(s.shape,i.shape,e,n,a);return l.makeTensorInfo(u,a,o)}}}function SI(e){return(t,n,r,a,o,s)=>{const i=ec(t,n),l=vr(i),u=i.length,c=Ar(i),d=Ir("float32",l),p=Ir("float32",l),h=Zu(t,i),f=Zu(n,i),m=pg(r,a),g=pg(o,s),y=t.length,v=Ar(t),b=n.length,w=Ar(n);if(h.length+f.length===0)for(let k=0;k<d.length;k++){const t=k%m.length,n=k%g.length,r=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);d[k]=r.real,p[k]=r.imag}else for(let k=0;k<d.length;k++){const t=Lr(k,u,c),n=t.slice(-y);h.forEach(e=>n[e]=0);const r=$r(n,y,v),a=t.slice(-b);f.forEach(e=>a[e]=0);const o=$r(a,b,w),s=e(m[2*r],m[2*r+1],g[2*o],g[2*o+1]);d[k]=s.real,p[k]=s.imag}return[d,p,i]}}const xI=rI((e,t)=>e+t),II=SI((e,t,n,r)=>({real:e+n,imag:t+r})),_I=kI(Xr,xI,II),EI={kernelName:Xr,backendName:"cpu",kernelFunc:_I};function TI(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:o}=r,s=vr(a.shape),i=Sr(o,s),l=vr(i);mr(s===l,()=>`The new shape (${i}) has ${l} elements and the old shape (${a.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`),n.incRef(a.dataId);const u=n.data.get(a.dataId);if(null!=u.complexTensorInfos){const e=u.complexTensorInfos.real,t=u.complexTensorInfos.imag;e.shape=i,t.shape=i}return{dataId:a.dataId,shape:i,dtype:a.dtype}}const NI={kernelName:os,backendName:"cpu",kernelFunc:TI};function CI(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o}=t,{transposeA:s,transposeB:i}=r;vb([a,o],"matMul");const l=a.shape.length,u=o.shape.length,c=s?a.shape[l-2]:a.shape[l-1],d=i?o.shape[u-1]:o.shape[u-2],p=s?a.shape[l-1]:a.shape[l-2],h=i?o.shape[u-2]:o.shape[u-1],f=a.shape.slice(0,-2),m=o.shape.slice(0,-2),g=vr(f),y=vr(m),v=ec(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([p,h]);mr(c===d,()=>`Error in matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${a.shape} and ${o.shape} and transposeA=${s} and transposeB=${i} must match.`);const b=i?[y,h,d]:[y,d,h],w=TI({inputs:{x:a},backend:n,attrs:{shape:s?[g,c,p]:[g,p,c]}}),k=TI({inputs:{x:o},backend:n,attrs:{shape:b}}),S=s?w.shape[1]:w.shape[2],x=s?w.shape[2]:w.shape[1],I=i?k.shape[1]:k.shape[2],_=Math.max(g,y),E=n.data.get(w.dataId).values,T=n.data.get(k.dataId).values,N=Ar(w.shape),C=Ar(k.shape),[A,M,O]=s?[N[0],1,N[1]]:[N[0],N[1],1],[R,F,D]=i?[1,C[1],C[0]]:[C[1],1,C[0]],P=x*I,$=Iu([_,x,I],w.dtype),L=$.values,z=n.blockSize;for(let W=0;W<_;W++){const e=W%g,t=W%y;for(let n=0;n<x;n+=z){const r=Math.min(n+z,x);for(let a=0;a<I;a+=z){const o=Math.min(a+z,I);for(let s=0;s<S;s+=z){const i=Math.min(s+z,S);for(let l=n;l<r;l++)for(let n=a;n<o;n++){let r=0;for(let a=s;a<i;a++){r+=E[e*A+l*M+a*O]*T[a*R+n*F+t*D]}L[W*P+(l*I+n)]+=r}}}}}return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(k),n.makeTensorInfo(v,$.dtype,$.values)}const AI={kernelName:pa,backendName:"cpu",kernelFunc:CI};const MI={kernelName:ni,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:o,bias:s,preluActivationWeights:i}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;let p,h,f;const m=[];p=CI({inputs:{a:a,b:o},attrs:{transposeA:l,transposeB:u},backend:n}),s&&(h=_I({inputs:{a:p,b:s},backend:n}),m.push(p),p=h),c&&(f=hI(n,p,c,i,d),m.push(p),p=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return p}};const OI={kernelName:Kr,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;vb(t,"abs");let r=new Float32Array(vr(t.shape));return r=function(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},RI=Yx(Yr,e=>Math.acos(e)),FI={kernelName:Yr,backendName:"cpu",kernelFunc:RI},DI=Yx(Qr,e=>Math.acosh(e)),PI={kernelName:Qr,backendName:"cpu",kernelFunc:DI};const $I={kernelName:Jr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;vb(t,"addN");const a=r.map(e=>n.data.get(e.dataId).values),o=Iu(r[0].shape,r[0].dtype),s=o.values;for(let i=0;i<r.length;i++){const e=a[i];for(let t=0;t<s.length;t++)s[t]+=e[t]}return n.makeTensorInfo(o.shape,o.dtype,o.values)}};function LI(e,t,n,r,a){const o=t.length,s=vr(t),i=Ar(t),l=Ar(a),u=Ir(n,vr(a));for(let c=0;c<s;++c){const t=Lr(c,o,i),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];u[$r(n,o,l)]=e[c]}return u}function zI(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{perm:o}=n;vb(a,"transpose");const s=a.shape.length,i=new Array(s);for(let u=0;u<i.length;u++)i[u]=a.shape[o[u]];const l=LI(r.data.get(a.dataId).values,a.shape,a.dtype,o,i);return{dataId:r.write(l,i,a.dtype),shape:i,dtype:a.dtype}}const WI={kernelName:Ks,backendName:"cpu",kernelFunc:zI};const BI={kernelName:Zr,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:s}=r;vb(a,"all");const i=xr(o,a.shape);let l=i;const u=dp(l,a.shape.length);let c=a;null!=u&&(c=zI({inputs:{x:a},backend:n,attrs:{perm:u}}),l=hp(l.length,a.shape.length)),cp("all",l,c.shape.length);const[d,p]=lp(c.shape,l),h=vr(p),f=Fr(vr(d),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<f.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];t=t&&r}f[y]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(s){const e=TI({inputs:{x:g},backend:n,attrs:{shape:up(d,i)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const UI={kernelName:ea,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:s}=r;vb(a,"any");const i=xr(o,a.shape);let l=i;const u=dp(l,a.shape.length);let c=a;null!=u&&(c=zI({inputs:{x:a},backend:n,attrs:{perm:u}}),l=hp(l.length,a.shape.length)),cp("any",l,c.shape.length);const[d,p]=lp(c.shape,l),h=vr(p),f=Fr(vr(d),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<f.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];t=t||r}f[y]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(s){const e=TI({inputs:{x:g},backend:n,attrs:{shape:up(d,i)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const jI={kernelName:ta,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o}=r;vb(a,"argMax");let s=xr(o,a.shape);const i=dp(s,a.shape.length);let l=a;const u=[];null!=i&&(l=zI({inputs:{x:a},backend:n,attrs:{perm:i}}),u.push(l),s=hp(s.length,l.shape.length)),s=[s[0]],cp("argMax",s,l.shape.length);const[c,d]=lp(l.shape,s),p=Fr(vr(c),"int32"),h=vr(d),f=n.data.get(l.dataId).values;for(let m=0;m<p.length;++m){const e=m*h;let t=f[e],n=0;for(let r=0;r<h;++r){const a=f[e+r];a>t&&(t=a,n=r)}p[m]=n}return u.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.makeTensorInfo(c,"int32",p)}};const HI={kernelName:na,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o}=r;vb(a,"argMin");let s=xr(o,a.shape);const i=dp(s,a.shape.length);let l=a;const u=[];null!=i&&(l=zI({inputs:{x:a},backend:n,attrs:{perm:i}}),u.push(l),s=hp(s.length,l.shape.length)),s=[s[0]],cp("argMin",s,l.shape.length);const[c,d]=lp(l.shape,s),p=Fr(vr(c),"int32"),h=vr(d),f=n.data.get(l.dataId).values;for(let m=0;m<p.length;++m){const e=m*h;let t=f[e],n=0;for(let r=0;r<h;++r){const a=f[e+r];a<t&&(t=a,n=r)}p[m]=n}return u.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.makeTensorInfo(c,"int32",p)}},VI=Yx(ra,e=>Math.asin(e)),qI={kernelName:ra,backendName:"cpu",kernelFunc:VI},GI=Yx(aa,e=>Math.asinh(e)),KI={kernelName:aa,backendName:"cpu",kernelFunc:GI},YI=Yx(oa,e=>Math.atan(e)),QI={kernelName:oa,backendName:"cpu",kernelFunc:YI},XI=rI((e,t)=>Math.atan2(e,t)),JI=kI(ia,XI),ZI={kernelName:ia,backendName:"cpu",kernelFunc:JI},e_=Yx(sa,e=>Math.atanh(e)),t_={kernelName:sa,backendName:"cpu",kernelFunc:e_};function n_(e,t,n,r,a,o){const s=a.strideHeight,i=a.strideWidth,l=a.dilationHeight,u=a.dilationWidth,c=a.effectiveFilterHeight,d=a.effectiveFilterWidth,p=a.padInfo.top,h=a.padInfo.left,f="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=Iu(a.outShape,n),g=m.values,y=a.outShape[1]*a.outShape[2]*a.outShape[3],v=a.outShape[2]*a.outShape[3],b=a.outShape[3];for(let w=0;w<a.batchSize;++w){const t=w*y,n=w*r[0];for(let m=0;m<a.inChannels;++m)for(let y=0;y<a.outHeight;++y){const w=y*s-p,k=Math.max(0,w),S=Math.min(a.inHeight,c+w),x=t+y*v;for(let t=0;t<a.outWidth;++t){const s=t*i-h,c=Math.max(0,s),p=Math.min(a.inWidth,d+s);let y=f,v=0,w=0;for(let t=k;t<S;t+=l){const a=n+t*r[1];for(let t=c;t<p;t+=u){const n=e[a+t*r[2]+m];"max"===o&&n>y?y=n:"avg"===o&&(v+=n,w++)}if(isNaN(y))break}g[x+t*b+m]="avg"===o?v/w:y}}}return m}function r_(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=Iu(r.outShape,"int32"),i=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=r.padInfo.top,f=r.padInfo.left,m=Iu(t,n,e);for(let g=0;g<r.batchSize;++g)for(let e=0;e<r.inChannels;++e)for(let t=0;t<r.outHeight;++t){const n=t*i-h;let y=n;for(;y<0;)y+=u;const v=Math.min(r.inHeight,d+n);for(let i=0;i<r.outWidth;++i){const d=i*l-f;let h=d;for(;h<0;)h+=c;const b=Math.min(r.inWidth,p+d);let w=Number.NEGATIVE_INFINITY,k=-1;for(let t=y;t<v;t+=u){const s=t-n;for(let n=h;n<b;n+=c){const i=n-d,l=m.get(g,t,n,e);l>w&&(w=l,k=a?o?((g*r.inHeight+t)*r.inWidth+n)*r.inChannels+e:(t*r.inWidth+n)*r.inChannels+e:s*p+i)}}s.set(k,g,t,i,e)}}return s}function a_(e,t,n,r,a,o){const s=a.strideDepth,i=a.strideHeight,l=a.strideWidth,u=a.dilationDepth,c=a.dilationHeight,d=a.dilationWidth,p=a.effectiveFilterDepth,h=a.effectiveFilterHeight,f=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,y=a.padInfo.left,v="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=Iu(a.outShape,n),w=b.values,k=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],S=a.outShape[2]*a.outShape[3]*a.outShape[4],x=a.outShape[3]*a.outShape[4],I=a.outShape[4];for(let _=0;_<a.batchSize;++_){const t=_*k,n=_*r[0];for(let b=0;b<a.inChannels;++b)for(let k=0;k<a.outDepth;++k){const _=k*s-m;let E=_;for(;E<0;)E+=u;const T=Math.min(a.inDepth,p+_),N=t+k*S;for(let t=0;t<a.outHeight;++t){const s=t*i-g;let p=s;for(;p<0;)p+=c;const m=Math.min(a.inHeight,h+s),k=N+t*x;for(let t=0;t<a.outWidth;++t){const s=t*l-y;let i=s;for(;i<0;)i+=d;const h=Math.min(a.inWidth,f+s),g=k+t*I;let S=v,x=0,_=0;for(let t=E;t<T;t+=u){const a=n+t*r[1];for(let t=p;t<m;t+=c){const n=a+t*r[2];for(let t=i;t<h;t+=d){const a=e[n+t*r[3]+b];if("max"===o&&a>S?S=a:"avg"===o&&(x+=a,_++),isNaN(S))break}if(isNaN(S))break}if(isNaN(S))break}w[g+b]="avg"===o?x/Math.max(_,1):S}}}}return b}const o_={kernelName:la,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;vb(a,"avgPool");const{filterSize:o,strides:s,pad:i,dimRoundingMode:l}=r;mr(ud(s,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`);const u=Zc(a.shape,o,s,1,i,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&br(u.inShape,u.outShape))c=Zx({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=Ar(a.shape),r=n_(e,a.shape,a.dtype,t,u,"avg");c=n.makeTensorInfo(u.outShape,a.dtype,r.values)}return c}};const s_={kernelName:ca,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l,dataFormat:u}=r;vb(a,"avgPool3d");const c=ed(a.shape,o,s,1,i,l,u),d=a_(n.data.get(a.dataId).values,a.shape,a.dtype,Ar(a.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};const i_={kernelName:da,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=r;vb([a,o],"avgPool3DGrad");const c=ed(o.shape,s,i,1,l,u),d=c.strideDepth,p=c.strideHeight,h=c.strideWidth,f=c.filterDepth,m=c.filterHeight,g=c.filterWidth,y=c.dilationDepth,v=c.dilationHeight,b=c.dilationWidth,w=c.effectiveFilterDepth,k=c.effectiveFilterHeight,S=c.effectiveFilterWidth,x=w-1-c.padInfo.front,I=S-1-c.padInfo.left,_=k-1-c.padInfo.top,E=Iu(o.shape,"float32"),T=1/(f*m*g),N=n.bufferSync(a);for(let C=0;C<c.batchSize;++C)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inDepth;++t)for(let n=0;n<c.inHeight;++n)for(let r=0;r<c.inWidth;++r){const a=t-x,o=n-_,s=r-I;let i=0;for(let t=0;t<w;t+=y){const n=(a+t)/d;if(!(n<0||n>=c.outDepth||Math.floor(n)!==n))for(let t=0;t<k;t+=v){const r=(o+t)/p;if(!(r<0||r>=c.outHeight||Math.floor(r)!==r))for(let t=0;t<S;t+=b){const a=(s+t)/h;if(a<0||a>=c.outWidth||Math.floor(a)!==a)continue;i+=N.get(C,n,r,a,e)}}}E.set(i*T,C,t,n,r,e)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}};const l_={kernelName:ua,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,s=o;vb([a,o],"avgPoolGrad");const{filterSize:i,strides:l,pad:u}=r,c=Zc(s.shape,i,l,1,u),d=c.strideHeight,p=c.strideWidth,h=c.filterHeight,f=c.filterWidth,m=c.dilationHeight,g=c.dilationWidth,y=c.effectiveFilterHeight,v=c.effectiveFilterWidth,b=v-1-c.padInfo.left,w=y-1-c.padInfo.top,k=Iu(s.shape,"float32"),S=1/(h*f),x=n.data.get(a.dataId).values,I=Iu(a.shape,"float32",x);for(let _=0;_<c.batchSize;++_)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inHeight;++t)for(let n=0;n<c.inWidth;++n){const r=t-w,a=n-b;let o=0;for(let t=0;t<y;t+=m){const n=(r+t)/d;if(!(n<0||n>=c.outHeight||Math.floor(n)!==n))for(let t=0;t<v;t+=g){const r=(a+t)/p;if(r<0||r>=c.outWidth||Math.floor(r)!==r)continue;o+=I.get(_,n,r,e)}}k.set(o*S,_,t,n,e)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};const u_={kernelName:ro,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,scale:o,offset:s,mean:i,variance:l}=t;mr(i.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),mr(null==s||i.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),mr(null==o||i.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),vb([a,i,l,o,s],"batchNorm");let{varianceEpsilon:u}=r;null==u&&(u=.001);const c=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,p=n.data.get(l.dataId).values,h=o?n.data.get(o.dataId).values:new Float32Array([1]),f=s?n.data.get(s.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),g=f.length,y=h.length,v=p.length,b=d.length;let w=0,k=0,S=0,x=0;for(let I=0;I<c.length;++I)m[I]=f[w++]+(c[I]-d[k++])*h[S++]/Math.sqrt(p[x++]+u),w>=g&&(w=0),k>=b&&(k=0),S>=y&&(S=0),x>=v&&(x=0);return n.makeTensorInfo(a.shape,a.dtype,m)}};const c_={kernelName:ha,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,crops:s}=r;vb([a],"batchToSpaceND");const i=o.reduce((e,t)=>e*t),l=ig(a.shape,o,i),u=lg(l.length,o.length),c=ug(a.shape,o,i),d=cg(s,o.length),p=dg(c,s,o.length),h=TI({inputs:{x:a},backend:n,attrs:{shape:l}}),f=zI({inputs:{x:h},backend:n,attrs:{perm:u}}),m=TI({inputs:{x:f},backend:n,attrs:{shape:c}}),g=wb({inputs:{x:m},backend:n,attrs:{begin:d,size:p}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};function d_(e,t,n,r,a){const o=vr(r),s=Fr(a,n);for(let i=0;i<e.length;i++){const n=e[i];if(n<0)throw new Error("Input x must be non-negative!");n>=a||(s[n]+=o>0?t[i]:1)}return s}const p_={kernelName:fa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:o}=t,{size:s}=r,i=d_(n.data.get(a.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,i)}},h_=rI((e,t)=>e&t),f_=kI(ma,h_),m_={kernelName:ma,backendName:"cpu",kernelFunc:f_};const g_={kernelName:ga,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,i=ec(Array.from(o),Array.from(s));return n.makeTensorInfo([i.length],"int32",Int32Array.from(i))}},y_=Kx(e=>Math.ceil(e)),v_=Qx(va,y_),b_={kernelName:va,backendName:"cpu",kernelFunc:v_},w_=Yx(ba,(e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e}),k_={kernelName:ba,backendName:"cpu",kernelFunc:w_},S_={kernelName:ka,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(vr(t.shape)),a=n.data.get(t.dataId),o=a.complexTensorInfos.real,s=a.complexTensorInfos.imag,i=n.data.get(o.dataId).values,l=n.data.get(s.dataId).values;for(let u=0;u<i.length;u++){const e=i[u],t=l[u];r[u]=Math.hypot(e,t)}return n.makeOutput(r,t.shape,"float32")}};function x_(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.imag,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}const I_={kernelName:co,backendName:"cpu",kernelFunc:x_};function __(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,o=xr(a,t[0].shape)[0],s=t.map(e=>e.shape);rg(s,o);let i=ag(t.map(e=>e.shape),o);if(0===vr(i))return n.makeTensorInfo(i,t[0].dtype,[]);const l=t.filter(e=>vr(e.shape)>0);if(1===l.length)return Zx({inputs:{x:l[0]},backend:n});if("complex64"===l[0].dtype){const e=l.map(e=>yI({inputs:{input:e},backend:n})),t=l.map(e=>x_({inputs:{input:e},backend:n})),r=__({inputs:e,backend:n,attrs:{axis:o}}),a=__({inputs:t,backend:n,attrs:{axis:o}}),s=fI({inputs:{real:r,imag:a},backend:n});return e.forEach(e=>n.disposeIntermediateTensorInfo(e)),t.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),s}const u=l.map(e=>{const t=vr(e.shape.slice(o));return TI({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})}),c=u.map(e=>({vals:n.data.get(e.dataId).values,shape:e.shape}));i=ag(u.map(e=>e.shape),1);const d=1===u[0].shape[0],p=Fb(c,i,t[0].dtype,d),h=ag(l.map(e=>e.shape),o),f=n.makeTensorInfo(h,t[0].dtype,p);return u.forEach(e=>n.disposeIntermediateTensorInfo(e)),f}const E_={kernelName:Sa,backendName:"cpu",kernelFunc:__};function T_(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:s,pad:i,dataFormat:l,dilations:u,dimRoundingMode:c}=r;vb([a,o],"conv2d");const d=dd(l),p=td(a.shape,o.shape,s,u,i,c,!1,d),h=p.filterHeight,f=p.filterWidth,m=p.dilationHeight,g=p.dilationWidth,y=p.padInfo.left,v=p.padInfo.top,b="channelsLast"===p.dataFormat,w=new ji(p.outShape,a.dtype),k=Ar(a.shape),S=Ar(o.shape),x=k[0],I=b?k[1]:k[2],_=b?k[2]:1,E=b?1:k[1],T=w.strides[0],N=b?w.strides[1]:w.strides[2],C=b?w.strides[2]:1,A=b?1:w.strides[1],M=n.data.get(a.dataId).values,O=n.data.get(o.dataId).values,R=w.values;for(let F=0;F<p.batchSize;++F){const e=F*x,t=F*T;for(let n=0;n<p.outHeight;++n){const r=t+n*N,a=n*p.strideHeight-v;for(let t=0;t<h;++t){const n=a+t*m;if(n<0||n>=p.inHeight)continue;const o=t*S[0],s=e+n*I;for(let e=0;e<p.outWidth;++e){const t=r+e*C,n=e*p.strideWidth-y;for(let e=0;e<f;++e){const r=n+e*g;if(r<0||r>=p.inWidth)continue;const a=s+r*_;let i=o+e*S[1];for(let e=0;e<p.inChannels;++e){const n=M[a+e*E];for(let e=0;e<p.outChannels;++e)R[t+e*A]+=n*O[i+e];i+=p.outChannels}}}}}}return n.makeTensorInfo(w.shape,w.dtype,R)}const N_={kernelName:xa,backendName:"cpu",kernelFunc:T_};const C_={kernelName:Ia,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:o}=t,{strides:s,pad:i,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;vb([a,o],"conv2dBackpropFilter");const d=dd(l),p=td(a.shape,c,s,1,i,u,!1,d),{strideHeight:h,strideWidth:f,filterHeight:m,filterWidth:g}=p,y="channelsLast"===p.dataFormat,v=new ji(p.filterShape,"float32"),b=p.padInfo.left,w=p.padInfo.top,k=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,x=new ji(a.shape,a.dtype,k),I=new ji(o.shape,o.dtype,S);for(let _=0;_<m;++_){const e=Math.max(0,Math.ceil((w-_)/h)),t=Math.min(p.outHeight,(p.inHeight+w-_)/h);for(let n=0;n<g;++n){const r=Math.max(0,Math.ceil((b-n)/f)),a=Math.min(p.outWidth,(p.inWidth+b-n)/f);for(let o=0;o<p.inChannels;++o)for(let s=0;s<p.outChannels;++s){let i=0;for(let l=0;l<p.batchSize;++l)for(let u=e;u<t;++u){const e=_+u*h-w;for(let t=r;t<a;++t){const r=n+t*f-b;i+=y?x.get(l,e,r,o)*I.get(l,u,t,s):x.get(l,o,e,r)*I.get(l,s,u,t)}}v.set(i,_,n,o,s)}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const A_={kernelName:_a,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:o}=t,{inputShape:s,strides:i,pad:l,dataFormat:u,dimRoundingMode:c}=r;vb([a,o],"conv2dBackpropInput");const d=Ar(o.shape),p=Ar(a.shape);let h=dd(u);const f=td(s,o.shape,i,1,l,c,!1,h),m=new ji(f.inShape,"float32"),g=m.values,y=n.data.get(a.dataId).values,v=n.data.get(o.dataId).values,[b,w,k]=d,{batchSize:S,filterHeight:x,filterWidth:I,inChannels:_,inHeight:E,inWidth:T,outChannels:N,outHeight:C,outWidth:A,strideHeight:M,strideWidth:O}=f;h=f.dataFormat;const R=x-1-f.padInfo.top,F=I-1-f.padInfo.left,D="channelsLast"===h,P=m.strides[0],$=D?m.strides[1]:m.strides[2],L=D?m.strides[2]:1,z=D?1:m.strides[1],W=p[0],B=D?p[1]:p[2],U=D?p[2]:1,j=D?1:p[1];for(let H=0;H<S;++H)for(let e=0;e<_;++e)for(let t=0;t<E;++t){const n=t-R,r=Math.max(0,Math.ceil(n/M)),a=Math.min(C,(x+n)/M);for(let o=0;o<T;++o){const s=o-F,i=Math.max(0,Math.ceil(s/O)),l=Math.min(A,(I+s)/O);let u=0;for(let t=r;t<a;++t){const r=t*M-n;for(let n=i;n<l;++n){const a=W*H+B*t+U*n,o=b*(x-1-r)+w*(I-1-(n*O-s))+k*e;for(let e=0;e<N;++e){u+=y[a+j*e]*v[o+e]}}}g[P*H+$*t+L*o+z*e]=u}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const M_={kernelName:Ea,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:s,pad:i,dilations:l}=r;vb([a,o],"conv3d");const u=nd(a.shape,o.shape,s,l,i),{filterDepth:c,filterHeight:d,filterWidth:p,dilationDepth:h,dilationHeight:f,dilationWidth:m,padInfo:g}=u,y=g.front,v=g.left,b=g.top,w=new ji(u.outShape,a.dtype),k=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,x=w.values,I=Ar(a.shape),_=Ar(o.shape);for(let E=0;E<u.batchSize;++E){const e=E*I[0],t=E*w.strides[0];for(let n=0;n<u.outDepth;++n){const r=t+n*w.strides[1],a=n*u.strideDepth-y;for(let t=0;t<c;++t){const n=a+t*h;if(n<0||n>=u.inDepth)continue;const o=t*_[0],s=e+n*I[1];for(let e=0;e<u.outHeight;++e){const t=r+e*w.strides[2],n=e*u.strideHeight-b;for(let e=0;e<d;++e){const r=n+e*f;if(r<0||r>=u.inHeight)continue;const a=o+e*_[1],i=s+r*I[2];for(let e=0;e<u.outWidth;++e){const n=t+e*u.outChannels,r=e*u.strideWidth-v;for(let e=0;e<p;++e){const t=r+e*m;if(t<0||t>=u.inWidth)continue;const o=a+e*_[2],s=i+t*u.inChannels;let l=o;for(let e=0;e<u.inChannels;++e){const t=k[s+e];for(let e=0;e<u.outChannels;++e)x[n+e]+=t*S[l+e];l+=u.outChannels}}}}}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const O_={kernelName:Ta,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:o}=t,{strides:s,pad:i,filterShape:l}=r;vb([a,o],"conv3dBackpropFilterV2");const u=Ar(a.shape),c=Ar(o.shape),d=nd(a.shape,l,s,1,i),p=d.strideDepth,h=d.strideHeight,f=d.strideWidth,m=d.filterDepth,g=d.filterHeight,y=d.filterWidth,v=new ji(d.filterShape,"float32"),b=v.values,[w,k,S,x]=v.strides,I=n.data.get(o.dataId).values,[_,E,T,N]=c,C=n.data.get(a.dataId).values,[A,M,O,R]=u,F=d.padInfo.front,D=d.padInfo.left,P=d.padInfo.top;for(let $=0;$<m;++$){const e=Math.max(0,Math.ceil((F-$)/p)),t=Math.min(d.outDepth,(d.inDepth+F-$)/p),n=$*w;for(let r=0;r<g;++r){const a=Math.max(0,Math.ceil((P-r)/h)),o=Math.min(d.outHeight,(d.inHeight+P-r)/h),s=r*k+n;for(let n=0;n<y;++n){const i=Math.max(0,Math.ceil((D-n)/f)),l=Math.min(d.outWidth,(d.inWidth+D-n)/f),u=n*S+s;for(let s=0;s<d.inChannels;++s){const c=s*x+u;for(let u=0;u<d.outChannels;++u){let m=0;for(let c=0;c<d.batchSize;++c){const d=c*A,g=c*_;for(let c=e;c<t;++c){const e=($+c*p-F)*M+d,t=c*E+g;for(let c=a;c<o;++c){const a=(r+c*h-P)*O+e,o=c*T+t;for(let e=i;e<l;++e){const t=e*N+o;m+=C[(n+e*f-D)*R+a+s]*I[t+u]}}}}b[c+u]=m}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const R_={kernelName:Na,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:o}=t,{pad:s,strides:i,inputShape:l}=r;vb([a],"conv3dBackpropInputV2");const u=Ar(a.shape),c=Ar(o.shape),d=nd(l,o.shape,i,1,s),p=new ji(d.inShape,"float32"),h=p.values,[f,m,g,y]=p.strides,v=n.data.get(a.dataId).values,[b,w,k,S]=u,x=n.data.get(o.dataId).values,[I,_,E,T]=c,{batchSize:N,filterDepth:C,filterHeight:A,filterWidth:M,inChannels:O,inDepth:R,inHeight:F,inWidth:D,outChannels:P,outDepth:$,outHeight:L,outWidth:z,strideDepth:W,strideHeight:B,strideWidth:U}=d,j=C-1-d.padInfo.front,H=A-1-d.padInfo.top,V=M-1-d.padInfo.left;for(let q=0;q<N;++q)for(let e=0;e<O;++e)for(let t=0;t<R;++t){const n=t-j,r=Math.max(0,Math.ceil(n/W)),a=Math.min($,(C+n)/W);for(let o=0;o<F;++o){const s=o-H,i=Math.max(0,Math.ceil(s/B)),l=Math.min(L,(A+s)/B);for(let u=0;u<D;++u){const c=u-V,d=Math.max(0,Math.ceil(c/U)),p=Math.min(z,(M+c)/U);let N=0;for(let t=r;t<a;++t){const r=t*W-n;for(let n=i;n<l;++n){const a=n*B-s;for(let o=d;o<p;++o){const s=b*q+w*t+k*n+S*o,i=I*(C-1-r)+_*(A-1-a)+E*(M-1-(o*U-c))+T*e;for(let e=0;e<P;++e){N+=v[s+e]*x[i+e]}}}}h[f*q+m*t+g*o+y*u+e]=N}}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},F_=Yx(Ca,e=>Math.cos(e)),D_={kernelName:Ca,backendName:"cpu",kernelFunc:F_},P_=Yx(Aa,e=>Math.cosh(e)),$_={kernelName:Aa,backendName:"cpu",kernelFunc:P_};const L_={kernelName:Ra,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:o,boxInd:s}=t,{cropSize:i,method:l,extrapolationValue:u}=r,[c,d,p,h]=a.shape,f=o.shape[0],[m,g]=i,y=Iu([f,m,g,h],"float32"),v=n.data.get(o.dataId).values,b=n.data.get(s.dataId).values,w=n.data.get(a.dataId).values,k=Ar(a.shape),S=Ar(y.shape);for(let x=0;x<f;x++){const e=4*x,t=v[e],n=v[e+1],r=v[e+2],a=v[e+3],o=b[x];if(o>=c)continue;const s=m>1?(r-t)*(d-1)/(m-1):0,i=g>1?(a-n)*(p-1)/(g-1):0;for(let c=0;c<m;c++){const e=m>1?t*(d-1)+c*s:.5*(t+r)*(d-1);if(e<0||e>d-1)for(let t=0;t<g;t++)for(let e=0;e<h;e++){const n=e+t*S[2]+c*S[1]+x*S[0];y.values[n]=u}else if("bilinear"===l){const t=Math.floor(e),r=Math.ceil(e),s=e-t;for(let e=0;e<g;e++){const l=g>1?n*(p-1)+e*i:.5*(n+a)*(p-1);if(l<0||l>p-1){for(let t=0;t<h;t++){const n=t+e*S[2]+c*S[1]+x*S[0];y.values[n]=u}continue}const d=Math.floor(l),f=Math.ceil(l),m=l-d;for(let n=0;n<h;n++){let a=n+d*k[2]+t*k[1]+o*k[0];const i=w[a];a=n+f*k[2]+t*k[1]+o*k[0];const l=w[a];a=n+d*k[2]+r*k[1]+o*k[0];const u=w[a];a=n+f*k[2]+r*k[1]+o*k[0];const p=i+(l-i)*m,h=u+(w[a]-u)*m;a=n+e*S[2]+c*S[1]+x*S[0],y.values[a]=p+(h-p)*s}}}else for(let t=0;t<g;++t){const r=g>1?n*(p-1)+t*i:.5*(n+a)*(p-1);if(r<0||r>p-1){for(let e=0;e<h;e++){const n=e+t*S[2]+c*S[1]+x*S[0];y.values[n]=u}continue}const s=Math.round(r),l=Math.round(e);for(let e=0;e<h;e++){const n=e+s*k[2]+l*k[1]+o*k[0],r=e+t*S[2]+c*S[1]+x*S[0];y.values[r]=w[n]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const z_={kernelName:Ma,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,exclusive:s,reverse:i}=r;vb(a,"cumprod");const l=dp([o],a.shape.length);let u=a;null!=l&&(u=zI({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=hp(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const d=tl(u.dtype,"int32"),p=Rr(vr(u.shape),d),h=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],m=i?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<h.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)p[t]=s?1:h[t];else{const n=m(y,e-1);p[t]=s?h[n]*p[n]:h[t]*p[n]}}const g=n.makeTensorInfo(u.shape,d,p);if(null!=l){const e=zI({inputs:{x:g},backend:n,attrs:{perm:pp(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const W_={kernelName:Oa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,exclusive:s,reverse:i}=r;vb(a,"cumsum");const l=dp([o],a.shape.length);let u=a;null!=l&&(u=zI({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=hp(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const d=tl(u.dtype,"int32"),p=Fr(vr(u.shape),d),h=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],m=i?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<h.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)p[t]=s?0:h[t];else{const n=m(y,e-1);p[t]=s?h[n]+p[n]:h[t]+p[n]}}const g=n.makeTensorInfo(u.shape,d,p);if(null!=l){const e=zI({inputs:{x:g},backend:n,attrs:{perm:pp(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const B_={kernelName:Fa,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:o}=t,{size:s,binaryOutput:i}=r;if(1===a.shape.length){const e=d_(n.data.get(a.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,e)}if(2===a.shape.length){const e=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e.shape[0],o=e.shape[1],s=Iu([a,n],t.dtype);for(let i=0;i<a;i++)for(let a=0;a<o;a++){const o=e.get(i,a);if(o<0)throw new Error("Input x must be non-negative!");o>=n||(r?s.set(1,i,o):t.size>0?s.set(s.get(i,o)+t.get(i,a),i,o):s.set(s.get(i,o)+1,i,o))}return s}(n.bufferSync(a),n.bufferSync(o),s,i);return n.makeTensorInfo(e.shape,o.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}};const U_={kernelName:Da,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:o,dataFormat:s}=r;mr("NHWC"===s,()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${s}`);const i=a.shape[0],l=a.shape[1],u=a.shape[2],c=a.shape[3],d=l*o,p=u*o,h=c/(o*o),f=n.data.get(a.dataId).values,m=new Float32Array(i*d*p*h);let g=0;for(let y=0;y<i;++y)for(let e=0;e<d;++e){const t=Math.floor(e/o),n=e%o;for(let e=0;e<p;++e){const r=Math.floor(e/o),a=(n*o+e%o)*h;for(let e=0;e<h;++e){const n=e+a+c*(r+u*(t+l*y));m[g++]=f[n]}}}return n.makeTensorInfo([i,d,p,h],a.dtype,m)}};function j_(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o}=t,{strides:s,pad:i,dilations:l,dimRoundingMode:u}=r;vb([a,o],"depthwiseConv2DNative");const c=Ar(a.shape),d=Ar(o.shape);let p=l;null==p&&(p=[1,1]),mr(ud(s,p),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${p}'`);const h=td(a.shape,o.shape,s,p,i,u,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:y,padInfo:v}=h,b=v.left,w=v.top,k=h.outChannels/h.inChannels,S=new ji(h.outShape,a.dtype),x=n.data.get(a.dataId).values,I=n.data.get(o.dataId).values,_=S.values;for(let E=0;E<h.batchSize;++E){const e=E*c[0],t=E*S.strides[0];for(let n=0;n<h.outHeight;++n){const r=t+n*S.strides[1],a=n*h.strideHeight-w;for(let t=0;t<f;++t){const n=a+t*g;if(n<0||n>=h.inHeight)continue;const o=t*d[0],s=e+n*c[1];for(let e=0;e<h.outWidth;++e){const t=r+e*S.strides[2],n=e*h.strideWidth-b;for(let e=0;e<m;++e){const r=n+e*y;if(r<0||r>=h.inWidth)continue;const a=o+e*d[1],i=s+r*h.inChannels;let l=t,u=a;for(let e=0;e<h.inChannels;++e){const t=x[i+e];for(let e=0;e<k;++e)_[l+e]+=t*I[u+e];l+=k,u+=k}}}}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}const H_={kernelName:Pa,backendName:"cpu",kernelFunc:j_};const V_={kernelName:$a,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:o}=t,{strides:s,dilations:i,pad:l,dimRoundingMode:u,filterShape:c}=r;vb([a,o],"depthwiseConv2dNativeBackpropFilter");const d=td(a.shape,c,s,i,l,u,!0),{strideHeight:p,strideWidth:h,filterHeight:f,filterWidth:m}=d,g=new ji(d.filterShape,"float32"),y=d.padInfo.left,v=d.padInfo.top,b=d.outChannels/d.inChannels,w=n.data.get(a.dataId).values,k=new ji(a.shape,a.dtype,w),S=n.data.get(o.dataId).values,x=new ji(o.shape,o.dtype,S);for(let I=0;I<f;++I){const e=Math.max(0,Math.ceil((v-I)/p)),t=Math.min(d.outHeight,(d.inHeight+v-I)/p);for(let n=0;n<m;++n){const r=Math.max(0,Math.ceil((y-n)/h)),a=Math.min(d.outWidth,(d.inWidth+y-n)/h);for(let o=0;o<d.outChannels;++o){const s=Math.trunc(o/b),i=o%b;let l=0;for(let u=0;u<d.batchSize;++u)for(let i=e;i<t;++i){const e=I+i*p-v;for(let t=r;t<a;++t){const r=n+t*h-y;l+=k.get(u,e,r,s)*x.get(u,i,t,o)}}g.set(l,I,n,s,i)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const q_={kernelName:La,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:o}=t,{strides:s,dilations:i,pad:l,dimRoundingMode:u,inputShape:c}=r;vb([a,o],"depthwiseConv2DNativeBackpropInput");const d=Ar(a.shape),p=Ar(o.shape),h=td(c,o.shape,s,i,l,u,!0),f=new ji(h.inShape,"float32"),m=f.values,[g,y,v]=f.strides,b=n.data.get(a.dataId).values,[w,k,S]=d,x=n.data.get(o.dataId).values,[I,_,E]=p,{batchSize:T,filterHeight:N,filterWidth:C,inChannels:A,inHeight:M,inWidth:O,outChannels:R,outHeight:F,outWidth:D,strideHeight:P,strideWidth:$}=h,L=N-1-h.padInfo.top,z=C-1-h.padInfo.left,W=R/A;for(let B=0;B<T;++B)for(let e=0;e<A;++e)for(let t=0;t<M;++t){const n=t-L,r=Math.max(0,Math.ceil(n/P)),a=Math.min(F,(N+n)/P);for(let o=0;o<O;++o){const s=o-z,i=Math.max(0,Math.ceil(s/$)),l=Math.min(D,(C+s)/$);let u=0;for(let t=r;t<a;++t){const r=t*P-n;for(let n=i;n<l;++n){const a=w*B+k*t+S*n,o=I*(N-1-r)+_*(C-1-(n*$-s))+E*e;for(let t=0;t<W;++t){u+=b[a+(e*W+t)]*x[o+t]}}}m[g*B+y*t+v*o+e]=u}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const G_={kernelName:za,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=vr(r.shape),o=n.data.get(r.dataId).values,s=Iu([a,a],r.dtype),i=s.values;for(let u=0;u<o.length;u++)i[u*a+u]=o[u];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,s.dtype,s.values)}},K_={kernelName:Wa,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:o}=t,{strides:s,pad:i,dilations:l}=r,u=n,c=u.data.get(a.dataId).values,d=a.shape.length,p=u.data.get(o.dataId).values,h=o.shape.length,{batchSize:f,inHeight:m,inWidth:g,inChannels:y,outHeight:v,outWidth:b,padInfo:w,strideHeight:k,strideWidth:S,filterHeight:x,filterWidth:I,dilationHeight:_,dilationWidth:E,outShape:T}=Jc(a.shape,o.shape,s,i,"NHWC",l),N=vr(T),C=T.length,A=_r(a.dtype,N);for(let M=0;M<f;++M)for(let e=0;e<v;++e){const t=e*k-w.top;for(let n=0;n<b;++n){const r=n*S-w.left;for(let s=0;s<y;++s){let i=Number.MIN_SAFE_INTEGER;for(let e=0;e<x;++e){const n=t+e*_;if(n>=0&&n<m)for(let t=0;t<I;++t){const l=r+t*E;if(l>=0&&l<g){const r=$r([M,n,l,s],d,Ar(a.shape)),u=$r([e,t,s],h,Ar(o.shape)),f=c[r]+p[u];f>i&&(i=f)}}}A[$r([M,e,n,s],C,Ar(T))]=i}}}return{dataId:u.write(Ci(A,a.dtype),T,a.dtype),shape:T,dtype:a.dtype}}},Y_={kernelName:Ua,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:o,dy:s}=t,{strides:i,pad:l,dilations:u}=r,c=n,d=Or(a.shape,c.data.get(a.dataId).values),p=Or(o.shape,c.data.get(o.dataId).values),{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:v,padInfo:b,strideHeight:w,strideWidth:k,filterHeight:S,filterWidth:x,dilationHeight:I,dilationWidth:_,outShape:E}=Jc(a.shape,o.shape,i,l,"NHWC",u);mr(s.rank===E.length,()=>`Error in ${Ua}, dy must have the same rank as output ${E.length}, but got ${s.rank}`);const T=Or(E,c.data.get(s.dataId).values),N=Dr(o.shape,o.dtype);for(let C=0;C<h;++C)for(let e=0;e<y;++e){const t=e*w-b.top;for(let n=0;n<v;++n){const r=n*k-b.left;for(let a=0;a<g;++a){let o=Number.MIN_SAFE_INTEGER,s=0,i=0;for(let e=0;e<S;++e){const n=t+e*I;if(n>=0&&n<f)for(let t=0;t<x;++t){const l=r+t*_;if(l>=0&&l<m){const r=d[C][n][l][a]+p[e][t][a];r>o&&(o=r,s=e,i=t)}}}N[s][i][a]+=T[C][e][n][a]}}}return{dataId:c.write(Ci(N,a.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},Q_={kernelName:Ba,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:o,dy:s}=t,{strides:i,pad:l,dilations:u}=r,c=n,d=Or(a.shape,c.data.get(a.dataId).values),p=Or(o.shape,c.data.get(o.dataId).values),{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:v,padInfo:b,strideHeight:w,strideWidth:k,filterHeight:S,filterWidth:x,dilationHeight:I,dilationWidth:_,outShape:E}=Jc(a.shape,o.shape,i,l,"NHWC",u);mr(s.rank===E.length,()=>`Error in ${Ba}, dy must have the same rank as output ${E.length}, but got ${s.rank}`);const T=Or(E,c.data.get(s.dataId).values),N=Dr(a.shape,a.dtype);for(let C=0;C<h;++C)for(let e=0;e<y;++e){const t=e*w-b.top;for(let n=0;n<v;++n){const r=n*k-b.left;for(let a=0;a<g;++a){let o=Number.MIN_SAFE_INTEGER,s=t<0?0:t,i=r<0?0:r;for(let e=0;e<S;++e){const n=t+e*I;if(n>=0&&n<f)for(let t=0;t<x;++t){const l=r+t*_;if(l>=0&&l<m){const r=d[C][n][l][a]+p[e][t][a];r>o&&(o=r,s=n,i=l)}}}N[C][s][i][a]+=T[C][e][n][a]}}}return{dataId:c.write(Ci(N,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};const X_={kernelName:ja,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{canvas:o,options:s}=r,{contextOptions:i,imageOptions:l}=s||{},u=(null===l||void 0===l?void 0:l.alpha)||1,c=(null===i||void 0===i?void 0:i.contextType)||"2d";if("2d"!==c)throw new Error(`Context type ${i.contextType} is not supported by the CPU backend.`);const d=o.getContext(c,(null===i||void 0===i?void 0:i.contextAttributes)||{});if(null==d)throw new Error(`Could not get the context with ${c} type.`);const[p,h]=a.shape.slice(0,2),f=2===a.shape.length?1:a.shape[2],m=n.data.get(a.dataId).values,g="float32"===a.dtype?255:1,y=new Uint8ClampedArray(h*p*4);for(let b=0;b<p*h;++b){const e=[0,0,0,255*u];for(let n=0;n<f;n++){const t=m[b*f+n];if("float32"===a.dtype){if(t<0||t>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${t}.`)}else if("int32"===a.dtype&&(t<0||t>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${t}.`);1===f?(e[0]=t*g,e[1]=t*g,e[2]=t*g):e[n]=t*g}const t=4*b;y[t+0]=Math.round(e[0]),y[t+1]=Math.round(e[1]),y[t+2]=Math.round(e[2]),y[t+3]=Math.round(e[3])}o.width=h,o.height=p;const v=new ImageData(y,h,p);return d.putImageData(v,0,0),a}},J_=rI((e,t)=>e*t),Z_=SI((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n})),eE=kI(zo,J_,Z_),tE={kernelName:zo,backendName:"cpu",kernelFunc:eE};function nE(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:s}=r;let i;vb(a,"sum"),i="bool"===a.dtype?bI({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):Zx({inputs:{x:a},backend:n});const l=i.shape.length,u=xr(o,i.shape),c=dp(u,l);let d=u,p=i;null!=c&&(p=zI({inputs:{x:i},backend:n,attrs:{perm:c}}),d=hp(d.length,l)),cp("sum",d,p.shape.length);const[h,f]=lp(p.shape,d);let m=gI(n,h,tl(p.dtype,"int32"));const g=vr(f),y=n.data.get(m.dataId).values,v=n.data.get(p.dataId).values;for(let b=0;b<y.length;++b){const e=b*g;let t=0;for(let n=0;n<g;++n)t+=v[e+n];y[b]=t}if(s){const e=m;m=TI({inputs:{x:m},backend:n,attrs:{shape:up(m.shape,u)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(i),null!=c&&n.disposeIntermediateTensorInfo(p),m}const rE={kernelName:Es,backendName:"cpu",kernelFunc:nE};const aE={kernelName:Va,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,o=t,{allDims:s,summedDims:i,idDims:l}=function(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(yg,"").length)/2;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${gg}").`);const[r,a]=e.split(gg);mr(-1===r.indexOf("..."),()=>'The ellipsis notation ("...") is not supported yet.');const o=r.split(","),s=o.length;if(t!==s)throw new Error(`Expected ${s} input tensors, received ${t}`);if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const i=[];for(let d=0;d<a.length;++d){const e=a[d];if(!o.some(t=>-1!==t.indexOf(e)))throw new Error(`Output subscripts contain the label ${e} not present in the input subscripts.`);-1===i.indexOf(e)&&i.push(e)}for(let d=0;d<r.length;++d){const e=r[d];-1===i.indexOf(e)&&","!==e&&i.push(e)}const l=new Array(o.length);for(let d=0;d<s;++d){if(new Set(o[d].split("")).size!==o[d].length)throw new Error(`Found duplicate axes in input component ${o[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let e=0;e<o[d].length;++e)l[d].push(i.indexOf(o[d][e]))}const u=i.length,c=[];for(let d=a.length;d<u;++d)c.push(d);return{allDims:i,summedDims:c,idDims:l}}(a,o.length);!function(e,t,n){const r=new Array(e);for(let a=0;a<n.length;++a){const e=n[a].shape;for(let n=0;n<t[a].length;++n)void 0===r[t[a][n]]?r[t[a][n]]=e[n]:mr(r[t[a][n]]===e[n],()=>`Expected dimension ${r[t[a][n]]} at axis ${n} of input shaped ${JSON.stringify(e)}, but got dimension ${e[n]}`)}}(s.length,l,o);const{path:u,steps:c}=function(e,t){const n=e,r=[];let a=0;0===e.length&&n.push(-1),a=e.length+1;for(let s=0;s<a;++s)r.push([]);const o=[];for(let s=0;s<n.length;++s){const e=wg(t,n[s]);for(const t of e)-1===o.indexOf(t)&&(r[s].push(t),o.push(t))}return{path:n,steps:r}}(i,l),d=c.length;let p=null,h=s.length;const f=[];for(let m=0;m<d;++m){for(const e of c[m]){const{permutationIndices:t,expandDims:r}=vg(h,l[e]);let a;bg(t)?a=o[e]:(a=zI({inputs:{x:o[e]},backend:n,attrs:{perm:t}}),f.push(a));const s=a.shape.slice();for(let e=0;e<r.length;++e)s.splice(r[e],0,1);br(a.shape,s)||(a=TI({inputs:{x:a},backend:n,attrs:{shape:s}}),f.push(a)),null===p?p=a:(p=eE({inputs:{a:a,b:p},backend:n}),f.push(p))}m<d-1&&(u[m]>=0&&(p=nE({inputs:{x:p},backend:n,attrs:{axis:u[m]-(s.length-h),keepDims:!1}}),f.push(p)),h--)}for(const m of f)m!==p&&n.disposeIntermediateTensorInfo(m);return p}};const oE={kernelName:Ga,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:a}=t;vb([r,a],"eluGrad");const o=new Float32Array(vr(a.shape)),s=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values;for(let l=0;l<s.length;++l){const e=s[l];o[l]=e>=0?i[l]:i[l]*(e+1)}return n.makeTensorInfo(a.shape,"float32",o)}},sE=rI((e,t)=>e===t?1:0),iE=kI(Ya,sE,null,"bool"),lE={kernelName:Ya,backendName:"cpu",kernelFunc:iE},uE=Yx(Ka,e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+.3275911*n);return t*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-n*n))}),cE={kernelName:Ka,backendName:"cpu",kernelFunc:uE},dE=Kx(e=>Math.exp(e)),pE=Qx(Qa,dE,"float32"),hE={kernelName:Qa,backendName:"cpu",kernelFunc:pE};function fE(e){const{inputs:t,backend:n,attrs:r}=e,{input:a}=t,{dim:o}=r,s=a.shape.length,i=a.shape.slice();let l=o;return o<0&&(mr(-(s+1)<=o,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),l=s+o+1),i.splice(l,0,1),TI({inputs:{x:a},backend:n,attrs:{shape:i}})}const mE={kernelName:Xa,backendName:"cpu",kernelFunc:fE},gE=Kx(e=>Math.expm1(e)),yE=Qx(Ja,gE),vE={kernelName:Ja,backendName:"cpu",kernelFunc:yE},bE=rI((e,t)=>e/t),wE=kI(Ha,bE),kE={kernelName:Ha,backendName:"cpu",kernelFunc:wE},SE=rI((e,t)=>e-t),xE=SI((e,t,n,r)=>({real:e-n,imag:t-r})),IE=kI(Us,SE,xE),_E={kernelName:Us,backendName:"cpu",kernelFunc:IE};function EE(e,t,n){const r=e.shape,a=r[0],o=r[1],s=n.data.get(e.dataId),i=s.complexTensorInfos.real,l=s.complexTensorInfos.imag,u=[a,o],c=vr(u),d=Ir("float32",c),p=Ir("float32",c);for(let g=0;g<a;g++){const e=wb({inputs:{x:i},backend:n,attrs:{begin:[g,0],size:[1,o]}}),r=wb({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,o]}}),a=fI({inputs:{real:e,imag:r},backend:n}),{real:s,imag:u}=TE(a,t,n),c=pg(s,u);for(let t=0;t<o;t++){const e=hg(c,t);d[g*o+t]=e.real,p[g*o+t]=e.imag}n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a)}const h=n.makeTensorInfo(u,"float32",d),f=n.makeTensorInfo(u,"float32",p),m=fI({inputs:{real:h,imag:f},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}function TE(e,t,n){const r=vr(e.shape),a=n.data.get(e.dataId),o=n.data.get(a.complexTensorInfos.real.dataId).values,s=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((i=r)&i-1)){const a=NE(o,s,r,t,n),i=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(i,"float32",a.real),t=n.makeTensorInfo(i,"float32",a.imag),o=n.makeTensorInfo([],"float32",Ni(r,"float32")),s=Zx({inputs:{x:o},backend:n}),l=kE.kernelFunc({inputs:{a:e,b:o},backend:n}),u=kE.kernelFunc({inputs:{a:t,b:s},backend:n}),c=n.data.get(l.dataId).values,d=n.data.get(u.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),{real:c,imag:d}}return a}{const e=function(e,t,n){const r=new Float32Array(2*t);for(let a=0;a<t;a++){let o=0,s=0;for(let r=0;r<t;r++){const i=mg(a*r,t,n),l=hg(e,r);o+=l.real*i.real-l.imag*i.imag,s+=l.real*i.imag+l.imag*i.real}n&&(o/=t,s/=t),fg(r,o,s,a)}return r}(pg(o,s),r,t);return function(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(e)}var i}function NE(e,t,n,r,a){if(1===n)return{real:e,imag:t};const o=pg(e,t),s=n/2,i=function(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(o),l=i.real,u=i.imag,c=[l.length],d=a.makeTensorInfo(c,"float32",l),p=a.makeTensorInfo(c,"float32",u),h=fI({inputs:{real:d,imag:p},backend:a}),f=function(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(o),m=f.real,g=f.imag,y=[m.length],v=a.makeTensorInfo(y,"float32",m),b=a.makeTensorInfo(y,"float32",g),w=fI({inputs:{real:v,imag:b},backend:a}),k=NE(l,u,s,r,a),S=k.real,x=k.imag,I=[S.length],_=a.makeTensorInfo(I,"float32",S),E=a.makeTensorInfo(I,"float32",x),T=fI({inputs:{real:_,imag:E},backend:a}),N=NE(m,g,s,r,a),C=N.real,A=N.imag,M=[C.length],O=a.makeTensorInfo(M,"float32",C),R=a.makeTensorInfo(M,"float32",A),F=fI({inputs:{real:O,imag:R},backend:a}),D=function(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let a=0;a<Math.ceil(e/2);a++){const o=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(o),r[a]=Math.sin(o)}return{real:n,imag:r}}(n,r),P=[D.real.length],$=a.makeTensorInfo(P,"float32",D.real),L=a.makeTensorInfo(P,"float32",D.imag),z=fI({inputs:{real:$,imag:L},backend:a}),W=eE({inputs:{a:z,b:F},backend:a}),B=_I({inputs:{a:T,b:W},backend:a}),U=IE({inputs:{a:T,b:W},backend:a}),j=yI({inputs:{input:B},backend:a}),H=yI({inputs:{input:U},backend:a}),V=x_({inputs:{input:B},backend:a}),q=x_({inputs:{input:U},backend:a}),G=__({inputs:[j,H],backend:a,attrs:{axis:0}}),K=__({inputs:[V,q],backend:a,attrs:{axis:0}}),Y=a.data.get(G.dataId).values,Q=a.data.get(K.dataId).values;return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(v),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(w),a.disposeIntermediateTensorInfo(_),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(T),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(R),a.disposeIntermediateTensorInfo(F),a.disposeIntermediateTensorInfo($),a.disposeIntermediateTensorInfo(L),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(K),{real:Y,imag:Q}}const CE={kernelName:"FFT",backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=vr(r.shape),o=r.shape[r.shape.length-1],s=TI({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),i=EE(s,!1,n),l=TI({inputs:{x:i},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),l}};function AE(e){const{backend:t,attrs:n}=e,{shape:r,value:a,dtype:o}=n,s=o||Nr(a),i=_r(s,vr(r));return function(e,t){e.fill(t)}(i,a),t.makeTensorInfo(r,s,i)}const ME={kernelName:Za,backendName:"cpu",kernelFunc:AE};const OE={kernelName:eo,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:a}=t,o=r,s=Ir(a.dtype,vr(a.shape)),[i,l,u,c]=a.shape,d=o.data.get(a.dataId).values;for(let p=0;p<i;p++){const e=p*u*l*c;for(let t=0;t<l;t++){const n=t*(u*c);for(let t=0;t<u;t++){const r=t*c;for(let a=0;a<c;a++){const o=Math.round(u-t-1),i=e+n+r+a;let l=d[i];if(o>=0&&o<u){l=d[e+n+o*c+a]}s[i]=l}}}}return{dataId:o.write(s,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},RE=Kx(e=>Math.floor(e)),FE=Qx(to,RE),DE={kernelName:to,backendName:"cpu",kernelFunc:FE},PE=rI((e,t)=>Math.floor(e/t)),$E=kI(no,PE,null,"int32"),LE={kernelName:no,backendName:"cpu",kernelFunc:$E};const zE={kernelName:ri,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r;let m=T_({inputs:{x:a,filter:o},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p}});if(s){const e=m;if("NCHW"===c&&1===s.shape.length&&1!==s.shape[0]){const e=TI({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=_I({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=_I({inputs:{a:m,b:s},backend:n});n.disposeIntermediateTensorInfo(e)}if(h){const e=m;if("NCHW"===c&&"prelu"===h&&1===i.shape.length&&1!==i.shape[0]){const e=TI({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});m=hI(n,m,h,e,f),n.disposeIntermediateTensorInfo(e)}else m=hI(n,m,h,i,f);n.disposeIntermediateTensorInfo(e)}return m}};const WE={kernelName:ai,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r;let m=j_({inputs:{x:a,filter:o},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p}});if(s){const e=m;m=_I({inputs:{a:m,b:s},backend:n}),n.disposeIntermediateTensorInfo(e)}if(h){const e=m;m=hI(n,m,h,i,f),n.disposeIntermediateTensorInfo(e)}return m}};const BE={kernelName:oo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,o=vr(r.shape),s=a.shape,i=s[s.length-1],[l,u,c,d]=Mc(r,a);if(0===u)return n.makeTensorInfo(l,r.dtype,[]);const p=function(e,t,n,r,a,o,s,i,l){const u=Iu([r,o],n);for(let c=0;c<r;c++){const n=[];let r=0;for(let t=0;t<a;t++){const o=e[c*a+t];r+=o*s[t],n.push(o)}if(r<0||r>=l/o)throw new Error(`Invalid indices: ${n} does not index into ${i}`);for(let e=0;e<o;e++)u.values[c*o+e]=t.get(...t.indexToLoc(r*o+e))}return u}(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,u,i,c,d,r.shape,o);return n.makeTensorInfo(l,r.dtype,p.values)}};const UE={kernelName:ao,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:o}=t,{axis:s,batchDims:i}=r;vb([a,o],"gatherV2");const l=xr(s,a.shape)[0],u=n.data.get(o.dataId).values,c=a.shape[l];for(let b=0;b<u.length;++b){const e=u[b];mr(e<=c-1&&e>=0,()=>`GatherV2: the index value ${e} is not in [0, ${c-1}]`)}let d=i;null==i&&(d=0);const p=vr(o.shape),h=Og(a,o,l,d),f=TI({inputs:{x:a},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),m=TI({inputs:{x:o},backend:n,attrs:{shape:[h.batchSize,p/h.batchSize]}}),g=[h.batchSize,h.outerSize,p/h.batchSize,h.sliceSize],y=n.bufferSync(m),v=function(e,t,n){const r=Iu(n,e.dtype);for(let a=0;a<r.size;++a){const n=r.indexToLoc(a).slice(),o=n[0],s=n[2],i=t.locToIndex([o,s]);n[2]=t.values[i];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[a]=e.values[l])}return r}(n.bufferSync(f),y,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(h.outputShape,v.dtype,v.values)}},jE=rI((e,t)=>e>t?1:0),HE=kI(so,jE,null,"bool"),VE={kernelName:so,backendName:"cpu",kernelFunc:HE},qE=rI((e,t)=>e>=t?1:0),GE=kI(io,qE,null,"bool"),KE={kernelName:io,backendName:"cpu",kernelFunc:GE};const YE={kernelName:uo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=vr(r.shape),o=r.shape[r.shape.length-1],s=TI({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),i=EE(s,!0,n),l=TI({inputs:{x:i},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),l}},QE=Yx(po,e=>Number.isFinite(e)?1:0,"bool"),XE={kernelName:po,backendName:"cpu",kernelFunc:QE},JE=Yx(ho,e=>Math.abs(e)===1/0?1:0,"bool"),ZE={kernelName:ho,backendName:"cpu",kernelFunc:JE},eT=Yx(fo,e=>Number.isNaN(e)?1:0,"bool"),tT={kernelName:fo,backendName:"cpu",kernelFunc:eT},nT=rI((e,t)=>e<t?1:0),rT=kI(go,nT,null,"bool"),aT={kernelName:go,backendName:"cpu",kernelFunc:rT},oT=rI((e,t)=>e<=t?1:0),sT=kI(yo,oT,null,"bool"),iT={kernelName:yo,backendName:"cpu",kernelFunc:sT};const lT={kernelName:vo,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:o}=n,s=function(e,t,n){const r=(t-e)/(n-1),a=Fr(n,"float32");a[0]=e;for(let o=1;o<a.length;o++)a[o]=a[o-1]+r;return a}(r,a,o);return t.makeTensorInfo([s.length],"float32",s)}},uT=Kx(e=>Math.log(e)),cT=Qx(bo,uT),dT={kernelName:bo,backendName:"cpu",kernelFunc:cT},pT=Yx(wo,e=>Math.log1p(e)),hT={kernelName:wo,backendName:"cpu",kernelFunc:pT},fT=rI((e,t)=>e&&t),mT=kI(ko,fT,null,"bool"),gT={kernelName:ko,backendName:"cpu",kernelFunc:mT},yT=Yx(So,e=>e?0:1,"bool"),vT={kernelName:So,backendName:"cpu",kernelFunc:yT},bT=rI((e,t)=>e||t),wT=kI(xo,bT,null,"bool"),kT={kernelName:xo,backendName:"cpu",kernelFunc:wT};const ST={kernelName:Io,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:o,bias:s,alpha:i,beta:l}=r;vb(a,"LRN");const u=a.shape[3],c=u-1,d=n.data.get(a.dataId).values,p=vr(a.shape),h=new Float32Array(p);function f(e){const t=e%u;let n=e-t+Math.max(0,t-o);const r=e-t+Math.min(t+o,c);let a=0;for(;n<=r;n++){const e=d[n];a+=e*e}return a}for(let m=0;m<p;m++){const e=f(m),t=d[m]*Math.pow(s+i*e,-l);h[m]=t}return n.makeTensorInfo(a.shape,a.dtype,h)}};const xT={kernelName:_o,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,y:o,dy:s}=t,{depthRadius:i,bias:l,alpha:u,beta:c}=r;vb(s,"LRNGrad");const d=vr(s.shape),p=s.shape[3],h=n.data.get(s.dataId).values,f=n.data.get(a.dataId).values,m=n.data.get(o.dataId).values,g=new Float32Array(d),y=d;for(let v=0;v<y;v++){const e=v%p,t=v-e+Math.max(0,e-i),n=v-e+Math.min(p,e+i+1);let r=0;for(let a=t;a<n;a++)r+=Math.pow(f[a],2);r=u*r+l;for(let a=t;a<n;a++){let e=-2*u*c*f[a]*m[v]/r;v===a&&(e+=Math.pow(r,-c)),e*=h[v],g[a]+=e}}return n.makeTensorInfo(s.shape,a.dtype,g)}};function IT(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:o,keepDims:s}=r,i=n;let l=a.shape;const u=l.length,c=xr(o,l);let d=c;const p=dp(d,u);let h=i.data.get(a.dataId).values;if(null!=p){const e=new Array(u);for(let t=0;t<e.length;t++)e[t]=l[p[t]];h=LI(h,l,a.dtype,p,e),d=hp(d.length,u),l=e}vb(a,"max"),cp("max",d,u);const[f,m]=lp(l,d),g=function(e,t,n,r){const a=Ir(r,vr(n));for(let o=0;o<a.length;++o){const n=o*t;let r=e[n];for(let a=0;a<t;++a){const t=e[n+a];(Number.isNaN(t)||t>r)&&(r=t)}a[o]=r}return a}(h,vr(m),f,a.dtype),y=i.write(g,f,a.dtype);let v=f;if(s){v=up(f,c)}return{dataId:y,shape:v,dtype:a.dtype}}const _T={kernelName:Eo,backendName:"cpu",kernelFunc:IT},ET=rI((e,t)=>Math.max(e,t)),TT=kI(To,ET),NT={kernelName:To,backendName:"cpu",kernelFunc:TT};const CT={kernelName:No,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;vb(a,"maxPool");const{filterSize:o,strides:s,pad:i,dimRoundingMode:l}=r;mr(ud(s,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`);const u=Zc(a.shape,o,s,1,i,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&br(u.inShape,u.outShape))c=Zx({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=Ar(a.shape),r=n_(e,a.shape,a.dtype,t,u,"max");c=n.makeTensorInfo(u.outShape,a.dtype,r.values)}return c}};const AT={kernelName:Ao,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l,dataFormat:u}=r;vb(a,"maxPool3d");const c=ed(a.shape,o,s,1,i,l,u),d=a_(n.data.get(a.dataId).values,a.shape,a.dtype,Ar(a.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};const MT={kernelName:Mo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o}=t,{filterSize:s,strides:i,pad:l,dimRoundingMode:u}=r;vb([a,o],"maxPool3DGrad");const c=ed(o.shape,s,i,1,l,u),d=function(e,t){const n=Iu(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,s=t.dilationDepth,i=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let y=0;y<t.outDepth;++y){const v=y*r-p;let b=v;for(;b<0;)b+=s;const w=Math.min(t.inDepth,u+v);for(let r=0;r<t.outHeight;++r){const u=r*a-h;let p=u;for(;p<0;)p+=i;const k=Math.min(t.inHeight,c+u);for(let a=0;a<t.outWidth;++a){const h=a*o-f;let S=h;for(;S<0;)S+=l;const x=Math.min(t.inWidth,d+h);let I=Number.NEGATIVE_INFINITY,_=-1;for(let t=b;t<w;t+=s){const n=t-v;for(let r=p;r<k;r+=i){const a=r-u;for(let o=S;o<x;o+=l){const s=o-h,i=e.get(m,t,r,o,g);i>=I&&(I=i,_=n*c*d+a*c+s)}}}n.set(_,m,y,r,a,g)}}}return n}(n.bufferSync(o),c),p=c.strideDepth,h=c.strideHeight,f=c.strideWidth,m=c.dilationDepth,g=c.dilationHeight,y=c.dilationWidth,v=c.effectiveFilterDepth,b=c.effectiveFilterHeight,w=c.effectiveFilterWidth,k=v-1-c.padInfo.front,S=w-1-c.padInfo.left,x=b-1-c.padInfo.top,I=Iu(o.shape,"float32"),_=n.bufferSync(a);for(let E=0;E<c.batchSize;++E)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inDepth;++t)for(let n=0;n<c.inHeight;++n)for(let r=0;r<c.inWidth;++r){const a=t-k,o=n-x,s=r-S;let i=0;for(let t=0;t<v;t+=m){const n=(a+t)/p;if(!(n<0||n>=c.outDepth||Math.floor(n)!==n))for(let r=0;r<b;r+=g){const a=(o+r)/h;if(!(a<0||a>=c.outHeight||Math.floor(a)!==a))for(let o=0;o<w;o+=y){const l=(s+o)/f;if(l<0||l>=c.outWidth||Math.floor(l)!==l)continue;const u=v*b*w-1-d.get(E,n,a,l,e)===t*b*w+r*w+o?1:0;if(0===u)continue;i+=_.get(E,n,a,l,e)*u}}}I.set(i,E,t,n,r,e)}return n.makeTensorInfo(I.shape,I.dtype,I.values)}};const OT={kernelName:Co,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:o,output:s}=t,i=o;vb([o,s],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,p=Zc(i.shape,l,u,1,c,d),h=n.data.get(i.dataId).values,f=Iu(p.outShape,i.dtype,r_(h,i.shape,i.dtype,p).values),m=p.strideHeight,g=p.strideWidth,y=p.dilationHeight,v=p.dilationWidth,b=p.effectiveFilterHeight,w=p.effectiveFilterWidth,k=w-1-p.padInfo.left,S=b-1-p.padInfo.top,x=Iu(i.shape,"float32"),I=n.data.get(a.dataId).values,_=Iu(a.shape,"float32",I);for(let E=0;E<p.batchSize;++E)for(let e=0;e<p.inChannels;++e)for(let t=0;t<p.inHeight;++t)for(let n=0;n<p.inWidth;++n){const r=t-S,a=n-k;let o=0;for(let t=0;t<b;t+=y){const n=(r+t)/m;if(!(n<0||n>=p.outHeight||Math.floor(n)!==n))for(let r=0;r<w;r+=v){const s=(a+r)/g;if(s<0||s>=p.outWidth||Math.floor(s)!==s)continue;const i=b*w-1-f.get(E,n,s,e)===t*w+r?1:0;if(0===i)continue;o+=_.get(E,n,s,e)*i}}x.set(o,E,t,n,e)}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const RT={kernelName:Oo,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:a}=t,{filterSize:o,strides:s,pad:i,includeBatchInIndex:l}=n,u=r;vb(a,"MaxPoolWithArgmax");const c=u.data.get(a.dataId).values,d=Zc(a.shape,o,s,[1,1],i),[p,h]=function(e,t,n,r,a){const o=n_(e,0,n,Ar(t),a,"max"),s=r_(e,t,n,a,!0,r);return[o.values,s.values]}(c,a.shape,a.dtype,l,d),f=u.write(p,d.outShape,a.dtype),m=u.write(h,d.outShape,a.dtype);return[{dataId:f,shape:d.outShape,dtype:a.dtype},{dataId:m,shape:d.outShape,dtype:"int32"}]}};const FT={kernelName:Ro,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:s}=r,i=xr(o,a.shape),l=vr(lp(a.shape,i)[1]),u=[],c=n.makeTensorInfo([],"float32",new Float32Array([l]));u.push(c);const d=bI({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});u.push(d);const p=wE({inputs:{a:d,b:c},backend:n});u.push(p);const h=nE({inputs:{x:p},backend:n,attrs:{axis:o,keepDims:s}});return u.forEach(e=>n.disposeIntermediateTensorInfo(e)),h}};const DT={kernelName:Fo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:s}=r;vb(a,"min");const i=xr(o,a.shape);let l=i;const u=dp(l,a.shape.length);let c=a;null!=u&&(c=zI({inputs:{x:a},backend:n,attrs:{perm:u}}),l=hp(l.length,a.shape.length)),cp("min",l,c.shape.length);const[d,p]=lp(c.shape,l),h=vr(p),f=Fr(vr(d),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<f.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];(Number.isNaN(r)||r<t)&&(t=r)}f[y]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(s){const e=TI({inputs:{x:g},backend:n,attrs:{shape:up(d,i)}});return n.disposeIntermediateTensorInfo(g),e}return g}},PT=rI((e,t)=>Math.min(e,t)),$T=kI(Do,PT),LT={kernelName:Do,backendName:"cpu",kernelFunc:$T};const zT={kernelName:Po,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:o,mode:s}=r;vb(a,"mirrorPad");const i=o.map((e,t)=>e[0]+a.shape[t]+e[1]),l=o.map(e=>e[0]),u=o.map((e,t)=>e[0]+a.shape[t]),c="reflect"===s?0:1,d=n.data.get(a.dataId).values,p=a.shape.length,h=Ar(a.shape),f=vr(i),m=i.length,g=Ar(i),y=Ir(a.dtype,f);for(let v=0;v<f;v++){let e=Lr(v,m,g);for(let n=0;n<m;n++)e[n]<l[n]?e[n]=2*l[n]-e[n]-c:e[n]>=u[n]&&(e[n]=2*(u[n]-1)-e[n]+c);e=e.map((e,t)=>e-l[t]);const t=$r(e,p,h);y[v]=d[t]}return{dataId:n.write(y,i,a.dtype),shape:i,dtype:a.dtype}}},WT=rI((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}),BT=kI($o,WT),UT={kernelName:$o,backendName:"cpu",kernelFunc:BT};function jT(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:o}=r,s=a.shape.length;let i=o;if(-1===i&&(i=s-1),i!==s-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${s} and dim was ${i}`);const l=xr([i],a.shape),u=IT({inputs:{x:a},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=up(u.shape,l),d=TI({inputs:{x:u},backend:n,attrs:{shape:c}}),p=IE({inputs:{a:a,b:d},backend:n}),h=pE({inputs:{x:p},backend:n}),f=nE({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),m=TI({inputs:{x:f},backend:n,attrs:{shape:c}}),g=wE({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const HT={kernelName:Cs,backendName:"cpu",kernelFunc:jT};const VT={kernelName:Lo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:o,seed:s,normalized:i}=r;vb(a,"multinomial");const l=i?a:jT({inputs:{logits:a},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],d=n.data.get(l.dataId).values,p=[u,o],h=Fr(vr(p),"int32");for(let f=0;f<u;++f){const e=f*c,t=new Float32Array(c-1);t[0]=d[e];for(let a=1;a<t.length;++a)t[a]=t[a-1]+d[e+a];const n=Nh.alea(s.toString()),r=f*o;for(let a=0;a<o;++a){const e=n();h[r+a]=t.length;for(let n=0;n<t.length;n++)if(e<t[n]){h[r+a]=n;break}}}return i||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(p,"int32",h)}};const qT={kernelName:Wo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;vb(r,"neg");const a=n.data.get(r.dataId).values,[o,s]=function(e,t,n){const r=Ni(-1,n);return J_([],t,r,e,n)}(a,r.shape,r.dtype);return n.makeTensorInfo(s,r.dtype,o)}},GT=pm;const KT={kernelName:Uo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=r;vb(a,"NonMaxSuppression");const u=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,{selectedIndices:d}=GT(u,c,s,i,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},YT=hm;const QT={kernelName:jo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l,padToMaxOutputSize:u}=r;vb(a,"NonMaxSuppressionPadded");const c=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,{selectedIndices:p,validOutputs:h}=YT(c,d,s,i,l,u);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},XT=fm;const JT={kernelName:Ho,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l,softNmsSigma:u}=r;vb(a,"NonMaxSuppressionWithScore");const c=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,p=s,h=i,f=l,m=u,{selectedIndices:g,selectedScores:y}=XT(c,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}},ZT=rI((e,t)=>e!==t?1:0),eN=kI(Bo,ZT,null,"bool"),tN={kernelName:Bo,backendName:"cpu",kernelFunc:eN};const nN={kernelName:qo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:o,depth:s,onValue:i,offValue:l}=r;vb(a,"oneHot");const u=vr(a.shape),c=new Float32Array(u*s);c.fill(l);const d=n.data.get(a.dataId).values;for(let p=0;p<u;++p)d[p]>=0&&d[p]<s&&(c[p*s+d[p]]=i);return n.makeTensorInfo([...a.shape,s],o,c)}};function rN(e){const{inputs:t,backend:n}=e,{x:r}=t;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){const e=yI({inputs:{input:r},backend:n}),t=rN({inputs:{x:e},backend:n}),a=x_({inputs:{input:r},backend:n}),o=rN({inputs:{x:a},backend:n}),s=fI({inputs:{real:t,imag:o},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),s}return AE({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const aN={kernelName:Js,backendName:"cpu",kernelFunc:rN};const oN={kernelName:Vo,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){const t=yI({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r}),o=x_({inputs:{input:a},backend:r}),s=rN({inputs:{x:o},backend:r}),i=fI({inputs:{real:n,imag:s},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),i}return AE({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function sN(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return fE({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const o=t[0].shape,s=t[0].dtype;t.forEach(e=>{gr(o,e.shape,"All tensors passed to stack must have matching shapes"),mr(s===e.dtype,()=>"All tensors passed to stack must have matching dtypes")});const i=[],l=t.map(e=>{const t=fE({inputs:{input:e},backend:n,attrs:{dim:a}});return i.push(t),t}),u=__({inputs:l,backend:n,attrs:{axis:a}});return i.forEach(e=>n.disposeIntermediateTensorInfo(e)),u}const iN={kernelName:Go,backendName:"cpu",kernelFunc:sN};const lN={kernelName:Ko,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:o,constantValue:s}=r;vb(a,"pad");const i=o.map((e,t)=>e[0]+a.shape[t]+e[1]),l=o.map(e=>e[0]),u=n.data.get(a.dataId).values,c=vr(a.shape),d=a.shape.length,p=Ar(a.shape),h=vr(i),f=i.length,m=Ar(i),g=Ir(a.dtype,h);0!==s&&g.fill(s);for(let y=0;y<c;y++){const e=Lr(y,d,p).map((e,t)=>e+l[t]);g[$r(e,f,m)]=u[y]}return{dataId:n.write(g,i,a.dtype),shape:i,dtype:a.dtype}}},uN=rI((e,t)=>Math.pow(e,t)),cN=kI(Yo,uN),dN={kernelName:Yo,backendName:"cpu",kernelFunc:cN};const pN={kernelName:Xo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:o,keepDims:s}=r;vb(a,"prod");const i=a.shape.length,l=xr(o,a.shape),u=dp(l,i);let c=l,d=a;const p=[];null!=u&&(d=zI({inputs:{x:a},backend:n,attrs:{perm:u}}),p.push(d),c=hp(c.length,i));const h=n.data.get(d.dataId).values,{outVals:f,outShape:m,outDtype:g}=function(e,t,n,r){const[a,o]=lp(e,r),s=tl(t,"int32"),i=Fr(vr(a),s),l=vr(o);for(let u=0;u<i.length;++u){const e=u*l;let t=1;for(let r=0;r<l;++r)t*=n[e+r];i[u]=t}return{outVals:i,outShape:a,outDtype:s}}(d.shape,d.dtype,h,c);let y=m;return s&&(y=up(m,l)),p.forEach(e=>n.disposeIntermediateTensorInfo(e)),n.makeTensorInfo(y,g,f)}};function hN(e,t,n,r){const a=[];let o=0;const s=t.length-1+n.length,i=new Array(s).fill(null).map(()=>[0]);!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],a=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let l=1;for(let u=0;u<t.length-1;++u){l*=t[u];const e=t[u+1];for(let t=1;t<l+1;++t)i[u].push(t*e)}for(let u=0;u<e.length;++u){let r=e[u],s=e[u]+1;for(let e=0;e<n.length;++e){const a=n[e],o=e+t.length-1;if(o>=0){const e=i[o],t=e[e.length-1]-a[r];for(let n=r;n<s;++n)i[o].push(a[n+1]+t)}r=a[r],s=a[s]}s!==r&&(a.push([r,s]),o+=s-r)}return{outSplits:i,valueSlices:a,numValues:o}}function fN(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function mN(e,t,n,r,a){const o=t.slice();o[0]=a;const s=_r(n,vr(o)),i=e.length;return function(e,t,n,r,a,o){const s=fN(t,2)[1],i=fN(o,2)[1];let l=0;for(const u of n)for(let t=u[0];t<u[1];++t){for(let n=0;n<r;++n)a[l*i+n]=e[t*s+n];++l}}(e,t,r,0===i?0:i/t[0],s,o),[s,o]}function gN(e,t,n,r,a,o,s,i){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach((e,r)=>{if(e<0||e>=n){const a=Lr(r,t.length,Ar(t)).join(",");throw new Error(`indices[${a}] = ${e} is not in [0, ${n})`)}})}(o,s,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const l=r[0],{outSplits:u,valueSlices:c,numValues:d}=hN(o,s,e,l),p=function(e){const t=[];for(let n=0;n<e.length;++n){const r=_r("int32",e[n].length);t.push(r),e[n].forEach((e,t)=>r[t]=e)}return t}(u),h=mN(n,r,a,c,d);return[p,h[0],h[1]]}const yN={kernelName:Jo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:o,indices:s}=t,{outputRaggedRank:i}=r,l=a.map(e=>n.data.get(e.dataId).values),u=a.map(e=>e.shape),c=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values,[p,h,f]=gN(l,u,c,o.shape,o.dtype,d,s.shape),m=p.map(e=>n.makeTensorInfo([e.length],"int32",e)),g=n.makeTensorInfo(f,o.dtype,h);return m.concat([g])}},vN=2147483647;const bN={kernelName:Zo,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:o}=t,s=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,[u,c]=function(e,t,n,r,a,o,s){if(t.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(s.length>1)throw new Error("deltas must be a scalar or vector");const i=0===t.length,l=0===a.length,u=0===s.length,c=[];i||c.push(t[0]),l||c.push(a[0]),u||c.push(s[0]);for(let m=1;m<c.length;++m)if(c[m]!==c[m-1])throw new Error("starts, limits, and deltas must have the same shape");const d=0===c.length?1:c[0],p=_r("int32",d+1);p[0]=0;for(let m=0;m<d;++m){const t=i?e[0]:e[m],n=l?r[0]:r[m],a=u?o[0]:o[m];if(0===a)throw new Error("Requires delta != 0");let s;if(a>0&&n<t||a<0&&n>t)s=0;else if(s=Math.ceil(Math.abs((n-t)/a)),s>vN)throw new Error("Requires ((limit - start) / delta) <= 2147483647");p[m+1]=p[m]+s}const h=_r(n,p[d]);let f=0;for(let m=0;m<d;++m){const t=p[m+1]-p[m];let n=i?e[0]:e[m];const r=u?o[0]:o[m];for(let e=0;e<t;++e)h[f++]=n,n+=r}return[p,h]}(s,r.shape,r.dtype,i,a.shape,l,o.shape);return[n.makeTensorInfo([u.length],"int32",u),n.makeTensorInfo([c.length],r.dtype,c)]}};var wN=og;class kN{constructor(e,t,n,r,a,o,s,i,l,u){var c;this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=a,this.defaultValue=o,this.defaultValueShape=s,this.rowPartitionValues=i,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=function(e){const t={FIRST_DIM_SIZE:og.FIRST_DIM_SIZE,VALUE_ROWIDS:og.VALUE_ROWIDS,ROW_LENGTHS:og.ROW_LENGTHS,ROW_SPLITS:og.ROW_SPLITS,ROW_LIMITS:og.ROW_LIMITS,ROW_STARTS:og.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}(u),this.raggedRank=0===(c=this.rowPartitionTypes).length?0:c[0]===og.FIRST_DIM_SIZE?c.length-1:c.length}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===wN.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===wN.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case wN.VALUE_ROWIDS:return kN.getMaxWidthValueRowID(t);case wN.ROW_SPLITS:return kN.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${wN[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],a=0;for(let o=1;o<t;++o){const t=e[o];t!==r&&(r=t,a=Math.max(o-n,a),n=o)}return Math.max(t-n,a)}tensorShapeFromTensor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return xN(e,n)}calculateOutputSize(e){const t=this.valuesShape;!function(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let a=0;a<Math.min(n,r-1);++a){const n=e[a],r=t[a+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${a-e.length}] = ${n} but ragged tensor input.flatValues.shape[${a-e.length}] = ${r}`)}}(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=function(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let a=1;a<n.length;++a){const o=n[a],s=r[r.length-n.length+a],i=r[s];if(o>=0)if(i>=0){if(i!==o)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${a+e}] = ${o} but shape[${a+e}] = ${i}`)}else r[s]=o}return r}(this.raggedRank,n,t),a=r;a[0]<0&&(a[0]=e);for(let o=1;o<=this.raggedRank;++o)a[o]<0&&(a[o]=this.getMaxWidth(o));return a}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),a=[];let o=0;for(let s=0;s<r;++s,o+=t)a.push(o);for(let s=r;s<e;++s)a.push(-1);return mr(a.length===e,()=>"Final length of result must be equal to firstDimension."),a}calculateOutputIndexRowSplit(e,t,n,r){const a=e.length,o=[];for(let s=0;s<a-1;++s){const a=e[s+1]-e[s];let i=Math.min(r,a),l=t[s];-1===l&&(i=0);for(let e=0;e<i;++e)o.push(l),l+=n;for(let e=0;e<a-i;++e)o.push(-1)}if(a>0&&o.length!==e[a-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(e,t,n,r){const a=e.length,o=[];if(0===a)return[];let s=0,i=e[0];if(i>=t.length)throw new Error(`Got currentValueRowId=${i}, which is not less than ${t.length}`);let l=t[i];o.push(l);for(let u=1;u<a;++u){const a=e[u];if(a===i)l>=0&&(++s,s<r?l+=n:l=-1);else{if(s=0,i=a,a>=t.length)throw new Error(`Got nextValueRowId=${a} which is not less than ${t.length}`);l=t[a]}o.push(l)}if(o.length!==e.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(e,t,n,r){const a=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case wN.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,t,n,r);case wN.ROW_SPLITS:if(a.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${a.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(a,t,n,r);default:throw new Error(`Unsupported partition type: ${wN[o]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case wN.FIRST_DIM_SIZE:return e[0];case wN.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case wN.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${wN[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let o=n.length-2;o>=0;--o)n[o]=n[o+1]*t[o+1];const r=xN(t,!1),a=_r(this.valuesDType,vr(r));if(n[0]*t[0]>0){let o=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){o=this.calculateOutputIndex(e-1,o,n[e],t[e])}this.setOutput(this.raggedRank,o,a,r)}return[r,a]}setOutput(e,t,n,r){if(0===n.length)return;const a=this.values,o=n;let s=r.slice();s=s.slice(e+1);const i=vr(s),l=t.length;let u=this.defaultValue;if(u.length!==i&&1!==u.length){const e=this.defaultValueShape;Cu(()=>{const t=hd(u,e),n=Ad(t,s);u=n.dataSync()})}let c=0,d=0,p=0;for(let h=0;h<=l;++h){let e=h<l?t[h]:-1;if(e!==p){if(d<p){const e=a.subarray(c*i);SN(o.subarray(d*i),e,(p-d)*i)}if(h>=l){const t=n.length;e=Math.floor(t/i)}if(e>p)if(1===this.defaultValue.length)o.subarray(p*i,e*i).fill(this.defaultValue[0]),p=e;else for(;e>p;){SN(o.slice(p*i),u,i),++p}e<0?(c=h+1,d=p):(c=h,d=p,p=d+1)}else++p}}}function SN(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function xN(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}const IN={kernelName:es,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:o,defaultValue:s,rowPartitionTensors:i}=t,{rowPartitionTypes:l}=r,u=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values,p=i.map(e=>n.data.get(e.dataId).values),h=i.map(e=>e.shape),[f,m]=function(e,t,n,r,a,o,s,i,l,u){return new kN(e,t,n,r,a,o,s,i,l,u).compute()}(u,a.shape,c,o.shape,o.dtype,d,s.shape,p,h,l);return n.makeTensorInfo(f,o.dtype,m)}};const _N={kernelName:ts,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,dtype:o,step:s}=n,i=nS(r,a,s,o);return t.makeTensorInfo([i.length],o,i)}},EN=Yx(rs,e=>1/e),TN={kernelName:rs,backendName:"cpu",kernelFunc:EN};const NN={kernelName:ls,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:o,halfPixelCenters:s,size:i}=r;vb(a,"resizeBilinear");const l=Ar(a.shape),[u,c]=i,[d,p,h,f]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(vr([d,u,c,f])),y=[o&&u>1?p-1:p,o&&c>1?h-1:h],v=[o&&u>1?u-1:u,o&&c>1?c-1:c];let b=0;const w=y[0]/v[0],k=y[1]/v[1];for(let S=0;S<d;S++)for(let e=0;e<u;e++){let t;t=s?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),r=t-n,a=Math.min(p-1,Math.ceil(t)),o=S*l[0]+n*l[1],i=S*l[0]+a*l[1];for(let e=0;e<c;e++){let t;t=s?k*(e+.5)-.5:k*e;const n=Math.max(0,Math.floor(t)),a=t-n,u=Math.min(h-1,Math.ceil(t)),c=o+n*l[2],d=i+n*l[2],p=o+u*l[2],y=i+u*l[2];for(let e=0;e<f;e++){const t=m[c+e],n=m[d+e],o=t+(m[p+e]-t)*a,s=o+(n+(m[y+e]-n)*a-o)*r;g[b++]=s}}}return n.makeTensorInfo([d,u,c,f],"float32",g)}};const CN={kernelName:us,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:o}=t,{alignCorners:s}=r;vb([o,a],"resizeBilinearGrad");const i=Ar(a.shape),[l,u,c,d]=a.shape,[,p,h]=o.shape,f=new Float32Array(l*u*c*d),m=[s&&p>1?u-1:u,s&&h>1?c-1:c],g=[s&&p>1?p-1:p,s&&h>1?h-1:h],y=m[0]/g[0],v=m[1]/g[1],b=n.data.get(o.dataId).values;let w=0;for(let k=0;k<l;k++){const e=k*i[0];for(let t=0;t<p;t++){const n=t*y,r=Math.floor(n),a=Math.min(Math.ceil(n),u-1),o=e+r*i[1],s=e+a*i[1],l=n-r,p=1-l;for(let e=0;e<h;e++){const t=e*v,n=Math.floor(t),r=Math.min(Math.ceil(t),c-1),a=t-n,u=1-a,h=o+n*i[2],m=o+r*i[2],g=s+n*i[2],y=s+r*i[2],k=p*u,S=p*a,x=l*u,I=l*a;for(let e=0;e<d;e++){const t=b[w++];f[h+e]+=t*k,f[m+e]+=t*S,f[g+e]+=t*x,f[y+e]+=t*I}}}}return n.makeTensorInfo([l,c,u,d],"float32",f)}};const AN={kernelName:ss,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:o,halfPixelCenters:s,size:i}=r;vb(a,"resizeNearestNeighbor");const l=Ar(a.shape),[u,c]=i,[d,p,h,f]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(d*u*c*f),y=[o&&u>1?p-1:p,o&&c>1?h-1:h],v=[o&&u>1?u-1:u,o&&c>1?c-1:c],b=y[0]/v[0],w=y[1]/v[1];let k=0;for(let S=0;S<d;S++){const e=S*l[0];for(let t=0;t<u;t++){const n=s?b*(t+.5):b*t;let r=Math.min(p-1,o?Math.round(n):Math.floor(n));s&&(r=Math.max(0,r));const a=e+r*l[1];for(let e=0;e<c;e++){const t=s?w*(e+.5):w*e;let n=Math.min(h-1,o?Math.round(t):Math.floor(t));s&&(n=Math.max(0,n));const r=a+n*l[2];for(let e=0;e<f;e++){const t=m[r+e];g[k++]=t}}}}return n.makeTensorInfo([d,u,c,f],a.dtype,g)}};const MN={kernelName:is,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:o}=t,{alignCorners:s}=r;vb([o,a],"resizeNearestNeighborGrad");const i=Ar(a.shape),l=Ar(o.shape),[u,c,d,p]=a.shape,[,h,f]=o.shape,m=new Float32Array(u*c*d*p),g=n.data.get(o.dataId).values,y=[s&&h>1?c-1:c,s&&f>1?d-1:d],v=[s&&h>1?h-1:h,s&&f>1?f-1:f],b=y[0]/v[0],w=y[1]/v[1],k=1/b,S=1/w,x=2*Math.ceil(k)+2,I=2*Math.ceil(S)+2;for(let _=0;_<u;_++){const e=_*i[0];for(let t=0;t<c;t++){const n=e+t*i[1],r=Math.floor(t*k),a=Math.floor(r-x/2);for(let o=0;o<d;o++){const r=n+o*i[2],u=Math.floor(o*S),y=Math.floor(u-I/2);for(let n=0;n<p;n++){let i=0;for(let r=0;r<x;r++){const u=r+a;if(u<0||u>=h)continue;const p=e+u*l[1],m=u*b;if(t===Math.min(c-1,s?Math.round(m):Math.floor(m)))for(let e=0;e<I;e++){const t=e+y;if(t<0||t>=f)continue;const r=p+t*l[2],a=t*w;o===Math.min(d-1,s?Math.round(a):Math.floor(a))&&(i+=g[r+n])}}m[r+n]=i}}}}return n.makeTensorInfo(a.shape,a.dtype,m)}};const ON={kernelName:ds,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:o}=r;vb(a,"reverse");const s=a.shape.length,i=xr(o,a.shape);if(0===s)return Zx({inputs:{x:a},backend:n});const l=new ji(a.shape,a.dtype),u=n.bufferSync(a);for(let c=0;c<l.size;c++){const e=l.indexToLoc(c),t=e.slice();i.forEach(e=>t[e]=a.shape[e]-1-t[e]),l.set(u.get(...t),...e)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},RN={kernelName:ti,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:a}=t,{radians:o,fillValue:s,center:i}=n,l=r,u=Ir(a.dtype,vr(a.shape)),[c,d,p,h]=a.shape,[f,m]=sg(i,d,p),g=Math.sin(o),y=Math.cos(o),v=l.data.get(a.dataId).values;for(let b=0;b<c;b++){const e=b*p*d*h;for(let t=0;t<d;t++){const n=t*(p*h);for(let r=0;r<p;r++){const a=r*h;for(let o=0;o<h;o++){const i=[c,t,r,o],l=i[2],b=i[1];let w=(l-f)*y-(b-m)*g,k=(l-f)*g+(b-m)*y;w=Math.round(w+f),k=Math.round(k+m);let S=s;if("number"!==typeof s&&(S=3===o?255:s[o]),w>=0&&w<p&&k>=0&&k<d){S=v[e+k*(p*h)+w*h+o]}u[e+n+a+o]=S}}}}return{dataId:l.write(u,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},FN=Yx(ps,e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1}),DN={kernelName:ps,backendName:"cpu",kernelFunc:FN},PN=Kx(e=>1/Math.sqrt(e)),$N=Qx(hs,PN),LN={kernelName:hs,backendName:"cpu",kernelFunc:$N};function zN(e,t,n,r,a,o,s,i,l,u){const c=[r/a,a],d=e.values,p=t.values;if(0===r)return Iu(n,t.dtype);const h=l instanceof ji?l:Iu(c,t.dtype);"string"===typeof l||"number"===typeof l?h.values.fill(l):"boolean"===typeof l&&h.values.fill(+l);for(let f=0;f<o;f++){const e=[];let o=0;for(let t=0;t<s;t++){const n=d[f*s+t];e.push(n),o+=n*i[t]}if(o<0||o>=r/a)throw new Error(`Invalid indices: ${e} does not index into ${n}`);for(let n=0;n<a;n++)u?h.values[o*a+n]+=p[f*a+n]:h.values[o*a+n]=0===t.rank?p[0]:p[f*a+n]}return h}const WN={kernelName:fs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:o}=t,{shape:s}=r,{sliceRank:i,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=Rc(0,a,s),p=zN(n.bufferSync(a),n.bufferSync(o),s,d,u,l,i,c,0,!0);return n.makeTensorInfo(s,p.dtype,p.values)}};function BN(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<t?n=a+1:r=a;return r}function UN(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<=t?n=a+1:r=a;return r}const jN={kernelName:gs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:o}=t,{side:s}=r,i=function(e,t,n,r,a,o){const s=_r("int32",n*a);for(let i=0;i<n;++i){const n=e.slice(i*r,(i+1)*r),l=i*a;for(let e=0;e<a;++e)s[l+e]="left"===o?BN(n,t[e+l]):UN(n,t[e+l])}return s}(n.data.get(a.dataId).values,n.data.get(o.dataId).values,a.shape[0],a.shape[1],o.shape[1],s);return n.makeTensorInfo(o.shape,"int32",i)}};const HN={kernelName:ys,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:o}=t;vb([r,a,o],"select");const s=r.shape.length,i=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(o.dataId).values,c=tl(a.dtype,o.dtype),d=Fr(vr(a.shape),c);let p=0;const h=0===s||s>1||1===a.shape.length?1:vr(a.shape.slice(1));for(let f=0;f<i.length;f++)for(let e=0;e<h;e++)1===i[f]?d[p++]=l[f]:d[p++]=u[f];return n.makeTensorInfo(a.shape,c,d)}},VN=Yx(vs,e=>e>=0?1.0507009873554805*e:1.7580993408473768*(Math.exp(e)-1)),qN={kernelName:vs,backendName:"cpu",kernelFunc:VN},GN=Yx(Ss,e=>e<0?-1:e>0?1:0),KN={kernelName:Ss,backendName:"cpu",kernelFunc:GN},YN=Yx(ws,e=>Math.sin(e)),QN={kernelName:ws,backendName:"cpu",kernelFunc:YN},XN=Yx(ks,e=>Math.sinh(e)),JN={kernelName:ks,backendName:"cpu",kernelFunc:XN},ZN=Math.log(1.1920928955078125e-7)+2,eC=Yx(Is,e=>{const t=e>-ZN,n=e<ZN,r=Math.exp(e);let a;return a=n?r:t?e:Math.log(1+r),a}),tC={kernelName:Is,backendName:"cpu",kernelFunc:eC};const nC={kernelName:Ts,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:o,paddings:s}=r;vb([a],"spaceToBatchND");const i=vr(o),l=[[0,0]];l.push(...s);for(let g=1+o.length;g<a.shape.length;++g)l.push([0,0]);const u=lN.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),c=ig(u.shape,o,i,!1),d=lg(c.length,o.length,!1),p=ug(u.shape,o,i,!1),h=TI({inputs:{x:u},backend:n,attrs:{shape:c}}),f=zI({inputs:{x:h},backend:n,attrs:{perm:d}}),m=TI({inputs:{x:f},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}};const rC={kernelName:As,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:o,defaultValue:s}=t;if(1!==o.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${o.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Values must be a vector, saw:\n        ${a.shape}`);if(0!==s.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${s.shape}`);const i=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(o.dataId).values,c=n.data.get(s.dataId).values[0],[d,p,h,f,m]=function(e,t,n,r,a,o,s){const i=t[0],l=o[0],u=new Array(l),c=new Array(i),d=t[1];if(0===l){if(0!==i)throw new Error(Sg(i));return[_r(n,0),[0,d],_r(a,0),u,c]}let p=!0,h=0;const f=new Array(l).fill(0);for(let g=0;g<i;++g){const t=e[g*d];if(t<0)throw new Error(xg(g,t));if(t>=l)throw new Error(Ig(g,t,l));++f[t],p=p&&t>=h,h=t}let m=!0;for(let g=0;g<l;++g){const e=0===f[g];u[g]=e,m=m&&!e,f[g]=Math.max(f[g],1),g>0&&(f[g]+=f[g-1])}if(m&&p){const t=e,n=r;for(let e=0;e<i;++e)c[e]=e;return[t,[i,d],n,u,c]}{const t=f[l-1],o=_r(n,t*d),p=_r(a,t),h=new Array(l).fill(0);for(let n=0;n<i;++n){const t=e[n*d],a=h[t],s=(0===t?0:f[t-1])+a;h[t]++;for(let r=0;r<d;++r)o[s*d+r]=e[n*d+r];p[s]=r[n],c[n]=s}for(let e=0;e<l;++e)if(0===h[e]){const t=0===e?0:f[e-1];o[t*d+0]=e;for(let e=1;e<d;++e)o[t*d+e]=0;p[t]=s}return[o,[t,d],p,u,c]}}(i,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([p[0]],a.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map(e=>Number(e)))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const aC={kernelName:Ms,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:o}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${a.shape}`);if(1!==o.shape.length)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const s=Array.from(n.data.get(a.dataId).values),i=n.data.get(r.dataId).values,l=Array.from(n.data.get(o.dataId).values),[u,c,d]=function(e,t,n,r,a){const o=vr(r),s=t[0],i=a.length,l=[];let u=1,c=-1;for(let m=0;m<i;++m){const e=a[m];if(-1===e){if(-1!==c)throw new Error(_g(c,m));c=m,l.push(1)}else{if(e<0)throw new Error(Eg(m,e));u*=e,l.push(e)}}if(-1!==c){if(u<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(o/u);if(u*e!==o)throw new Error(Tg(r,l));l[c]=e}if(vr(l)!==o)throw new Error(Ng(r,l));const d=r.length,p=[];if(d>0){p[d-1]=1;for(let e=d-2;e>=0;--e)p[e]=p[e+1]*r[e+1]}const h=[];if(i>0){h[i-1]=1;for(let e=i-2;e>=0;--e)h[e]=h[e+1]*l[e+1]}const f=_r(n,s*i);for(let m=0;m<s;++m){let t=0;for(let n=0;n<d;++n)t+=e[m*d+n]*p[n];for(let e=0;e<i;++e)f[m*i+e]=Math.trunc(t/h[e]),t%=h[e]}return[f,[s,i],l]}(i,r.shape,r.dtype,s,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}};function oC(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const i=r.length,l=[t[0],e.length/t[0]],u=l[1],c=i>0?a[i-1]+1:0;if(c<0)throw new Error("segment ids must be >= 0");const d=t.slice();d[0]=c;const p=_r(n,d.reduce((e,t)=>e*t,1));if(0===i)return c>0&&p.fill(s),[p,d];if(c<=0)throw new Error("segment ids must be >= 0");let h=0,f=1,m=0,g=a[h];for(;;){let t=0;if(f<i){if(t=a[f],g===t){++f;continue}if(g>=t)throw new Error(Cg())}if(g<0||g>=c)throw new Error(Ag(g,c));g>m&&p.fill(s,m*u,g*u);for(let n=h;n<f;++n){const t=r[n];if(t<0||t>=l[0])throw new Error(Mg(n,r[n],l[0]));for(let n=0;n<u;n++)p[g*u+n]+=e[t*u+n]}if(o)for(let e=0;e<u;e++)p[g*u+e]/=f-h;if(h=f,++f,m=g+1,g=t,f>i)break}return m<c&&p.fill(s,m*u,c*u),[p,d]}const sC={kernelName:Os,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${a.shape}`);if(1!==o.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${o.shape}`);if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,[u,c]=oC(s,r.shape,r.dtype,i,l,!0);return n.makeTensorInfo(c,r.dtype,u)}};const iC={kernelName:Rs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:o}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${a.shape}`);if(1!==o.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${o.shape}`);if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,[u,c]=oC(s,r.shape,r.dtype,i,l);return n.makeTensorInfo(c,r.dtype,u)}};const lC={kernelName:Fs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:o,defaultValue:s}=t,{outputShape:i}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=Rc(0,a,i),h=!1,f=n.bufferSync(a);let m;switch(o.dtype){case"bool":m=zN(f,n.bufferSync(o),i,p,c,u,l,d,Boolean(n.data.get(s.dataId).values[0]),h);break;case"float32":m=zN(f,n.bufferSync(o),i,p,c,u,l,d,n.data.get(s.dataId).values[0],h);break;case"int32":m=zN(f,n.bufferSync(o),i,p,c,u,l,d,n.data.get(s.dataId).values[0],h);break;case"string":m=zN(f,n.bufferSync(o),i,p,c,u,l,d,Oi(n.data.get(s.dataId).values[0]),h);break;default:throw new Error(`Unsupported type ${o.dtype}`)}return n.makeTensorInfo(i,m.dtype,m.values)}};const uC={kernelName:Ns,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:o,axis:s}=r,i=xr(s,a.shape)[0],l=kg(a,o,i),u=new Array(a.shape.length).fill(0),c=a.shape.slice();return l.map(e=>{const t=[...c];t[i]=e;const r=wb({inputs:{x:a},backend:n,attrs:{begin:u,size:t}});return u[i]+=e,r})}},cC=(Kx(e=>Math.sqrt(e)),Yx(_s,e=>Math.sqrt(e))),dC={kernelName:_s,backendName:"cpu",kernelFunc:cC},pC={kernelName:Ps,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{x:r}=t,a=n;vb(r,"square");const o=a.data.get(r.dataId).values,s=new Float32Array(o.length);for(let i=0;i<o.length;++i){const e=o[i];s[i]=e*e}return{dataId:a.write(s,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},hC=rI((e,t)=>{const n=e-t;return n*n}),fC=kI(Ds,hC),mC={kernelName:Ds,backendName:"cpu",kernelFunc:fC},gC=Kx((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:a}=t;return e.replace(new RegExp(n,r?"g":""),a)}),yC=Qx($s,gC),vC={kernelName:$s,backendName:"cpu",kernelFunc:yC},bC=Yx(Zs,(e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha}),wC={kernelName:Zs,backendName:"cpu",kernelFunc:bC};const kC={kernelName:Ls,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:o,end:s,strides:i,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r;vb(a,"stridedSlice");const{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:w}=Lc(a.shape,o,s,i,l,u,c,d,p);let k;if(m)k=TI({inputs:{x:a},backend:n,attrs:{shape:f}});else if(g||y){mr(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const e=Fc(v,b,w),t=wb({inputs:{x:a},backend:n,attrs:{begin:v,size:e}});k=TI({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=function(e,t,n,r){const a=Iu(e,t.dtype);for(let o=0;o<a.size;o++){const e=a.indexToLoc(o),s=new Array(e.length);for(let t=0;t<s.length;t++)s[t]=e[t]*n[t]+r[t];a.set(t.get(...s),...e)}return a}(h,n.bufferSync(a),w,v);k=n.makeTensorInfo(f,e.dtype,e.values)}return k}};const SC={kernelName:zs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:o,leftPad:s,rightPad:i,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=t,p=n.data.get(c.dataId).values,h=n.data.get(d.dataId).values,[f,m]=nx(p,h,a,o,s,i,l,u);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};const xC={kernelName:Ws,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:o,delimiter:s}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(1!==o.shape.length)throw new Error(`Input must be a vector, got shape: ${o.shape}`);if(0!==s.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);const i=n.data.get(o.dataId).values,l=n.data.get(s.dataId).values[0],[u,c,d]=ox(i,l,a),p=c.length;return[n.makeTensorInfo([p,2],"int32",u),n.makeTensorInfo([p],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const IC={kernelName:Bs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const s=ix(n.data.get(o.dataId).values,a);return n.makeTensorInfo(o.shape,"int32",s)}},_C=Yx(js,e=>Math.tan(e)),EC={kernelName:js,backendName:"cpu",kernelFunc:_C},TC=Yx(Hs,e=>Math.tanh(e));const NC={kernelName:ms,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:r,indices:a,updates:o}=t,{sliceRank:s,numUpdates:i,sliceSize:l,strides:u,outputSize:c}=Rc(0,a,r.shape),d=n.bufferSync(a),p=n.bufferSync(o),h=n.bufferSync(r),f=zN(d,p,r.shape,c,l,i,s,u,h,!1);return n.makeTensorInfo(r.shape,f.dtype,f.values)}};const CC={kernelName:Vs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:o}=r;vb(a,"tile");const s=function(e,t){const n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];const r=Iu(n,e.dtype);for(let a=0;a<r.values.length;++a){const t=r.indexToLoc(a),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const o=e.locToIndex(n);r.values[a]=e.values[o]}return r}(n.bufferSync(a),o);return n.makeTensorInfo(s.shape,s.dtype,s.values)}},AC=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function MC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;for(;r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),i=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*i*(a-i)/a)*Math.sign(o-a/2);MC(e,t,Math.max(n,Math.floor(t-o*i/a+l)),Math.min(r,Math.floor(t+(a-o)*i/a+l)))}const a=e[t];let o=n,s=r;for(fr(e,n,t),AC(e[r],a)>0&&fr(e,n,r);o<s;){for(fr(e,o,s),o++,s--;AC(e[o],a)<0;)o+=1;for(;AC(e[s],a)>0;)s-=1}0===AC(e[n],a)?fr(e,n,s):(s+=1,fr(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}}const OC={kernelName:qs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:o,sorted:s}=r;vb(a,"topk");const i=n.data.get(a.dataId).values,[l,u]=function(e,t,n,r,a){const o=t[t.length-1],[s,i]=[e.length/o,o],l=Ir(n,s*r),u=Ir("int32",s*r);for(let d=0;d<s;d++){const t=d*i,n=e.subarray(t,t+i);let o=new Array(n.length);n.forEach((e,t)=>o[t]={value:e,index:t}),r<o.length&&(MC(o,r),o=o.slice(0,r)),a&&o.sort(AC);const s=d*r,c=l.subarray(s,s+r),p=u.subarray(s,s+r);for(let e=0;e<r;e++)c[e]=o[e].value,p[e]=o[e].index}const c=t.slice();return c[c.length-1]=r,[Iu(c,n,l),Iu(c,"int32",u)]}(i,a.shape,a.dtype,o,s);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}};const RC={kernelName:Gs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{image:a,transforms:o}=t,{interpolation:s,fillMode:i,fillValue:l,outputShape:u}=n,[c,d,p,h]=a.shape,[f,m]=null!=u?u:[d,p],g=[c,f,m,h],y=Ar(a.shape),v=y[0],b=y[1],w=y[2],k=Ar(g),S=k[0],x=k[1],I=k[2],_=Ir(a.dtype,vr(g));_.fill(l);const E=r.data.get(a.dataId).values,T=r.data.get(o.dataId).values;for(let N=0;N<c;++N){const e=1===o.shape[0]?T:T.subarray(8*N,8*N+8);for(let t=0;t<f;++t)for(let n=0;n<m;++n)for(let r=0;r<h;++r){let a;const o=e[6]*n+e[7]*t+1;if(0===o)continue;const u=(e[0]*n+e[1]*t+e[2])/o,c=(e[3]*n+e[4]*t+e[5])/o,h=FC(u,p,i),f=FC(c,d,i);switch(s){case"nearest":a=PC(E,d,p,v,b,w,N,f,h,r,l);break;case"bilinear":a=$C(E,d,p,v,b,w,N,f,h,r,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${s}`)}_[N*S+t*x+n*I+r]=a}return r.makeTensorInfo(g,a.dtype,_)}return{dataId:r.write(_,g,a.dtype),shape:a.shape,dtype:a.dtype}}};function FC(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return hr(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return hr(0,n,t-1)}(e,t);case"nearest":return function(e,t){return hr(0,e,t-1)}(e,t);default:return function(e){return e}(e)}}function DC(e,t,n,r,a,o,s,i,l,u,c){return 0<=i&&i<t&&0<=l&&l<n?e[s*r+i*a+l*o+u]:c}function PC(e,t,n,r,a,o,s,i,l,u,c){return DC(e,t,n,r,a,o,s,Math.round(i),Math.round(l),u,c)}function $C(e,t,n,r,a,o,s,i,l,u,c){const d=Math.floor(i),p=Math.floor(l),h=d+1,f=p+1;return(h-i)*((f-l)*DC(e,t,n,r,a,o,s,d,p,u,c)+(l-p)*DC(e,t,n,r,a,o,s,d,f,u,c))+(i-d)*((f-l)*DC(e,t,n,r,a,o,s,h,p,u,c)+(l-p)*DC(e,t,n,r,a,o,s,h,f,u,c))}const LC={kernelName:Ys,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:o}=t;vb(o,"unique");const s=r.data.get(o.dataId).values,{outputValues:i,outputShape:l,indices:u}=Sx(s,a,o.shape,o.dtype);return[r.makeTensorInfo(l,o.dtype,i),r.makeTensorInfo([u.length],"int32",u)]}};const zC={kernelName:Qs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:o}=r;o<0&&(o+=a.shape.length);const s=a.shape.length,i=a.shape[o],l=new Array(s-1);let u=0;for(let h=0;h<s;h++)h!==o&&(l[u++]=a.shape[h]);const c=new Array(s).fill(0),d=a.shape.slice();d[o]=1;const p=new Array(i);for(let h=0;h<p.length;h++){c[o]=h;const e=wb({inputs:{x:a},backend:n,attrs:{begin:c,size:d}});p[h]=TI({inputs:{x:e},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(e)}return p}};const WC={kernelName:Xs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:o}=t,{numSegments:s}=r;vb(a,"unsortedSegmentSum");const i=[],l=[],u=a.shape.length-o.shape.length;let c=o;for(let p=0;p<u;++p){const e=fE({inputs:{input:c},backend:n,attrs:{dim:p+1}});c=e,l.push(e)}for(let p=0;p<s;++p){const e=Ni(p,"int32"),t=n.makeTensorInfo([],"int32",e),r=iE({inputs:{a:t,b:c},backend:n}),o=bI({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),s=eE({inputs:{a:o,b:a},backend:n}),u=nE({inputs:{x:s},backend:n,attrs:{axis:0,keepDims:!1}});i.push(u),l.push(t),l.push(r),l.push(o),l.push(s),l.push(u)}const d=sN({inputs:i,backend:n,attrs:{axis:0}});return l.forEach(e=>n.disposeIntermediateTensorInfo(e)),d}},BC=[MI,OI,FI,PI,EI,$I,BI,UI,jI,HI,qI,KI,QI,ZI,t_,o_,s_,i_,l_,AI,u_,c_,p_,m_,g_,wI,b_,k_,mI,S_,E_,N_,C_,A_,M_,O_,R_,D_,$_,L_,z_,W_,B_,U_,H_,V_,q_,G_,K_,Y_,Q_,X_,aE,Jx,oE,lE,cE,hE,mE,vE,CE,ME,OE,DE,LE,zE,WE,BE,UE,VE,KE,eI,YE,I_,XE,ZE,tT,nI,aT,iT,lT,dT,hT,gT,vT,kT,ST,xT,_T,NT,CT,AT,MT,OT,RT,FT,DT,LT,zT,UT,VT,tE,qT,KT,QT,JT,tN,nN,oN,iN,lN,dN,sI,pN,yN,bN,IN,_N,vI,kE,TN,lI,cI,NI,NN,CN,AN,MN,ON,RN,DN,LN,WN,jN,HN,qN,pI,KN,QN,JN,kb,HT,tC,nC,rC,aC,sC,iC,lC,uC,dC,pC,mC,vC,wC,kC,SC,xC,IC,_E,rE,EC,{kernelName:Hs,backendName:"cpu",kernelFunc:TC},NC,CC,OC,RC,WI,LC,zC,WC,aN];for(const n of BC)di(n);const UC=3e5;function jC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UC;return t=>{const n=2**t*100+100*Math.random();return!(n>e)&&n}}const HC=e=>e&&e.nonRetryable,VC=new C("retryUtil");const qC=function(e,t){let n=arguments.length>3?arguments[3]:void 0;return async function(e,t,n,r){if("function"!==typeof e)throw Error("functionToRetry must be a function");return new Promise(async(a,o)=>{let s,i,l=0,u=!1,c=()=>{};for(r&&r.then(()=>{u=!0,clearTimeout(s),c()});!u;){l++,VC.debug(`${e.name} attempt #${l} with this vars: ${JSON.stringify(t)}`);try{return void a(await e(...t))}catch(vH){if(i=vH,VC.debug(`error on ${e.name}`,vH),HC(vH))return VC.debug(`${e.name} non retryable error`,vH),void o(vH);const a=n(l,t,vH);if(VC.debug(`${e.name} retrying in ${a} ms`),!1===a||u)return void o(vH);await new Promise(e=>{c=e,s=setTimeout(c,a)})}}o(i)})}(e,t,jC(arguments.length>2&&void 0!==arguments[2]?arguments[2]:UC),n)};class GC{triggerModelLoading(){this.modelLoadingPromise=this.loadModels()}}class KC extends GC{constructor(e,t){super(),this.faceModelUrl=t??"https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow-models/blazeface/1.0.2/model/model.json",this.binaryPath=e??"https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow/tfjs-backend-wasm/4.11.0/"}async loadModels(){!function(){try{return!!window.WebAssembly&&(!!window.WebAssembly.compile||!!window.WebAssembly.compileStreaming)}catch(fP){return!1}}()?await this._loadCPUBackend():await this._loadWebAssemblyBackend();try{await dl.ready(),this._model=await function(e,t){return rv(this,void 0,void 0,function(){var n,r;return av(this,function(a){if(e===wv.MediaPipeFaceDetector){if(r=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,Mv(n)];if("mediapipe"===n.runtime)return[2,lv(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' "+"or 'mediapipe', but got ".concat(r))}throw new Error("".concat(e," is not a supported model name."))})})}(wv.MediaPipeFaceDetector,{runtime:"tfjs",detectorModelUrl:this.faceModelUrl})}catch(fP){throw new Error("There was an error loading the blazeface model. If you are using a custom blazeface model url ensure that it is a fully qualified url that returns a json file.")}}async detectFaces(e){const t=await this._model.estimateFaces(e,{flipHorizontal:!0}),n=Date.now();return t.map(e=>{const{box:t,keypoints:r}=e,{xMin:a,yMin:o,width:s,height:i}=t,l=this._getCoordinate(r,"rightEye"),u=this._getCoordinate(r,"leftEye"),c=this._getCoordinate(r,"noseTip"),d=this._getCoordinate(r,"mouthCenter"),p=this._getCoordinate(r,"rightEarTragion"),h=this._getCoordinate(r,"leftEarTragion");return{top:o,left:a,width:s,height:i,timestampMs:n,probability:90,rightEye:l,leftEye:u,mouth:d,nose:c,rightEar:p,leftEar:h}})}_getCoordinate(e,t){const n=e.find(e=>e.name===t);return[n.x,n.y]}async _loadWebAssemblyBackend(){try{!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ux)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"===typeof e)Wx=e;else{Bx=e;const t=Lx.filter(e=>null==Bx[e]);if(t.length>0)throw new Error(`There were no entries found for the following binaries: ${t.join(",")}. Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.`)}jx=t}(this.binaryPath),await qC(async()=>{if(!await Ou("wasm"))throw new Error("Initialization of backend wasm failed")},[]),this.modelBackend="wasm"}catch(fP){throw new Error('There was an error loading the TFJS WASM backend. If you are using a custom WASM path ensure that it ends with "/" and that it is not the full URL as @tensorflow/tfjs-backend-wasm will append the wasm binary file name. Read more: https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/src/backend_wasm.ts#L475.')}}async _loadCPUBackend(){await Ou("cpu"),this.modelBackend="cpu"}}function YC(e){return null!=e&&!Array.isArray(e)&&"object"===typeof e}function QC(e){return"string"===typeof e||"object"===typeof e&&"[object String]"===Object.prototype.toString.call(e)}function XC(e){return void 0===e}function JC(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function ZC(e){return"function"===typeof e}const eA=(e,t)=>t?`${e}--${t}`:"",tA=(e,t,n)=>n?`${e}--${t}`:"";var nA,rA,aA,oA,sA,iA,lA,uA,cA,dA,pA,hA,fA;!function(e){e[e.Scrolling=0]="Scrolling",e[e.Flat=1]="Flat"}(fA||(fA={}));class mA{constructor(e){nA.add(this),rA.set(this,void 0),aA.set(this,void 0),oA.set(this,fA.Flat),sA.set(this,0),iA.set(this,void 0),lA.set(this,!0),uA.set(this,0),ee(this,iA,e,"f"),ee(this,rA,e[0],"f"),ee(this,aA,e[0],"f")}async startSequences(e){return new Promise(t=>{setTimeout(()=>{Z(this,nA,"m",pA).call(this,{...e,resolve:t})},Math.min(10))})}}rA=new WeakMap,aA=new WeakMap,oA=new WeakMap,sA=new WeakMap,iA=new WeakMap,lA=new WeakMap,uA=new WeakMap,nA=new WeakSet,cA=function(){return Z(this,oA,"f")===fA.Flat},dA=function(){return Z(this,oA,"f")===fA.Scrolling},pA=function(e){let{onSequenceChange:t,onSequenceColorChange:n,onSequenceStart:r,onSequencesComplete:a,resolve:o}=e;ZC(r)&&r();const s=Date.now();let i=s-Z(this,uA,"f");Z(this,lA,"f")&&(ee(this,uA,Date.now(),"f"),ee(this,lA,!1,"f"),ZC(t)&&t({prevSequenceColor:Z(this,aA,"f").color,sequenceColor:Z(this,rA,"f").color,sequenceIndex:Z(this,sA,"f"),sequenceStartTime:s})),(Z(this,nA,"m",cA).call(this)&&i>=Z(this,rA,"f").flatDisplayDuration||Z(this,nA,"m",dA).call(this)&&i>=Z(this,rA,"f").downscrollDuration)&&(Z(this,nA,"m",hA).call(this,{sequenceStartTime:s,onSequenceChange:t}),i=0);if(Z(this,sA,"f")<Z(this,iA,"f").length){const e=i/(Z(this,nA,"m",dA).call(this)?Z(this,rA,"f").downscrollDuration:Z(this,rA,"f").flatDisplayDuration);ZC(n)&&n({sequenceColor:Z(this,rA,"f").color,heightFraction:e,prevSequenceColor:Z(this,aA,"f").color}),o(!1)}else ZC(a)&&a(),o(!0)},hA=function(e){let{sequenceStartTime:t,onSequenceChange:n}=e;if(ee(this,aA,Z(this,rA,"f"),"f"),Z(this,nA,"m",cA).call(this))ee(this,sA,Z(this,sA,"f")+1,"f"),ee(this,oA,fA.Scrolling,"f");else if(Z(this,nA,"m",dA).call(this)){Z(this,iA,"f")[Z(this,sA,"f")].flatDisplayDuration>0?ee(this,oA,fA.Flat,"f"):ee(this,sA,Z(this,sA,"f")+1,"f")}ee(this,rA,Z(this,iA,"f")[Z(this,sA,"f")],"f"),ee(this,uA,Date.now(),"f"),Z(this,rA,"f")&&ZC(n)&&n({prevSequenceColor:Z(this,aA,"f").color,sequenceColor:Z(this,rA,"f").color,sequenceIndex:Z(this,sA,"f"),sequenceStartTime:t})};const gA=async e=>{const{data:t,type:n}=e;return{VideoChunk:new Uint8Array("streamVideo"===n?await t.arrayBuffer():[]),TimestampMillis:"closeCode"===n?t:Date.now()}},yA=e=>{const{height:t,width:n}=e.getVideoTracks()[0].getSettings();if(XC(t)||XC(n))throw new Error(`Invalid Track Dimensions. height: ${t}, width: ${n} `);return{trackHeight:t,trackWidth:n}};function vA(e){let{trackHeight:t,trackWidth:n,height:r,width:a,top:o,left:s}=e;return{Height:r/t,Width:a/n,Top:o/t,Left:s/n}}const bA=(e,t,n)=>e-t-n,wA=e=>{const{trackWidth:t,left:n,width:r}=e;return vA({...e,left:bA(t,n,r)})};function kA(e){let{parsedSessionInformation:t,clientChallenge:n}=e;if(r=t,"FaceMovementChallenge"===r?.Challenge?.Name)return{Challenge:{FaceMovementChallenge:n}};var r;if((e=>"FaceMovementAndLightChallenge"===e?.Challenge?.Name)(t))return{Challenge:{FaceMovementAndLightChallenge:n}};throw new Error("Unable to create ClientSessionInformationEvent")}function SA(e){let{parsedSessionInformation:t,challengeId:n,faceMatchAssociatedParams:r,ovalAssociatedParams:a,recordingEndedTimestamp:o,trackHeight:s,trackWidth:i}=e;const{initialFace:l,ovalDetails:u}=a,{startFace:c,endFace:d}=r,p=wA({trackHeight:s,trackWidth:i,...l}),h=(e=>{const{height:t,width:n,centerX:r,centerY:a}=e;return vA({...e,top:a-t/2,left:r-n/2})})({trackHeight:s,trackWidth:i,...u});return kA({parsedSessionInformation:t,clientChallenge:{ChallengeId:n,InitialFace:{InitialFaceDetectedTimestamp:l.timestampMs,BoundingBox:p},TargetFace:{FaceDetectedInTargetPositionStartTimestamp:c.timestampMs,FaceDetectedInTargetPositionEndTimestamp:d.timestampMs,BoundingBox:h},VideoEndTimestamp:o}})}function xA(e){let{parsedSessionInformation:t,challengeId:n,ovalAssociatedParams:r,recordingStartedTimestamp:a,trackHeight:o,trackWidth:s}=e;const{initialFace:i}=r,l=wA({trackHeight:o,trackWidth:s,...i});return kA({parsedSessionInformation:t,clientChallenge:{ChallengeId:n,VideoStartTimestamp:a,InitialFace:{InitialFaceDetectedTimestamp:i.timestampMs,BoundingBox:l}}})}const IA=e=>e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map(e=>parseInt(e));function _A(e){let{challengeId:t,sequenceStartTime:n,sequenceIndex:r,sequenceColor:a,prevSequenceColor:o}=e;return{Challenge:{FaceMovementAndLightChallenge:{ChallengeId:t,ColorDisplayed:{CurrentColor:{RGB:IA(a)},PreviousColor:{RGB:IA(o)},SequenceNumber:r,CurrentColorStartTimestamp:n}}}}}var EA,TA,NA,CA;!function(e){e.HEADER="header",e.QUERY="query"}(EA||(EA={})),function(e){e.HEADER="header",e.QUERY="query"}(TA||(TA={})),function(e){e.HTTP="http",e.HTTPS="https"}(NA||(NA={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(CA||(CA={}));var AA;!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(AA||(AA={}));const MA="__smithy_context";var OA,RA;!function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(OA||(OA={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(RA||(RA={}));class FA{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new FA({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return FA.clone(this)}}const DA={tags:["EVENT_STREAM","SIGNATURE","HANDLE"],name:"eventStreamHandlingMiddleware",relation:"after",toMiddleware:"awsAuthMiddleware",override:!0},PA=e=>async t=>{const{request:n}=t;return FA.isInstance(n)?(n.headers={...n.headers,"content-type":"application/vnd.amazon.eventstream","x-amz-content-sha256":"STREAMING-AWS4-HMAC-SHA256-EVENTS"},e({...t,request:n})):e(t)},$A={step:"build",tags:["EVENT_STREAM","HEADER","CONTENT_TYPE","CONTENT_SHA256"],name:"eventStreamHeaderMiddleware",override:!0},LA=e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async r=>{const{request:a}=r;return FA.isInstance(a)?e.eventStreamPayloadHandler.handle(t,r,n):t(r)})(e),DA),t.add(PA,$A)}});class zA{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new zA({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return zA.clone(this)}}const WA={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},BA=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!zA.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:a=""}=e.requestHandler.metadata||{};if(a.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let e=r.hostname;null!=r.port&&(e+=`:${r.port}`),r.headers.host=e}return t(n)})(e),WA)}}),UA={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};class jA{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new jA({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return jA.clone(this)}}const HA="X-Amzn-Trace-Id",VA={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},qA=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:r}=n;if(!jA.isInstance(r)||"node"!==e.runtime)return t(n);const a=Object.keys(r.headers??{}).find(e=>e.toLowerCase()===HA.toLowerCase())??HA;if(r.headers.hasOwnProperty(a))return t(n);const o={NODE_ENV:"production",PUBLIC_URL:"/react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://workbench.ressystem.com/api"}._X_AMZN_TRACE_ID,s=e=>"string"===typeof e&&e.length>0;return s({NODE_ENV:"production",PUBLIC_URL:"/react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://workbench.ressystem.com/api"}.AWS_LAMBDA_FUNCTION_NAME)&&s(o)&&(r.headers[HA]=o),t({...n,request:r})})(e),VA)}}),GA=e=>{if("function"===typeof e)return e;const t=Promise.resolve(e);return()=>t};const KA=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),YA=e=>KA.test(e)||e.startsWith("[")&&e.endsWith("]"),QA=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),XA=function(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return QA.test(e);const t=e.split(".");for(const n of t)if(!XA(n))return!1;return!0},JA={},ZA="endpoints";function eM(e){return"object"!==typeof e||null==e?e:"ref"in e?`$${eM(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(eM).join(", ")})`:JSON.stringify(e,null,2)}class tM extends Error{constructor(e){super(e),this.name="EndpointError"}}const nM=(e,t)=>(e=>{const t=e.split("."),n=[];for(const r of t){const t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new tM(`Path: '${e}' does not end with ']'`);const a=r.slice(t+1,-1);if(Number.isNaN(parseInt(a)))throw new tM(`Invalid array index: '${a}' in path: '${e}'`);0!==t&&n.push(r.slice(0,t)),n.push(a)}else n.push(r)}return n})(t).reduce((n,r)=>{if("object"!==typeof n)throw new tM(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},e),rM={[NA.HTTP]:80,[NA.HTTPS]:443},aM={booleanEquals:(e,t)=>e===t,getAttr:nM,isSet:e=>null!=e,isValidHostLabel:XA,not:e=>!e,parseURL:e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"===typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:r="",path:a="",query:o={}}=e,s=new URL(`${r}//${t}${n?`:${n}`:""}${a}`);return s.search=Object.entries(o).map(e=>{let[t,n]=e;return`${t}=${n}`}).join("&"),s}return new URL(e)}catch(t){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:r,hostname:a,pathname:o,protocol:s,search:i}=t;if(i)return null;const l=s.slice(0,-1);if(!Object.values(NA).includes(l))return null;const u=YA(a);return{scheme:l,authority:`${r}${n.includes(`${r}:${rM[l]}`)||"string"===typeof e&&e.includes(`${r}:${rM[l]}`)?`:${rM[l]}`:""}`,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:u}},stringEquals:(e,t)=>e===t,substring:(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},oM=(e,t)=>{const n=[],r={...t.endpointParams,...t.referenceRecord};let a=0;for(;a<e.length;){const t=e.indexOf("{",a);if(-1===t){n.push(e.slice(a));break}n.push(e.slice(a,t));const o=e.indexOf("}",t);if(-1===o){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[o+1]&&(n.push(e.slice(t+1,o)),a=o+2);const s=e.substring(t+1,o);if(s.includes("#")){const[e,t]=s.split("#");n.push(nM(r[e],t))}else n.push(r[s]);a=o+1}return n.join("")},sM=(e,t,n)=>{if("string"===typeof e)return oM(e,n);if(e.fn)return iM(e,n);if(e.ref)return((e,t)=>{let{ref:n}=e;return{...t.endpointParams,...t.referenceRecord}[n]})(e,n);throw new tM(`'${t}': ${String(e)} is not a string, function or reference.`)},iM=(e,t)=>{let{fn:n,argv:r}=e;const a=r.map(e=>["boolean","number"].includes(typeof e)?e:sM(e,"arg",t)),o=n.split(".");return o[0]in JA&&null!=o[1]?JA[o[0]][o[1]](...a):aM[n](...a)},lM=(e,t)=>{let{assign:n,...r}=e;if(n&&n in t.referenceRecord)throw new tM(`'${n}' is already defined in Reference Record.`);const a=iM(r,t);return t.logger?.debug?.(`${ZA} evaluateCondition: ${eM(r)} = ${eM(a)}`),{result:""===a||!!a,...null!=n&&{toAssign:{name:n,value:a}}}},uM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const n={};for(const r of e){const{result:e,toAssign:a}=lM(r,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};a&&(n[a.name]=a.value,t.logger?.debug?.(`${ZA} assign: ${a.name} := ${eM(a.value)}`))}return{result:!0,referenceRecord:n}},cM=(e,t)=>Object.entries(e).reduce((e,n)=>{let[r,a]=n;return{...e,[r]:a.map(e=>{const n=sM(e,"Header value entry",t);if("string"!==typeof n)throw new tM(`Header '${r}' value '${n}' is not a string`);return n})}},{}),dM=(e,t)=>{if(Array.isArray(e))return e.map(e=>dM(e,t));switch(typeof e){case"string":return oM(e,t);case"object":if(null===e)throw new tM(`Unexpected endpoint property: ${e}`);return pM(e,t);case"boolean":return e;default:throw new tM("Unexpected endpoint property type: "+typeof e)}},pM=(e,t)=>Object.entries(e).reduce((e,n)=>{let[r,a]=n;return{...e,[r]:dM(a,t)}},{}),hM=(e,t)=>{const n=sM(e,"Endpoint URL",t);if("string"===typeof n)try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new tM("Endpoint URL must be a string, got "+typeof n)},fM=(e,t)=>{const{conditions:n,endpoint:r}=e,{result:a,referenceRecord:o}=uM(n,t);if(!a)return;const s={...t,referenceRecord:{...t.referenceRecord,...o}},{url:i,properties:l,headers:u}=r;return t.logger?.debug?.(`${ZA} Resolving endpoint from template: ${eM(r)}`),{...void 0!=u&&{headers:cM(u,s)},...void 0!=l&&{properties:pM(l,s)},url:hM(i,s)}},mM=(e,t)=>{const{conditions:n,error:r}=e,{result:a,referenceRecord:o}=uM(n,t);if(a)throw new tM(sM(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},gM=(e,t)=>{const{conditions:n,rules:r}=e,{result:a,referenceRecord:o}=uM(n,t);if(a)return yM(r,{...t,referenceRecord:{...t.referenceRecord,...o}})},yM=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=fM(n,t);if(e)return e}else if("error"===n.type)mM(n,t);else{if("tree"!==n.type)throw new tM(`Unknown endpoint rule: ${n}`);{const e=gM(n,t);if(e)return e}}throw new tM("Rules evaluation failed")},vM=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){for(const t of e.split("."))if(!vM(t))return!1;return!0}return!!XA(e)&&(!(e.length<3||e.length>63)&&(e===e.toLowerCase()&&!YA(e)))};let bM=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-east-2":{"description":"Asia Pacific (Taipei)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"AWS ISOF global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"amazonaws.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"EU (Germany)"}}}],"version":"1.1"}'),wM="";const kM={isVirtualHostableS3Bucket:vM,parseArn:e=>{const t=e.split(":");if(t.length<6)return null;const[n,r,a,o,s,...i]=t;if("arn"!==n||""===r||""===a||""===i.join(":"))return null;return{partition:r,service:a,region:o,accountId:s,resourceId:i.map(e=>e.split("/")).flat()}},partition:e=>{const{partitions:t}=bM;for(const r of t){const{regions:t,outputs:n}=r;for(const[r,a]of Object.entries(t))if(r===e)return{...n,...a}}for(const r of t){const{regionRegex:t,outputs:n}=r;if(new RegExp(t).test(e))return{...n}}const n=t.find(e=>"aws"===e.id);if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}}};JA.aws=kM;class SM{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new SM({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return SM.clone(this)}}function xM(e,t,n){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=n}const IM=/\d{12}\.ddb/;const _M="user-agent",EM="x-amz-user-agent",TM=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,NM=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;const CM=e=>(t,n)=>async r=>{const{request:a}=r;if(!SM.isInstance(a))return t(r);const{headers:o}=a,s=n?.userAgent?.map(AM)||[],i=(await e.defaultUserAgentProvider()).map(AM);await async function(e,t,n){const r=n.request;if("rpc-v2-cbor"===r?.headers?.["smithy-protocol"]&&xM(e,"PROTOCOL_RPC_V2_CBOR","M"),"function"===typeof t.retryStrategy){const n=await t.retryStrategy();"function"===typeof n.acquireInitialRetryToken?n.constructor?.name?.includes("Adaptive")?xM(e,"RETRY_MODE_ADAPTIVE","F"):xM(e,"RETRY_MODE_STANDARD","E"):xM(e,"RETRY_MODE_LEGACY","D")}if("function"===typeof t.accountIdEndpointMode){const n=e.endpointV2;switch(String(n?.url?.hostname).match(IM)&&xM(e,"ACCOUNT_ID_ENDPOINT","O"),await(t.accountIdEndpointMode?.())){case"disabled":xM(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":xM(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":xM(e,"ACCOUNT_ID_MODE_REQUIRED","R")}}const a=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(a?.$source){const t=a;t.accountId&&xM(e,"RESOLVED_ACCOUNT_ID","T");for(const[n,r]of Object.entries(t.$source??{}))xM(e,n,r)}}(n,e,r);const l=n;i.push(`m/${function(e){let t="";for(const n in e){const r=e[n];if(!(t.length+r.length+1<=1024))break;t.length?t+=","+r:t+=r}return t}(Object.assign({},n.__smithy_context?.features,l.__aws_sdk_context?.features))}`);const u=e?.customUserAgent?.map(AM)||[],c=await e.userAgentAppId();c&&i.push(AM([`app/${c}`]));const d=(wM?[wM]:[]).concat([...i,...s,...u]).join(" "),p=[...i.filter(e=>e.startsWith("aws-sdk-")),...u].join(" ");return"browser"!==e.runtime?(p&&(o[EM]=o[EM]?`${o[_M]} ${p}`:p),o[_M]=d):o[EM]=d,t({...r,request:a})},AM=e=>{const t=e[0].split("/").map(e=>e.replace(TM,"-")).join("/"),n=e[1]?.replace(NM,"-"),r=t.indexOf("/"),a=t.substring(0,r);let o=t.substring(r+1);return"api"===a&&(o=o.toLowerCase()),[a,o,n].filter(e=>e&&e.length>0).reduce((e,t,n)=>{switch(n){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}},"")},MM={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};!function(){function e(){this.crc32=new OM}e.prototype.update=function(e){le(e)||this.crc32.update(ie(e))},e.prototype.digest=function(){return Q(this,void 0,void 0,function(){return X(this,function(e){return[2,(t=this.crc32.digest(),new Uint8Array([(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))];var t})})},e.prototype.reset=function(){this.crc32=new OM}}();var OM=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var r=J(e),a=r.next();!a.done;a=r.next()){var o=a.value;this.checksum=this.checksum>>>8^RM[255&(this.checksum^o)]}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}(),RM=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);const FM={},DM={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e=`0${e}`),FM[n]=e,DM[e]=n}function PM(e){let t="";for(let n=0;n<e.byteLength;n++)t+=FM[e[n]];return t}class $M{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&LM(t),new $M(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&LM(e),parseInt(PM(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function LM(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class zM{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const a of Object.keys(e)){const n=this.fromUtf8(a);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[a]))}const n=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0));let r=0;for(const a of t)n.set(a,r),r+=a.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const a=new DataView(new ArrayBuffer(3+e.value.byteLength));a.setUint8(0,6),a.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(a.buffer);return o.set(e.value,3),o;case"string":const s=this.fromUtf8(e.value),i=new DataView(new ArrayBuffer(3+s.byteLength));i.setUint8(0,7),i.setUint16(1,s.byteLength,!1);const l=new Uint8Array(i.buffer);return l.set(s,3),l;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set($M.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!QM.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const c=new Uint8Array(17);return c[0]=9,c.set(function(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in DM))throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`);t[n/2]=DM[r]}return t}(e.value.replace(/\-/g,"")),1),c}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const r=e.getUint8(n++),a=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[a]={type:BM,value:!0};break;case 1:t[a]={type:BM,value:!1};break;case 2:t[a]={type:UM,value:e.getInt8(n++)};break;case 3:t[a]={type:jM,value:e.getInt16(n,!1)},n+=2;break;case 4:t[a]={type:HM,value:e.getInt32(n,!1)},n+=4;break;case 5:t[a]={type:VM,value:new $M(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const r=e.getUint16(n,!1);n+=2,t[a]={type:qM,value:new Uint8Array(e.buffer,e.byteOffset+n,r)},n+=r;break;case 7:const o=e.getUint16(n,!1);n+=2,t[a]={type:GM,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,o))},n+=o;break;case 8:t[a]={type:KM,value:new Date(new $M(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const s=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[a]={type:YM,value:`${PM(s.subarray(0,4))}-${PM(s.subarray(4,6))}-${PM(s.subarray(6,8))}-${PM(s.subarray(8,10))}-${PM(s.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}var WM;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(WM||(WM={}));const BM="boolean",UM="byte",jM="short",HM="integer",VM="long",qM="binary",GM="string",KM="timestamp",YM="uuid",QM=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class XM{constructor(e,t){this.headerMarshaller=new zM(e,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage:()=>e,isEndOfStream:()=>t}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const t=this.isEndOfStream;return{getMessages:()=>e,isEndOfStream:()=>t}}encode(e){let{headers:t,body:n}=e;const r=this.headerMarshaller.format(t),a=r.byteLength+n.byteLength+16,o=new Uint8Array(a),s=new DataView(o.buffer,o.byteOffset,o.byteLength),i=new OM;return s.setUint32(0,a,!1),s.setUint32(4,r.byteLength,!1),s.setUint32(8,i.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),s.setUint32(a-4,i.update(o.subarray(8,a-4)).digest(),!1),o}decode(e){const{headers:t,body:n}=function(e){let{byteLength:t,byteOffset:n,buffer:r}=e;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");const a=new DataView(r,n,t),o=a.getUint32(0,!1);if(t!==o)throw new Error("Reported message length does not match received message length");const s=a.getUint32(4,!1),i=a.getUint32(8,!1),l=a.getUint32(t-4,!1),u=(new OM).update(new Uint8Array(r,n,8));if(i!==u.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${u.digest()})`);if(u.update(new Uint8Array(r,n+8,t-12)),l!==u.digest())throw new Error(`The message checksum (${u.digest()}) did not match the expected value of ${l}`);return{headers:new DataView(r,n+8+4,s),body:new Uint8Array(r,n+8+4+s,o-s-16)}}(e);return{headers:this.headerMarshaller.parse(t),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}class JM{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream){const t=this.options.decoder.decode(e);yield t}}}class ZM{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const t=this.options.encoder.encode(e);yield t}this.options.includeEndFrame&&(yield new Uint8Array(0))}}class eO{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const t=await this.options.deserializer(e);void 0!==t&&(yield t)}}}class tO{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream){const t=this.options.serializer(e);yield t}}}const nO={},rO={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e=`0${e}`),nO[n]=e,rO[e]=n}function aO(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in rO))throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`);t[n/2]=rO[r]}return t}class oO{messageSigner;eventStreamCodec;systemClockOffsetProvider;constructor(e){this.messageSigner=e.messageSigner,this.eventStreamCodec=new XM(e.utf8Encoder,e.utf8Decoder),this.systemClockOffsetProvider=async()=>e.systemClockOffset??0}async handle(e,t){const n=t.request,{body:r,headers:a,query:o}=n;if(!(r instanceof ReadableStream))throw new Error("Eventstream payload must be a ReadableStream.");const s=new TransformStream;let i;n.body=s.readable;try{i=await e(t)}catch(fP){throw n.body.cancel(),fP}const l=((e,t,n,r)=>{let a=e;const o={start(){},async transform(e,o){try{const s=new Date(Date.now()+await r()),i={":date":{type:"timestamp",value:s}},l=await t.sign({message:{body:e,headers:i},priorSignature:a},{signingDate:s});a=l.signature;const u=n.encode({headers:{...i,":chunk-signature":{type:"binary",value:aO(l.signature)}},body:e});o.enqueue(u)}catch(s){o.error(s)}}};return new TransformStream({...o})})(((a.authorization||"").match(/Signature=([\w]+)$/)||[])[1]||o&&o["X-Amz-Signature"]||"",await this.messageSigner(),this.eventStreamCodec,this.systemClockOffsetProvider);return r.pipeThrough(l).pipeThrough(s),i}}const sO=e=>new oO(e),iO={step:"initialize",name:"injectSessionIdMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],override:!0};class lO{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new lO({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return lO.clone(this)}}class uO{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const cO={name:"websocketEndpointMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],relation:"after",toMiddleware:"eventStreamHeaderMiddleware",override:!0},dO=(e,t)=>({applyToStack:n=>{n.addRelativeTo(((e,t)=>n=>r=>{const{request:a}=r;if(lO.isInstance(a)&&e.requestHandler.metadata?.handlerProtocol?.toLowerCase().includes("websocket")){a.protocol="wss:",a.method="GET",a.path=`${a.path}-websocket`;const{headers:e}=a;delete e["content-type"],delete e["x-amz-content-sha256"];for(const n of Object.keys(e))if(0===n.indexOf(t.headerPrefix)){const r=n.replace(t.headerPrefix,"");a.query[r]=e[n]}e["x-amz-user-agent"]&&(a.query["user-agent"]=e["x-amz-user-agent"]),a.headers={host:e.host??a.hostname}}return n(r)})(e,t),cO),n.add(e=>async t=>{const n={...t.input},r=await e(t),a=r.output;return n.SessionId&&null==a.SessionId&&(a.SessionId=n.SessionId),r},iO)}}),pO=e=>"ws:"===e.protocol||"wss:"===e.protocol;class hO{signer;constructor(e){this.signer=e.signer}presign(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.signer.presign(e,t)}async sign(e,t){if(lO.isInstance(e)&&pO(e)){return{...await this.signer.presign({...e,body:""},{...t,expiresIn:60,unsignableHeaders:new Set(Object.keys(e.headers).filter(e=>"host"!==e))}),body:e.body}}return this.signer.sign(e,t)}}const fO=e=>!!e,mO=e=>encodeURIComponent(e).replace(/[!'()*]/g,gO),gO=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function yO(e){const{port:t,query:n}=e;let{protocol:r,path:a,hostname:o}=e;r&&":"!==r.slice(-1)&&(r+=":"),t&&(o+=`:${t}`),a&&"/"!==a.charAt(0)&&(a=`/${a}`);let s=n?function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=mO(n),Array.isArray(r))for(let e=0,a=r.length;e<a;e++)t.push(`${n}=${mO(r[e])}`);else{let e=n;(r||"string"===typeof r)&&(e+=`=${mO(r)}`),t.push(e)}}return t.join("&")}(n):"";s&&"?"!==s[0]&&(s=`?${s}`);let i="";if(null!=e.username||null!=e.password){i=`${e.username??""}:${e.password??""}@`}let l="";return e.fragment&&(l=`#${e.fragment}`),`${r}//${i}${o}${a}${s}${l}`}function vO(e,t){return async function(n){const{value:r}=n.headers[":message-type"];if("error"===r){const e=new Error(n.headers[":error-message"].value||"UnknownError");throw e.name=n.headers[":error-code"].value,e}if("exception"===r){const r=n.headers[":exception-type"].value,a={[r]:n},o=await e(a);if(o.$unknown){const e=new Error(t(n.body));throw e.name=r,e}throw o[r]}if("event"===r){const t={[n.headers[":event-type"].value]:n},r=await e(t);if(r.$unknown)return;return r}throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}class bO{constructor(e){let{utf8Encoder:t,utf8Decoder:n}=e;this.eventStreamCodec=new XM(t,n),this.utfEncoder=t}deserialize(e,t){const n=function(e){let t=0,n=0,r=null,a=null;const o=e=>{if("number"!==typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);t=e,n=4,r=new Uint8Array(e),new DataView(r.buffer).setUint32(0,e,!1)};return{[Symbol.asyncIterator]:async function*(){const s=e[Symbol.asyncIterator]();for(;;){const{value:e,done:i}=await s.next();if(i){if(!t)return;if(t!==n)throw new Error("Truncated event message received.");return void(yield r)}const l=e.length;let u=0;for(;u<l;){if(!r){const t=l-u;a||(a=new Uint8Array(4));const r=Math.min(4-n,t);if(a.set(e.slice(u,u+r),n),n+=r,u+=r,n<4)break;o(new DataView(a.buffer).getUint32(0,!1)),a=null}const s=Math.min(t-n,l-u);r.set(e.slice(u,u+s),n),n+=s,u+=s,t&&t===n&&(yield r,r=null,t=0,n=0)}}}}}(e);return new eO({messageStream:new JM({inputStream:n,decoder:this.eventStreamCodec}),deserializer:vO(t,this.utfEncoder)})}serialize(e,t){return new ZM({messageStream:new tO({inputStream:e,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}const wO=e=>({[Symbol.asyncIterator]:async function*(){const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)return;yield n}}finally{t.releaseLock()}}}),kO=e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){const{done:n,value:r}=await t.next();if(n)return e.close();e.enqueue(r)}})};class SO{constructor(e){let{utf8Encoder:t,utf8Decoder:n}=e;this.universalMarshaller=new bO({utf8Decoder:n,utf8Encoder:t})}deserialize(e,t){const n=xO(e)?wO(e):e;return this.universalMarshaller.deserialize(n,t)}serialize(e,t){const n=this.universalMarshaller.serialize(e,t);return"function"===typeof ReadableStream?kO(n):n}}const xO=e=>"function"===typeof ReadableStream&&e instanceof ReadableStream,IO=e=>new SO(e);class _O{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const EO=e=>encodeURIComponent(e).replace(/[!'()*]/g,TO),TO=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function NO(e,t){return new Request(e,t)}function CO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((t,n)=>{e&&setTimeout(()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",n(t)},e)})}const AO={supported:void 0};class MO{static create(e){return"function"===typeof e?.handle?e:new MO(e)}constructor(e){"function"===typeof e?this.configProvider=e().then(e=>e||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),void 0===AO.supported&&(AO.supported=Boolean("undefined"!==typeof Request&&"keepalive"in NO("https://[::1]")))}destroy(){}async handle(e){let{abortSignal:t,requestTimeout:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config||(this.config=await this.configProvider);const r=n??this.config.requestTimeout,a=!0===this.config.keepAlive,o=this.config.credentials;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let s=e.path;const i=function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=EO(n),Array.isArray(r))for(let e=0,a=r.length;e<a;e++)t.push(`${n}=${EO(r[e])}`);else{let e=n;(r||"string"===typeof r)&&(e+=`=${EO(r)}`),t.push(e)}}return t.join("&")}(e.query||{});i&&(s+=`?${i}`),e.fragment&&(s+=`#${e.fragment}`);let l="";if(null!=e.username||null!=e.password){l=`${e.username??""}:${e.password??""}@`}const{port:u,method:c}=e,d=`${e.protocol}//${l}${e.hostname}${u?`:${u}`:""}${s}`,p="GET"===c||"HEAD"===c?void 0:e.body,h={body:p,headers:new Headers(e.headers),method:c,credentials:o};this.config?.cache&&(h.cache=this.config.cache),p&&(h.duplex="half"),"undefined"!==typeof AbortController&&(h.signal=t),AO.supported&&(h.keepalive=a),"function"===typeof this.config.requestInit&&Object.assign(h,this.config.requestInit(e));let f=()=>{};const m=NO(d,h),g=[fetch(m).then(e=>{const t=e.headers,n={};for(const r of t.entries())n[r[0]]=r[1];return void 0!=e.body?{response:new _O({headers:n,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then(t=>({response:new _O({headers:n,reason:e.statusText,statusCode:e.status,body:t})}))}),CO(r)];return t&&g.push(new Promise((e,n)=>{const r=()=>{const e=new Error("Request aborted");e.name="AbortError",n(e)};if("function"===typeof t.addEventListener){const e=t;e.addEventListener("abort",r,{once:!0}),f=()=>e.removeEventListener("abort",r)}else t.onabort=r})),Promise.race(g).finally(f)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=t,n))}httpHandlerConfigs(){return this.config??{}}}const OO={},RO=new Array(64);for(let n=0,bH="A".charCodeAt(0),wH="Z".charCodeAt(0);n+bH<=wH;n++){const e=String.fromCharCode(n+bH);OO[e]=n,RO[n]=e}for(let n=0,bH="a".charCodeAt(0),wH="z".charCodeAt(0);n+bH<=wH;n++){const e=String.fromCharCode(n+bH),t=n+26;OO[e]=t,RO[t]=e}for(let n=0;n<10;n++){OO[n.toString(10)]=n+52;const e=n.toString(10),t=n+52;OO[e]=t,RO[t]=e}OO["+"]=62,RO[62]="+",OO["/"]=63,RO[63]="/";const FO=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let a=0;a<e.length;a+=4){let t=0,n=0;for(let r=a,i=a+3;r<=i;r++)if("="!==e[r]){if(!(e[r]in OO))throw new TypeError(`Invalid character ${e[r]} in base64 string.`);t|=OO[e[r]]<<6*(i-r),n+=6}else t>>=6;const o=a/4*3;t>>=n%8;const s=Math.floor(n/8);for(let e=0;e<s;e++){const n=8*(s-e-1);r.setUint8(o+e,(t&255<<n)>>n)}}return new Uint8Array(n)};function DO(e){let t;t="string"===typeof e?(e=>(new TextEncoder).encode(e))(e):e;const n="object"===typeof t&&"number"===typeof t.length,r="object"===typeof t&&"number"===typeof t.byteOffset&&"number"===typeof t.byteLength;if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let a="";for(let o=0;o<t.length;o+=3){let e=0,n=0;for(let a=o,s=Math.min(o+3,t.length);a<s;a++)e|=t[a]<<8*(s-a-1),n+=8;const r=Math.ceil(n/6);e<<=6*r-n;for(let t=1;t<=r;t++){const n=6*(r-t);a+=RO[(e&63<<n)>>n]}a+="==".slice(0,4-r)}return a}const PO=async e=>"function"===typeof Blob&&e instanceof Blob||"Blob"===e.constructor?.name?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await e.arrayBuffer()):async function(e){const t=await function(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{if(2!==r.readyState)return n(new Error("Reader aborted too early"));const e=r.result??"",a=e.indexOf(","),o=a>-1?a+1:e.length;t(e.substring(o))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(e)})}(e),n=FO(t);return new Uint8Array(n)}(e):async function(e){const t=[],n=e.getReader();let r=!1,a=0;for(;!r;){const{done:e,value:o}=await n.read();o&&(t.push(o),a+=o.length),r=e}const o=new Uint8Array(a);let s=0;for(const i of t)o.set(i,s),s+=i.length;return o}(e);const $O=2e3;class LO{metadata={handlerProtocol:"websocket/h1.1"};config;configPromise;httpHandler;sockets={};static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new MO;return"function"===typeof e?.handle?e:new LO(e,t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new MO;this.httpHandler=t,"function"===typeof e?(this.config={},this.configPromise=e().then(e=>this.config=e??{})):(this.config=e??{},this.configPromise=Promise.resolve(this.config))}destroy(){for(const[e,t]of Object.entries(this.sockets)){for(const e of t)e.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!pO(e))return this.httpHandler.handle(e);const t=yO(e),n=new WebSocket(t);this.sockets[t]||(this.sockets[t]=[]),this.sockets[t].push(n),n.binaryType="arraybuffer",this.config=await this.configPromise;const{connectionTimeout:r=$O}=this.config;await this.waitForReady(n,r);const{body:a}=e,o=zO(a),s=this.connect(n,o),i=WO(s);return{response:new uO({statusCode:200,body:i})}}updateHttpClientConfig(e,t){this.configPromise=this.configPromise.then(n=>(n[e]=t,n))}httpHandlerConfigs(){return this.config??{}}removeNotUsableSockets(e){this.sockets[e]=(this.sockets[e]??[]).filter(e=>![WebSocket.CLOSING,WebSocket.CLOSED].includes(e.readyState))}waitForReady(e,t){return new Promise((n,r)=>{const a=setTimeout(()=>{this.removeNotUsableSockets(e.url),r({$metadata:{httpStatusCode:500}})},t);e.onopen=()=>{clearTimeout(a),n()}})}connect(e,t){let n,r=!1,a=()=>{},o=()=>{};e.onmessage=e=>{o({done:!1,value:new Uint8Array(e.data)})},e.onerror=t=>{r=!0,e.close(),a(t)},e.onclose=()=>{this.removeNotUsableSockets(e.url),r||(n?a(n):o({done:!0,value:void 0}))};const s={[Symbol.asyncIterator]:()=>({next:()=>new Promise((e,t)=>{o=e,a=t})})};return(async()=>{try{for await(const n of t)e.send(n)}catch(vH){n=vH}finally{e.close(1e3)}})(),s}}const zO=e=>e[Symbol.asyncIterator]?e:BO(e)?wO(e):{[Symbol.asyncIterator]:async function*(){yield e}},WO=e=>"function"===typeof ReadableStream?kO(e):e,BO=e=>"function"===typeof ReadableStream&&e instanceof ReadableStream;var UO;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(UO||(UO={}));const jO=e=>e[MA]||(e[MA]={}),HO=e=>{if("function"===typeof e)return e;const t=Promise.resolve(e);return()=>t},VO=e=>"string"===typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),qO=e=>VO(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;const GO=(e,t)=>(n,r)=>async a=>{const o=((e,t)=>{if(!t||0===t.length)return e;const n=[];for(const r of t)for(const t of e)t.schemeId.split("#")[1]===r&&n.push(t);for(const r of e)n.find(e=>{let{schemeId:t}=e;return t===r.schemeId})||n.push(r);return n})(e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,r,a.input)),e.authSchemePreference?await e.authSchemePreference():[]),s=function(e){const t=new Map;for(const n of e)t.set(n.schemeId,n);return t}(e.httpAuthSchemes),i=jO(r),l=[];for(const n of o){const a=s.get(n.schemeId);if(!a){l.push(`HttpAuthScheme \`${n.schemeId}\` was not enabled for this service.`);continue}const o=a.identityProvider(await t.identityProviderConfigProvider(e));if(!o){l.push(`HttpAuthScheme \`${n.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:u={},signingProperties:c={}}=n.propertiesExtractor?.(e,r)||{};n.identityProperties=Object.assign(n.identityProperties||{},u),n.signingProperties=Object.assign(n.signingProperties||{},c),i.selectedHttpAuthScheme={httpAuthOption:n,identity:await o(n.identityProperties),signer:a.signer};break}if(!i.selectedHttpAuthScheme)throw new Error(l.join("\n"));return n(a)},KO={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};class YO{constructor(e){this.authSchemes=new Map;for(const[t,n]of Object.entries(e))void 0!==n&&this.authSchemes.set(t,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}class QO{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new QO({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return QO.clone(this)}}const XO=e=>e=>{throw e},JO=(e,t)=>{},ZO={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},eR=e=>({applyToStack:e=>{e.addRelativeTo((e,t)=>async n=>{if(!QO.isInstance(n.request))return e(n);const r=jO(t).selectedHttpAuthScheme;if(!r)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:a={}},identity:o,signer:s}=r,i=await e({...n,request:await s.sign(n.request,o,a)}).catch((s.errorHandler||XO)(a));return(s.successHandler||JO)(i.response,a),i},ZO)}});class tR{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new tR({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return tR.clone(this)}}const nR="content-length";const rR={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},aR=e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const r=t.request;if(tR.isInstance(r)){const{body:e,headers:t}=r;if(e&&-1===Object.keys(t).map(e=>e.toLowerCase()).indexOf(nR))try{const t=n(e);r.headers={...r.headers,[nR]:String(t)}}catch(a){}}return e({...t,request:r})}),rR)}});const oR=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,sR=/(\d+\.){3}\d+/,iR=/\.\./,lR=e=>oR.test(e)&&!sR.test(e)&&!iR.test(e),uR=e=>{const[t,n,r,,,a]=e.split(":"),o="arn"===t&&e.split(":").length>=6,s=Boolean(o&&n&&r&&a);if(o&&!s)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return s},cR=(e,t,n)=>{const r=async()=>{const r=n[e]??n[t];return"function"===typeof r?r():r};return"credentialScope"===e||"CredentialScope"===t?async()=>{const e="function"===typeof n.credentials?await n.credentials():n.credentials;return e?.credentialScope??e?.CredentialScope}:"accountId"===e||"AccountId"===t?async()=>{const e="function"===typeof n.credentials?await n.credentials():n.credentials;return e?.accountId??e?.AccountId}:"endpoint"===e||"endpoint"===t?async()=>{if(!1===n.isCustomEndpoint)return;const e=await r();if(e&&"object"===typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:r,path:a}=e;return`${t}//${n}${r?":"+r:""}${a}`}}return e}:r},dR=async e=>{};const pR=e=>{if("string"===typeof e)return pR(new URL(e));const{hostname:t,pathname:n,port:r,protocol:a,search:o}=e;let s;return o&&(s=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,r=null]=n.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:a,path:n,query:s}},hR=e=>"object"===typeof e?"url"in e?pR(e.url):e:pR(e),fR=async(e,t,n)=>{const r={},a=t?.getEndpointParameterInstructions?.()||{};for(const[o,s]of Object.entries(a))switch(s.type){case"staticContextParams":r[o]=s.value;break;case"contextParams":r[o]=e[s.name];break;case"clientContextParams":case"builtInParams":r[o]=await cR(s.name,o,n)();break;case"operationContextParams":r[o]=s.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return 0===Object.keys(a).length&&Object.assign(r,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"===typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),uR(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!lR(t)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(r),r},mR=e=>{let{config:t,instructions:n}=e;return(e,r)=>async a=>{t.isCustomEndpoint&&function(e,t,n){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=n}(r,"ENDPOINT_OVERRIDE","N");const o=await(async(e,t,n,r)=>{if(!n.isCustomEndpoint){let e;e=n.serviceConfiguredEndpoint?await n.serviceConfiguredEndpoint():await dR(n.serviceId),e&&(n.endpoint=()=>Promise.resolve(hR(e)),n.isCustomEndpoint=!0)}const a=await fR(e,t,n);if("function"!==typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(a,r)})(a.input,{getEndpointParameterInstructions:()=>n},{...t},r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;const s=r.authSchemes?.[0];if(s){r.signing_region=s.signingRegion,r.signing_service=s.signingName;const e=jO(r),t=e?.selectedHttpAuthScheme?.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:s.signingRegion,signingRegion:s.signingRegion,signing_service:s.signingName,signingName:s.signingName,signingRegionSet:s.signingRegionSet},s.properties))}return e({...a})}};class gR{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const yR=(e,t)=>(t.find(t=>{let[n]=t;return n.match(e)})||[void 0,void 0])[1],vR={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},bR={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function wR(e,t,n){return{applyToStack:r=>{r.add(((e,t)=>(n,r)=>async a=>{const{response:o}=await n(a);try{return{response:o,output:await t(o,e)}}catch(s){if(Object.defineProperty(s,"$response",{value:o}),!("$metadata"in s)){const e="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{s.message+="\n  "+e}catch(fP){r.logger&&"NoOpLogger"!==r.logger?.constructor?.name?r.logger?.warn?.(e):console.warn(e)}"undefined"!==typeof s.$responseBodyText&&s.$response&&(s.$response.body=s.$responseBodyText);try{if(gR.isInstance(o)){const{headers:e={}}=o,t=Object.entries(e);s.$metadata={httpStatusCode:o.statusCode,requestId:yR(/^x-[\w-]+-request-?id$/,t),extendedRequestId:yR(/^x-[\w-]+-id-2$/,t),cfId:yR(/^x-[\w-]+-cf-id$/,t)}}}catch(fP){}}throw s}})(e,n),vR),r.add(((e,t)=>(n,r)=>async a=>{const o=e,s=r.endpointV2?.url&&o.urlParser?async()=>o.urlParser(r.endpointV2.url):o.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const i=await t(a.input,{...e,endpoint:s});return n({...a,request:i})})(e,t),bR)}}}const kR={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:bR.name},SR=(e,t)=>({applyToStack:n=>{n.addRelativeTo(mR({config:e,instructions:t}),kR)}});var xR;!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(xR||(xR={}));const IR=xR.STANDARD,_R=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],ER=["TimeoutError","RequestTimeout","RequestTimeoutException"],TR=[500,502,503,504],NR=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],CR=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],AR=e=>429===e.$metadata?.httpStatusCode||_R.includes(e.name)||1==e.$retryable?.throttling,MR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=>e.$metadata?.clockSkewCorrected)(e)||ER.includes(e.name)||NR.includes(e?.code||"")||CR.includes(e?.code||"")||TR.includes(e.$metadata?.httpStatusCode||0)||(e=>{const t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return!!(e&&e instanceof TypeError)&&t.has(e.message)})(e)||void 0!==e.cause&&t<=10&&MR(e.cause,t+1)};class OR{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(e=>OR.setTimeoutFn(e,t))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),AR(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}OR.setTimeoutFn=setTimeout;const RR=100,FR=2e4,DR="amz-sdk-invocation-id",PR="amz-sdk-request",$R=e=>{let{retryDelay:t,retryCount:n,retryCost:r}=e;return{getRetryCount:()=>n,getRetryDelay:()=>Math.min(FR,t),getRetryCost:()=>r}};class LR{constructor(e){this.maxAttempts=e,this.mode=xR.STANDARD,this.capacity=500,this.retryBackoffStrategy=(()=>{let e=RR;return{computeNextBackoffDelay:t=>Math.floor(Math.min(FR,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})(),this.maxAttemptsProvider="function"===typeof e?e:async()=>e}async acquireInitialRetryToken(e){return $R({retryDelay:RR,retryCount:0})}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){const n=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===n?500:RR);const r=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),a=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,r):r,o=this.getCapacityCost(n);return this.capacity-=o,$R({retryDelay:a,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,t,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class zR{constructor(e,t){this.maxAttemptsProvider=e,this.mode=xR.ADAPTIVE;const{rateLimiter:n}=t??{};this.rateLimiter=n??new OR,this.standardRetryStrategy=new LR(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}class WR{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new WR({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return WR.clone(this)}}class BR{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const UR={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let jR;const HR=new Uint8Array(16);function VR(){if(!jR&&(jR="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jR))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jR(HR)}const qR=[];for(let n=0;n<256;++n)qR.push((n+256).toString(16).slice(1));function GR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return qR[e[t+0]]+qR[e[t+1]]+qR[e[t+2]]+qR[e[t+3]]+"-"+qR[e[t+4]]+qR[e[t+5]]+"-"+qR[e[t+6]]+qR[e[t+7]]+"-"+qR[e[t+8]]+qR[e[t+9]]+"-"+qR[e[t+10]]+qR[e[t+11]]+qR[e[t+12]]+qR[e[t+13]]+qR[e[t+14]]+qR[e[t+15]]}const KR=function(e,t,n){if(UR.randomUUID&&!t&&!e)return UR.randomUUID();const r=(e=e||{}).random||(e.rng||VR)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return GR(r)},YR=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"===typeof e?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);const QR=(e,t)=>{const n=[];if(e&&n.push(e),t)for(const r of t)n.push(r);return n},XR=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,JR=()=>{let e=[],t=[],n=!1;const r=new Set,a=n=>(e.forEach(e=>{n.add(e.middleware,{...e})}),t.forEach(e=>{n.addRelativeTo(e.middleware,{...e})}),n.identifyOnResolve?.(i.identifyOnResolve()),n),o=e=>{const t=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))}),t.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))}),t},s=function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const r=[],a=[],s={};e.forEach(e=>{const t={...e,before:[],after:[]};for(const n of QR(t.name,t.aliases))s[n]=t;r.push(t)}),t.forEach(e=>{const t={...e,before:[],after:[]};for(const n of QR(t.name,t.aliases))s[n]=t;a.push(t)}),a.forEach(e=>{if(e.toMiddleware){const t=s[e.toMiddleware];if(void 0===t){if(n)return;throw new Error(`${e.toMiddleware} is not found when adding ${XR(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}});const i=(l=r,l.sort((e,t)=>ZR[t.step]-ZR[e.step]||eF[t.priority||"normal"]-eF[e.priority||"normal"])).map(o).reduce((e,t)=>(e.push(...t),e),[]);var l;return i},i={add:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{name:a,override:o,aliases:s}=n,i={step:"initialize",priority:"normal",middleware:t,...n},l=QR(a,s);if(l.length>0){if(l.some(e=>r.has(e))){if(!o)throw new Error(`Duplicate middleware name '${XR(a,s)}'`);for(const t of l){const n=e.findIndex(e=>e.name===t||e.aliases?.some(e=>e===t));if(-1===n)continue;const r=e[n];if(r.step!==i.step||i.priority!==r.priority)throw new Error(`"${XR(r.name,r.aliases)}" middleware with ${r.priority} priority in ${r.step} step cannot be overridden by "${XR(a,s)}" middleware with ${i.priority} priority in ${i.step} step.`);e.splice(n,1)}}for(const e of l)r.add(e)}e.push(i)},addRelativeTo:(e,n)=>{const{name:a,override:o,aliases:s}=n,i={middleware:e,...n},l=QR(a,s);if(l.length>0){if(l.some(e=>r.has(e))){if(!o)throw new Error(`Duplicate middleware name '${XR(a,s)}'`);for(const e of l){const n=t.findIndex(t=>t.name===e||t.aliases?.some(t=>t===e));if(-1===n)continue;const r=t[n];if(r.toMiddleware!==i.toMiddleware||r.relation!==i.relation)throw new Error(`"${XR(r.name,r.aliases)}" middleware ${r.relation} "${r.toMiddleware}" middleware cannot be overridden by "${XR(a,s)}" middleware ${i.relation} "${i.toMiddleware}" middleware.`);t.splice(n,1)}}for(const e of l)r.add(e)}t.push(i)},clone:()=>a(JR()),use:e=>{e.applyToStack(i)},remove:n=>"string"===typeof n?(n=>{let a=!1;const o=e=>{const t=QR(e.name,e.aliases);if(t.includes(n)){a=!0;for(const e of t)r.delete(e);return!1}return!0};return e=e.filter(o),t=t.filter(o),a})(n):(n=>{let a=!1;const o=e=>{if(e.middleware===n){a=!0;for(const t of QR(e.name,e.aliases))r.delete(t);return!1}return!0};return e=e.filter(o),t=t.filter(o),a})(n),removeByTag:n=>{let a=!1;const o=e=>{const{tags:t,name:o,aliases:s}=e;if(t&&t.includes(n)){const e=QR(o,s);for(const t of e)r.delete(t);return a=!0,!1}return!0};return e=e.filter(o),t=t.filter(o),a},concat:e=>{const t=a(JR());return t.use(e),t.identifyOnResolve(n||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:a,identify:()=>s(!0).map(e=>{const t=e.step??e.relation+" "+e.toMiddleware;return XR(e.name,e.aliases)+" - "+t}),identifyOnResolve:e=>("boolean"===typeof e&&(n=e),n),resolve:(e,t)=>{for(const n of s().map(e=>e.middleware).reverse())e=n(e,t);return n&&console.log(i.identify()),e}};return i},ZR={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},eF={high:3,normal:2,low:1};class tF{constructor(e){this.config=e,this.middlewareStack=JR()}send(e,t,n){const r="function"!==typeof t?t:void 0,a="function"===typeof t?t:n;let o;if(void 0===r&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);const t=this.handlers;t.has(e.constructor)?o=t.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,r),t.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!a)return o(e).then(e=>e.output);o(e).then(e=>a(null,e.output),e=>a(e)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}function nF(e){return"base64"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8")?DO(e):(e=>{if("string"===typeof e)return e;if("object"!==typeof e||"number"!==typeof e.byteOffset||"number"!==typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)})(e)}function rF(e,t){return"base64"===t?aF.mutate(FO(e)):aF.mutate((e=>(new TextEncoder).encode(e))(e))}class aF extends Uint8Array{static fromString(e){if("string"===typeof e)return rF(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8");throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,aF.prototype),e}transformToString(){return nF(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8")}}"function"===typeof ReadableStream&&ReadableStream;const oF={},sF={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e=`0${e}`),oF[n]=e,sF[e]=n}class iF{constructor(){this.middlewareStack=JR()}static classBuilder(){return new lF}resolveMiddlewareWithContext(e,t,n,r){let{middlewareFn:a,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:l,smithyContext:u,additionalContext:c,CommandCtor:d}=r;for(const g of a.bind(this)(d,e,t,n))this.middlewareStack.use(g);const p=e.concat(this.middlewareStack),{logger:h}=t,f={logger:h,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:l,[MA]:{commandInstance:this,...u},...c},{requestHandler:m}=t;return p.resolve(e=>m.handle(e.request,n||{}),f)}}class lF{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._smithyContext={service:e,operation:t,...n},this}c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){const e=this;let t;return t=class extends iF{static getEndpointParameterInstructions(){return e._ep}constructor(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let[a]=n;super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=a??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(n,r,a){return this.resolveMiddlewareWithContext(n,r,a,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}class uF extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;const t=e;return uF.prototype.isPrototypeOf(t)||Boolean(t.$fault)&&Boolean(t.$metadata)&&("client"===t.$fault||"server"===t.$fault)}static[Symbol.hasInstance](e){if(!e)return!1;const t=e;return this===uF?uF.isInstance(e):!!uF.isInstance(e)&&(t.name&&this.name?this.prototype.isPrototypeOf(e)||t.name===this.name:this.prototype.isPrototypeOf(e))}}const cF=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.entries(t).filter(e=>{let[,t]=e;return void 0!==t}).forEach(t=>{let[n,r]=t;void 0!=e[n]&&""!==e[n]||(e[n]=r)});const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},dF=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),pF=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},hF=e=>Object.assign((e=>{const t=[];for(const n in CA){const r=CA[n];void 0!==e[r]&&t.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{addChecksumAlgorithm(e){t.push(e)},checksumAlgorithms:()=>t}})(e),(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy:()=>e.retryStrategy}))(e)),fF=e=>null!=e;class mF{trace(){}debug(){}info(){}warn(){}error(){}}function gF(e,t,n){let r,a,o;if("undefined"===typeof t&&"undefined"===typeof n)r={},o=e;else{if(r=e,"function"===typeof t)return a=t,o=n,vF(r,a,o);o=t}for(const s of Object.keys(o))Array.isArray(o[s])?bF(r,null,o,s):r[s]=o[s];return r}const yF=(e,t)=>{const n={};for(const r in t)bF(n,e,t,r);return n},vF=(e,t,n)=>gF(e,Object.entries(n).reduce((e,n)=>{let[r,a]=n;return Array.isArray(a)?e[r]=a:e[r]="function"===typeof a?[t,a()]:[t,a],e},{})),bF=(e,t,n,r)=>{if(null!==t){let a=n[r];"function"===typeof a&&(a=[,a]);const[o=wF,s=kF,i=r]=a;return void(("function"===typeof o&&o(t[i])||"function"!==typeof o&&o)&&(e[r]=s(t[i])))}let[a,o]=n[r];if("function"===typeof o){let t;const n=void 0===a&&null!=(t=o()),s="function"===typeof a&&!!a(void 0)||"function"!==typeof a&&!!a;n?e[r]=t:s&&(e[r]=o())}else{const t=void 0===a&&null!=o,n="function"===typeof a&&!!a(o)||"function"!==typeof a&&!!a;(t||n)&&(e[r]=o)}},wF=e=>null!=e,kF=e=>e,SF=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},xF=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter(e=>null!=e).map(xF);if("object"===typeof e){const t={};for(const n of Object.keys(e))null!=e[n]&&(t[n]=xF(e[n]));return t}return e},IF=e=>{if(null!==e&&void 0!==e){if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&PF.warn(DF(`Expected number but observed string: ${e}`)),t}if("number"===typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},_F=Math.ceil(2**127*(2-2**-23)),EF=e=>{const t=IF(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>_F)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},TF=e=>{if(null!==e&&void 0!==e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},NF=e=>CF(e,32),CF=(e,t)=>{const n=TF(e);if(void 0!==n&&AF(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},AF=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},MF=e=>{if(null!==e&&void 0!==e){if("string"===typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return PF.warn(DF(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},OF=e=>{if(null===e||void 0===e)return;const t=(e=>{if(null===e||void 0===e)return;if("object"===typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)})(e),n=Object.entries(t).filter(e=>{let[,t]=e;return null!=t}).map(e=>{let[t]=e;return t});if(0===n.length)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return t},RF=e=>"string"==typeof e?FF(e):EF(e),FF=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},DF=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),PF={warn:console.warn},$F=e=>e?.body instanceof ReadableStream,LF=e=>"undefined"!==typeof e.acquireInitialRetryToken&&"undefined"!==typeof e.refreshRetryTokenForRetry&&"undefined"!==typeof e.recordSuccess,zF=e=>{const t={error:e,errorType:WF(e)},n=jF(e.$response);return n&&(t.retryAfterHint=n),t},WF=e=>AR(e)?"THROTTLING":MR(e)?"TRANSIENT":(e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!MR(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",BF={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},UF=e=>({applyToStack:t=>{t.add((e=>(t,n)=>async r=>{let a=await e.retryStrategy();const o=await e.maxAttempts();if(!LF(a))return a?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",a.mode]]),a.retry(t,r);{let e=await a.acquireInitialRetryToken(n.partition_id),i=new Error,l=0,u=0;const{request:c}=r,d=WR.isInstance(c);for(d&&(c.headers[DR]=KR());;)try{d&&(c.headers[PR]=`attempt=${l+1}; max=${o}`);const{response:n,output:s}=await t(r);return a.recordSuccess(e),s.$metadata.attempts=l+1,s.$metadata.totalRetryDelay=u,{response:n,output:s}}catch(fP){const r=zF(fP);if(i=YR(fP),d&&$F(c))throw(n.logger instanceof mF?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),i;try{e=await a.refreshRetryTokenForRetry(e,r)}catch(s){throw i.$metadata||(i.$metadata={}),i.$metadata.attempts=l+1,i.$metadata.totalRetryDelay=u,i}l=e.getRetryCount();const o=e.getRetryDelay();u+=o,await new Promise(e=>setTimeout(e,o))}}})(e),BF)}}),jF=e=>{if(!BR.isInstance(e))return;const t=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!t)return;const n=e.headers[t],r=Number(n);if(!Number.isNaN(r))return new Date(1e3*r);return new Date(n)};const HF=(VF=3e5,e=>qF(e)&&e.expiration.getTime()-Date.now()<VF);var VF;const qF=e=>void 0!==e.expiration,GF={},KF={};for(let n=0;n<256;n++){let e=n.toString(16).toLowerCase();1===e.length&&(e=`0${e}`),GF[n]=e,KF[e]=n}function YF(e){let t="";for(let n=0;n<e.byteLength;n++)t+=GF[e[n]];return t}const QF=e=>(new TextEncoder).encode(e),XF=e=>"string"===typeof e?QF(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),JF="X-Amz-Date",ZF="X-Amz-Signature",eD="X-Amz-Security-Token",tD="authorization",nD=JF.toLowerCase(),rD=[tD,nD,"date"],aD=ZF.toLowerCase(),oD="x-amz-content-sha256",sD=eD.toLowerCase(),iD={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},lD=/^proxy-/,uD=/^sec-/,cD="AWS4-HMAC-SHA256",dD="AWS4-HMAC-SHA256-PAYLOAD",pD="aws4_request",hD={},fD=[],mD=(e,t,n)=>`${e}/${t}/${n}/${pD}`,gD=(e,t,n)=>{const r=new e(t);return r.update(XF(n)),r.digest()},yD=(e,t,n)=>{let{headers:r}=e;const a={};for(const o of Object.keys(r).sort()){if(void 0==r[o])continue;const e=o.toLowerCase();(e in iD||t?.has(e)||lD.test(e)||uD.test(e))&&(!n||n&&!n.has(e))||(a[e]=r[o].trim().replace(/\s+/g," "))}return a},vD=async(e,t)=>{let{headers:n,body:r}=e;for(const o of Object.keys(n))if(o.toLowerCase()===oD)return n[o];if(void 0==r)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"===typeof r||ArrayBuffer.isView(r)||(a=r,"function"===typeof ArrayBuffer&&a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a))){const e=new t;return e.update(XF(r)),YF(await e.digest())}var a;return"UNSIGNED-PAYLOAD"};class bD{format(e){const t=[];for(const a of Object.keys(e)){const n=QF(a);t.push(Uint8Array.from([n.byteLength]),n,this.formatHeaderValue(e[a]))}const n=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0));let r=0;for(const a of t)n.set(a,r),r+=a.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const a=new DataView(new ArrayBuffer(3+e.value.byteLength));a.setUint8(0,6),a.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(a.buffer);return o.set(e.value,3),o;case"string":const s=QF(e.value),i=new DataView(new ArrayBuffer(3+s.byteLength));i.setUint8(0,7),i.setUint16(1,s.byteLength,!1);const l=new Uint8Array(i.buffer);return l.set(s,3),l;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(SD.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!kD.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const c=new Uint8Array(17);return c[0]=9,c.set(function(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in KF))throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`);t[n/2]=KF[r]}return t}(e.value.replace(/\-/g,"")),1),c}}}var wD;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(wD||(wD={}));const kD=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class SD{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&xD(t),new SD(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&xD(e),parseInt(YF(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function xD(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class ID{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new ID({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return ID.clone(this)}}const _D=e=>{e=ID.clone(e);for(const t of Object.keys(e.headers))rD.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},ED=e=>encodeURIComponent(e).replace(/[!'()*]/g,TD),TD=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,ND=e=>"number"===typeof e?new Date(1e3*e):"string"===typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e;class CD{constructor(e){let{applyChecksum:t,credentials:n,region:r,service:a,sha256:o,uriEscapePath:s=!0}=e;this.service=a,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!==typeof t||t,this.regionProvider=HO(r),this.credentialProvider=HO(n)}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(e=>{let{query:t={}}=e;const n=[],r={};for(const a of Object.keys(t)){if(a.toLowerCase()===aD)continue;const e=ED(a);n.push(e);const o=t[a];"string"===typeof o?r[e]=`${e}=${ED(o)}`:Array.isArray(o)&&(r[e]=o.slice(0).reduce((t,n)=>t.concat([`${e}=${ED(n)}`]),[]).sort().join("&"))}return n.sort().map(e=>r[e]).filter(e=>e).join("&")})(e)}\n${r.map(e=>`${e}:${t[e]}`).join("\n")}\n\n${r.join(";")}\n${n}`}async createStringToSign(e,t,n,r){const a=new this.sha256;a.update(XF(n));return`${r}\n${e}\n${t}\n${YF(await a.digest())}`}getCanonicalPath(e){let{path:t}=e;if(this.uriEscapePath){const e=[];for(const r of t.split("/"))0!==r?.length&&"."!==r&&(".."===r?e.pop():e.push(r));const n=`${t?.startsWith("/")?"/":""}${e.join("/")}${e.length>0&&t?.endsWith("/")?"/":""}`;return ED(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(e){if("object"!==typeof e||"string"!==typeof e.accessKeyId||"string"!==typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}formatDate(e){const t=(e=>ND(e).toISOString().replace(/\.\d{3}Z$/,"Z"))(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}class AD extends CD{constructor(e){let{applyChecksum:t,credentials:n,region:r,service:a,sha256:o,uriEscapePath:s=!0}=e;super({applyChecksum:t,credentials:n,region:r,service:a,sha256:o,uriEscapePath:s}),this.headerFormatter=new bD}async presign(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:a,unhoistableHeaders:o,signableHeaders:s,hoistableHeaders:i,signingRegion:l,signingService:u}=t,c=await this.credentialProvider();this.validateResolvedCredentials(c);const d=l??await this.regionProvider(),{longDate:p,shortDate:h}=this.formatDate(n);if(r>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const f=mD(h,d,u??this.service),m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{headers:n,query:r={}}=ID.clone(e);for(const a of Object.keys(n)){const e=a.toLowerCase();("x-amz-"===e.slice(0,6)&&!t.unhoistableHeaders?.has(e)||t.hoistableHeaders?.has(e))&&(r[a]=n[a],delete n[a])}return{...e,headers:n,query:r}}(_D(e),{unhoistableHeaders:o,hoistableHeaders:i});c.sessionToken&&(m.query[eD]=c.sessionToken),m.query["X-Amz-Algorithm"]=cD,m.query["X-Amz-Credential"]=`${c.accessKeyId}/${f}`,m.query[JF]=p,m.query["X-Amz-Expires"]=r.toString(10);const g=yD(m,a,s);return m.query["X-Amz-SignedHeaders"]=this.getCanonicalHeaderList(g),m.query[ZF]=await this.getSignature(p,f,this.getSigningKey(c,d,h,u),this.createCanonicalRequest(m,g,await vD(e,this.sha256))),m}async sign(e,t){return"string"===typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent(e,t){let{headers:n,payload:r}=e,{signingDate:a=new Date,priorSignature:o,signingRegion:s,signingService:i}=t;const l=s??await this.regionProvider(),{shortDate:u,longDate:c}=this.formatDate(a),d=mD(u,l,i??this.service),p=await vD({headers:{},body:r},this.sha256),h=new this.sha256;h.update(n);const f=YF(await h.digest()),m=[dD,c,d,o,f,p].join("\n");return this.signString(m,{signingDate:a,signingRegion:l,signingService:i})}async signMessage(e,t){let{signingDate:n=new Date,signingRegion:r,signingService:a}=t;return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:a,priorSignature:e.priorSignature}).then(t=>({message:e.message,signature:t}))}async signString(e){let{signingDate:t=new Date,signingRegion:n,signingService:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=await this.credentialProvider();this.validateResolvedCredentials(a);const o=n??await this.regionProvider(),{shortDate:s}=this.formatDate(t),i=new this.sha256(await this.getSigningKey(a,o,s,r));return i.update(XF(e)),YF(await i.digest())}async signRequest(e){let{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:a,signingService:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=await this.credentialProvider();this.validateResolvedCredentials(s);const i=a??await this.regionProvider(),l=_D(e),{longDate:u,shortDate:c}=this.formatDate(t),d=mD(c,i,o??this.service);l.headers[nD]=u,s.sessionToken&&(l.headers[sD]=s.sessionToken);const p=await vD(l,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(oD,l.headers)&&this.applyChecksum&&(l.headers[oD]=p);const h=yD(l,r,n),f=await this.getSignature(u,d,this.getSigningKey(s,i,c,o),this.createCanonicalRequest(l,h,p));return l.headers[tD]=`${cD} Credential=${s.accessKeyId}/${d}, SignedHeaders=${this.getCanonicalHeaderList(h)}, Signature=${f}`,l}async getSignature(e,t,n,r){const a=await this.createStringToSign(e,t,r,cD),o=new this.sha256(await n);return o.update(XF(a)),YF(await o.digest())}getSigningKey(e,t,n,r){return(async(e,t,n,r,a)=>{const o=`${n}:${r}:${a}:${YF(await gD(e,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(o in hD)return hD[o];for(fD.push(o);fD.length>50;)delete hD[fD.shift()];let s=`AWS4${t.secretAccessKey}`;for(const i of[n,r,a,pD])s=await gD(e,s,i);return hD[o]=s})(this.sha256,e,n,t,r||this.service)}}const MD=e=>{let t,n=e.credentials,r=!!e.credentials;Object.defineProperty(e,"credentials",{set(a){a&&a!==n&&a!==t&&(r=!0),n=a;const o=function(e,t){let n,{credentials:r,credentialDefaultProvider:a}=t;n=r?r?.memoized?r:((e,t,n)=>{if(void 0===e)return;const r="function"!==typeof e?async()=>Promise.resolve(e):e;let a,o,s,i=!1;const l=async e=>{o||(o=r(e));try{a=await o,s=!0,i=!1}finally{o=void 0}return a};return void 0===t?async e=>(s&&!e?.forceRefresh||(a=await l(e)),a):async e=>(s&&!e?.forceRefresh||(a=await l(e)),i?a:n(a)?t(a)?(await l(e),a):a:(i=!0,a))})(r,HF,qF):a?GA(a(Object.assign({},e,{parentClientConfig:e}))):async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")};return n.memoized=!0,n}(e,{credentials:n,credentialDefaultProvider:e.credentialDefaultProvider}),s=function(e,t){if(t.configBound)return t;const n=async n=>t({...n,callerClientConfig:e});return n.memoized=t.memoized,n.configBound=!0,n}(e,o);r&&!s.attributed?(t=async e=>s(e).then(e=>function(e,t,n){return e.$source||(e.$source={}),e.$source[t]=n,e}(e,"CREDENTIALS_CODE","e")),t.memoized=s.memoized,t.configBound=s.configBound,t.attributed=!0):t=s},get:()=>t,enumerable:!0,configurable:!0}),e.credentials=n;const{signingEscapePath:a=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:s}=e;let i;i=e.signer?GA(e.signer):e.regionInfoProvider?()=>GA(e.region)().then(async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t]).then(t=>{let[n,r]=t;const{signingRegion:o,signingService:i}=n;e.signingRegion=e.signingRegion||o||r,e.signingName=e.signingName||i||e.serviceId;const l={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:a};return new(e.signerConstructor||AD)(l)}):async t=>{const n=(t=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await GA(e.region)(),properties:{}},t)).signingRegion,r=t.signingName;e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||r||e.serviceId;const o={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:a};return new(e.signerConstructor||AD)(o)};return Object.assign(e,{systemClockOffset:o,signingEscapePath:a,signer:i})};const OD=async(e,t,n)=>({operation:jO(t).operation,region:await HO(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const RD=e=>{const t=[];return e.operation,t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"rekognition",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e)),t},FD={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},DD="3.828.0";var PD={name:"SHA-256"},$D={name:"HMAC",hash:PD},LD=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const zD={};function WD(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:zD}var BD=function(){function e(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return e.prototype.update=function(e){if(!le(e)){var t=ie(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then(function(t){return WD().crypto.subtle.sign($D,t,e.toHash).then(function(e){return new Uint8Array(e)})}):le(this.toHash)?Promise.resolve(LD):Promise.resolve().then(function(){return WD().crypto.subtle.digest(PD,e.toHash)}).then(function(e){return Promise.resolve(new Uint8Array(e))})},e.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(t,n){WD().crypto.subtle.importKey("raw",ie(e.secret),$D,!1,["sign"]).then(t,n)}),this.key.catch(function(){}))},e}(),UD=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function jD(e){return e&&UD.every(function(t){return"function"===typeof e[t]})}var HD=function(){function e(e){!function(e){return!(!function(e){return"object"===typeof e&&"object"===typeof e.crypto&&"function"===typeof e.crypto.getRandomValues}(e)||"object"!==typeof e.crypto.subtle)&&jD(e.crypto.subtle)}(WD())?this.hash=new ue(e):this.hash=new BD(e)}return e.prototype.update=function(e,t){this.hash.update(ie(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),VD=n(5),qD=n.n(VD);const GD=e=>{let{serviceId:t,clientVersion:n}=e;return async e=>{const r="undefined"!==typeof window&&window?.navigator?.userAgent?qD().parse(window.navigator.userAgent):void 0,a=[["aws-sdk-js",n],["ua","2.1"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];t&&a.push([`api/${t}`,n]);const o=await(e?.userAgentAppId?.());return o&&a.push([`app/${o}`]),a}},KD=e=>()=>Promise.reject(e),YD="function"==typeof TextEncoder?new TextEncoder:null,QD=e=>{if("string"===typeof e){if(YD)return YD.encode(e).byteLength;let t=e.length;for(let n=t-1;n>=0;n--){const r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"===typeof e.byteLength)return e.byteLength;if("number"===typeof e.size)return e.size;throw new Error(`Body Length computation failed for ${e}`)};class XD{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new XD({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}clone(){return XD.clone(this)}}class JD{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const ZD=e=>new Date(Date.now()+e),eP=e=>JD.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,tP=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(ZD(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},nP=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t};class rP{async sign(e,t,n){if(!XD.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const r=await(async e=>{const t=nP("context",e.context),n=nP("config",e.config),r=t.endpointV2?.properties?.authSchemes?.[0],a=nP("signer",n.signer),o=await a(r),s=e?.signingRegion,i=e?.signingRegionSet,l=e?.signingName;return{config:n,signer:o,signingRegion:s,signingRegionSet:i,signingName:l}})(n),{config:a,signer:o}=r;let{signingRegion:s,signingName:i}=r;const l=n.context;if(l?.authSchemes?.length){const[e,t]=l.authSchemes;"sigv4a"===e?.name&&"sigv4"===t?.name&&(s=t?.signingRegion??s,i=t?.signingName??i)}return await o.sign(e,{signingDate:ZD(a.systemClockOffset),signingRegion:s,signingService:i})}errorHandler(e){return t=>{const n=t.ServerTime??eP(t.$response);if(n){const r=nP("config",e.config),a=r.systemClockOffset;r.systemClockOffset=tP(n,r.systemClockOffset);r.systemClockOffset!==a&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){const n=eP(e);if(n){const e=nP("config",t.config);e.systemClockOffset=tP(n,e.systemClockOffset)}}}const aP=e=>(new TextEncoder).encode(e),oP=e=>{if("string"===typeof e)return e;if("object"!==typeof e||"number"!==typeof e.byteOffset||"number"!==typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)},sP="required",iP="fn",lP="argv",uP="ref",cP=!0,dP="isSet",pP="booleanEquals",hP="error",fP="endpoint",mP="tree",gP="PartitionResult",yP={[sP]:!1,type:"String"},vP={[sP]:!0,default:!1,type:"Boolean"},bP={[uP]:"Endpoint"},wP={[iP]:pP,[lP]:[{[uP]:"UseFIPS"},!0]},kP={[iP]:pP,[lP]:[{[uP]:"UseDualStack"},!0]},SP={},xP={[iP]:"getAttr",[lP]:[{[uP]:gP},"supportsFIPS"]},IP={[iP]:pP,[lP]:[!0,{[iP]:"getAttr",[lP]:[{[uP]:gP},"supportsDualStack"]}]},_P=[wP],EP=[kP],TP=[{[uP]:"Region"}],NP={version:"1.0",parameters:{Region:yP,UseDualStack:vP,UseFIPS:vP,Endpoint:yP},rules:[{conditions:[{[iP]:dP,[lP]:[bP]}],rules:[{conditions:_P,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:hP},{rules:[{conditions:EP,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:hP},{endpoint:{url:bP,properties:SP,headers:SP},type:fP}],type:mP}],type:mP},{rules:[{conditions:[{[iP]:dP,[lP]:TP}],rules:[{conditions:[{[iP]:"aws.partition",[lP]:TP,assign:gP}],rules:[{conditions:[wP,kP],rules:[{conditions:[{[iP]:pP,[lP]:[cP,xP]},IP],rules:[{rules:[{endpoint:{url:"https://streaming-rekognition-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:SP,headers:SP},type:fP}],type:mP}],type:mP},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:hP}],type:mP},{conditions:_P,rules:[{conditions:[{[iP]:pP,[lP]:[xP,cP]}],rules:[{rules:[{endpoint:{url:"https://streaming-rekognition-fips.{Region}.{PartitionResult#dnsSuffix}",properties:SP,headers:SP},type:fP}],type:mP}],type:mP},{error:"FIPS is enabled but this partition does not support FIPS",type:hP}],type:mP},{conditions:EP,rules:[{conditions:[IP],rules:[{rules:[{endpoint:{url:"https://streaming-rekognition.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:SP,headers:SP},type:fP}],type:mP}],type:mP},{error:"DualStack is enabled but this partition does not support DualStack",type:hP}],type:mP},{rules:[{endpoint:{url:"https://streaming-rekognition.{Region}.{PartitionResult#dnsSuffix}",properties:SP,headers:SP},type:fP}],type:mP}],type:mP}],type:mP},{error:"Invalid Configuration: Missing Region",type:hP}],type:mP}]},CP=new class{constructor(e){let{size:t,params:n}=e;this.data=new Map,this.parameters=[],this.capacity=t??50,n&&(this.parameters=n)}get(e,t){const n=this.hash(e);if(!1===n)return t();if(!this.data.has(n)){if(this.data.size>this.capacity+10){const e=this.data.keys();let t=0;for(;;){const{value:n,done:r}=e.next();if(this.data.delete(n),r||++t>10)break}}this.data.set(n,t())}return this.data.get(n)}size(){return this.data.size}hash(e){let t="";const{parameters:n}=this;if(0===n.length)return!1;for(const r of n){const n=String(e[r]??"");if(n.includes("|;"))return!1;t+=n+"|;"}return t}}({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),AP=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return CP.get(e,()=>((e,t)=>{const{endpointParams:n,logger:r}=t,{parameters:a,rules:o}=e;t.logger?.debug?.(`${ZA} Initial EndpointParams: ${eM(n)}`);const s=Object.entries(a).filter(e=>{let[,t]=e;return null!=t.default}).map(e=>{let[t,n]=e;return[t,n.default]});if(s.length>0)for(const[u,c]of s)n[u]=n[u]??c;const i=Object.entries(a).filter(e=>{let[,t]=e;return t.required}).map(e=>{let[t]=e;return t});for(const u of i)if(null==n[u])throw new tM(`Missing required parameter: '${u}'`);const l=yM(o,{endpointParams:n,logger:r,referenceRecord:{}});return t.logger?.debug?.(`${ZA} Resolved endpoint: ${eM(l)}`),l})(NP,{endpointParams:e,logger:t.logger}))};JA.aws=kM;Error;const MP=["in-region","cross-region","mobile","standard","legacy"],OP=()=>{const e="undefined"!==typeof window&&window?.navigator?.userAgent?qD().parse(window.navigator.userAgent):void 0,t=e?.platform?.type;return"tablet"===t||"mobile"===t},RP=e=>{const t=function(){let{defaultsMode:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return((e,t,n)=>{let r,a,o,s=!1;const i=async()=>{a||(a=e());try{r=await a,o=!0,s=!1}finally{a=void 0}return r};return void 0===t?async e=>(o&&!e?.forceRefresh||(r=await i()),r):async e=>(o&&!e?.forceRefresh||(r=await i()),s?r:n&&!n(r)?(s=!0,r):t(r)?(await i(),r):r)})(async()=>{const t="function"===typeof e?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve(OP()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${MP.join(", ")}, got ${t}`)}})}(e),n=()=>t().then(pF),r=(e=>({apiVersion:"2022-05-30",base64Decoder:e?.base64Decoder??FO,base64Encoder:e?.base64Encoder??DO,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??AP,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??RD,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new rP}],logger:e?.logger??new mF,serviceId:e?.serviceId??"RekognitionStreaming",urlParser:e?.urlParser??pR,utf8Decoder:e?.utf8Decoder??aP,utf8Encoder:e?.utf8Encoder??oP}))(e);return{...r,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??QD,credentialDefaultProvider:e?.credentialDefaultProvider??(e=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??GD({serviceId:r.serviceId,clientVersion:DD}),eventStreamPayloadHandlerProvider:e?.eventStreamPayloadHandlerProvider??sO,eventStreamSerdeProvider:e?.eventStreamSerdeProvider??IO,maxAttempts:e?.maxAttempts??3,region:e?.region??KD("Region is missing"),requestHandler:LO.create(e?.requestHandler??n,MO.create(n)),retryMode:e?.retryMode??(async()=>(await n()).retryMode||IR),sha256:e?.sha256??HD,streamCollector:e?.streamCollector??PO,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(false)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(false))}};const FP=(e,t)=>{const n=Object.assign((e=>({setRegion(t){e.region=t},region:()=>e.region}))(e),hF(e),(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler:()=>e.httpHandler,updateHttpClientConfig(t,n){e.httpHandler?.updateHttpClientConfig(t,n)},httpHandlerConfigs:()=>e.httpHandler.httpHandlerConfigs()}))(e),(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}})(e));return t.forEach(e=>e.configure(n)),Object.assign(e,{region:n.region()},(r=n,Object.assign((e=>{const t={};return e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t})(r),(e=>{const t={};return t.retryStrategy=e.retryStrategy(),t})(r))),{httpHandler:n.httpHandler()},(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}))(n));var r};class DP extends tF{config;constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r]=t;const a=RP(r||{});super(a),this.initConfig=a;var o;const s=function(e){const t=GA(e.userAgentAppId??void 0),{customUserAgent:n}=e;return Object.assign(e,{customUserAgent:"string"===typeof n?[[n]]:n,userAgentAppId:async()=>{const n=await t();if(!function(e){return void 0===e||"string"===typeof e&&e.length<=50}(n)){const t="NoOpLogger"!==e.logger?.constructor?.name&&e.logger?e.logger:console;"string"!==typeof n?t?.warn("userAgentAppId must be a string or undefined."):n.length>50&&t?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}((o=a,Object.assign(o,{useDualstackEndpoint:o.useDualstackEndpoint??!1,useFipsEndpoint:o.useFipsEndpoint??!1,defaultSigningName:"rekognition"}))),i=(e=>{const{retryStrategy:t,retryMode:n,maxAttempts:r}=e,a=HO(r??3);return Object.assign(e,{maxAttempts:a,retryStrategy:async()=>t||(await HO(n)()===xR.ADAPTIVE?new zR(a):new LR(a))})})(s),l=(e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if("string"===typeof t)return qO(t);const e=await t();return qO(e)},useFipsEndpoint:async()=>{const e="string"===typeof t?t:await t();return!!VO(e)||("function"!==typeof n?Promise.resolve(!!n):n())}})})(i),u=(e=>{const t=e.tls??!0,{endpoint:n,useDualstackEndpoint:r,useFipsEndpoint:a}=e,o=null!=n?async()=>hR(await HO(n)()):void 0,s=!!n,i=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:s,useDualstackEndpoint:HO(r??!1),useFipsEndpoint:HO(a??!1)});let l;return i.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=dR(e.serviceId)),l),i})(l),c=(e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}))(u),d=(e=>{const t=MD(e);return Object.assign(t,{authSchemePreference:HO(e.authSchemePreference??[])})})(c),p=function(e){const t=e.signer,n=e.signer,r=Object.assign(e,{eventSigner:t,messageSigner:n}),a=r.eventStreamPayloadHandlerProvider(r);return Object.assign(r,{eventStreamPayloadHandler:a})}(d),h=(e=>{const{signer:t}=e;return Object.assign(e,{signer:async e=>{const n=await t(e);if(fO(n))return new hO({signer:n});throw new Error("Expected WebsocketSignatureV4 signer, please check the client constructor.")}})})(p),f=FP(h,r?.extensions||[]);var m;this.config=f,this.middlewareStack.use((m=this.config,{applyToStack:e=>{e.add(CM(m),MM)}})),this.middlewareStack.use(UF(this.config)),this.middlewareStack.use(aR(this.config)),this.middlewareStack.use(BA(this.config)),this.middlewareStack.use((this.config,{applyToStack:e=>{e.add((e,t)=>async n=>{try{const r=await e(n),{clientName:a,commandName:o,logger:s,dynamoDbDocumentClientOptions:i={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=i,c=l??t.inputFilterSensitiveLog,d=u??t.outputFilterSensitiveLog,{$metadata:p,...h}=r.output;return s?.info?.({clientName:a,commandName:o,input:c(n.input),output:d(h),metadata:p}),r}catch(r){const{clientName:e,commandName:a,logger:o,dynamoDbDocumentClientOptions:s={}}=t,{overrideInputFilterSensitiveLog:i}=s,l=i??t.inputFilterSensitiveLog;throw o?.error?.({clientName:e,commandName:a,input:l(n.input),error:r,metadata:r.$metadata}),r}},UA)}})),this.middlewareStack.use(qA(this.config)),this.middlewareStack.use(((e,t)=>{let{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:r}=t;return{applyToStack:t=>{t.addRelativeTo(GO(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:r}),KO)}}})(this.config,{httpAuthSchemeParametersProvider:OD,identityProviderConfigProvider:async e=>new YO({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use(eR(this.config))}destroy(){super.destroy()}}class PP extends uF{constructor(e){super(e),Object.setPrototypeOf(this,PP.prototype)}}class $P extends PP{name="AccessDeniedException";$fault="client";Message;Code;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,$P.prototype),this.Message=e.Message,this.Code=e.Code}}var LP;!function(e){e.visit=(e,t)=>void 0!==e.FaceMovementAndLightChallenge?t.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge):void 0!==e.FaceMovementChallenge?t.FaceMovementChallenge(e.FaceMovementChallenge):t._(e.$unknown[0],e.$unknown[1])}(LP||(LP={}));class zP extends PP{name="InternalServerException";$fault="server";Message;Code;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,zP.prototype),this.Message=e.Message,this.Code=e.Code}}var WP,BP,UP;!function(e){e.visit=(e,t)=>void 0!==e.VideoEvent?t.VideoEvent(e.VideoEvent):void 0!==e.ClientSessionInformationEvent?t.ClientSessionInformationEvent(e.ClientSessionInformationEvent):t._(e.$unknown[0],e.$unknown[1])}(WP||(WP={})),function(e){e.visit=(e,t)=>void 0!==e.FaceMovementAndLightChallenge?t.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge):void 0!==e.FaceMovementChallenge?t.FaceMovementChallenge(e.FaceMovementChallenge):t._(e.$unknown[0],e.$unknown[1])}(BP||(BP={}));class jP extends PP{name="ServiceQuotaExceededException";$fault="client";Message;Code;constructor(e){super({name:"ServiceQuotaExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,jP.prototype),this.Message=e.Message,this.Code=e.Code}}class HP extends PP{name="ServiceUnavailableException";$fault="server";Message;Code;constructor(e){super({name:"ServiceUnavailableException",$fault:"server",...e}),Object.setPrototypeOf(this,HP.prototype),this.Message=e.Message,this.Code=e.Code}}class VP extends PP{name="ThrottlingException";$fault="client";Message;Code;constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),Object.setPrototypeOf(this,VP.prototype),this.Message=e.Message,this.Code=e.Code}}class qP extends PP{name="ValidationException";$fault="client";Message;Code;constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,qP.prototype),this.Message=e.Message,this.Code=e.Code}}!function(e){e.visit=(e,t)=>void 0!==e.ServerSessionInformationEvent?t.ServerSessionInformationEvent(e.ServerSessionInformationEvent):void 0!==e.DisconnectionEvent?t.DisconnectionEvent(e.DisconnectionEvent):void 0!==e.ChallengeEvent?t.ChallengeEvent(e.ChallengeEvent):void 0!==e.ValidationException?t.ValidationException(e.ValidationException):void 0!==e.InternalServerException?t.InternalServerException(e.InternalServerException):void 0!==e.ThrottlingException?t.ThrottlingException(e.ThrottlingException):void 0!==e.ServiceQuotaExceededException?t.ServiceQuotaExceededException(e.ServiceQuotaExceededException):void 0!==e.ServiceUnavailableException?t.ServiceUnavailableException(e.ServiceUnavailableException):t._(e.$unknown[0],e.$unknown[1])}(UP||(UP={}));class GP extends PP{name="SessionNotFoundException";$fault="client";Message;Code;constructor(e){super({name:"SessionNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,GP.prototype),this.Message=e.Message,this.Code=e.Code}}const KP=e=>({...e,...e.LivenessRequestStream&&{LivenessRequestStream:"STREAMING_CONTENT"}}),YP=e=>({...e,...e.LivenessResponseStream&&{LivenessResponseStream:"STREAMING_CONTENT"}}),QP=(e,t)=>async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length>1?arguments[1]:void 0;if(e instanceof Uint8Array)return aF.mutate(e);if(!e)return aF.mutate(new Uint8Array);const n=t.streamCollector(e);return aF.mutate(await n)}(e,t).then(e=>t.utf8Encoder(e)),XP=(e,t)=>QP(e,t).then(e=>{if(e.length)try{return JSON.parse(e)}catch(fP){throw"SyntaxError"===fP?.name&&Object.defineProperty(fP,"$responseBodyText",{value:e}),fP}return{}}),JP=async(e,t)=>{const n=await XP(e,t);return n.message=n.message??n.Message,n};function ZP(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}class e${constructor(e,t){this.input=e,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:t="https",port:n,path:r}=await this.context.endpoint();this.path=r;for(const a of this.resolvePathStack)a(this.path);return new QO({protocol:t,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+e}),this}p(e,t,n,r){return this.resolvePathStack.push(a=>{this.path=((e,t,n,r,a,o)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=r();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(a,o?t.split("/").map(e=>ZP(e)).join("/"):ZP(t))}return e})(a,this.input,e,t,n,r)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}const t$=async(e,t)=>{const n=function(e,t){return new e$(e,t)}(e,t),r=gF({},fF,{"content-type":"application/json",[V$]:e[B$],[G$]:e[j$],[q$]:e[U$],[H$]:e[W$]});let a;return n.bp("/start-face-liveness-session"),void 0!==e.LivenessRequestStream&&(a=h$(e.LivenessRequestStream,t)),n.m("POST").h(r).b(a),n.build()},n$=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return r$(e,t);const n=gF({$metadata:z$(e),[B$]:[,e.headers[V$]]}),r=e.body;return n.LivenessResponseStream=g$(r,t),n},r$=async(e,t)=>{const n={...e,body:await JP(e.body,t)},r=((e,t)=>{const n=(e,t)=>Object.keys(e).find(e=>e.toLowerCase()===t.toLowerCase()),r=e=>{let t=e;return"number"===typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},a=n(e.headers,"x-amzn-errortype");if(void 0!==a)return r(e.headers[a]);if(t&&"object"===typeof t){const e=n(t,"code");if(e&&void 0!==t[e])return r(t[e]);if(void 0!==t.__type)return r(t.__type)}})(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.rekognitionstreaming#AccessDeniedException":throw await s$(n,t);case"InternalServerException":case"com.amazonaws.rekognitionstreaming#InternalServerException":throw await i$(n,t);case"ServiceQuotaExceededException":case"com.amazonaws.rekognitionstreaming#ServiceQuotaExceededException":throw await l$(n,t);case"ServiceUnavailableException":case"com.amazonaws.rekognitionstreaming#ServiceUnavailableException":throw await u$(n,t);case"SessionNotFoundException":case"com.amazonaws.rekognitionstreaming#SessionNotFoundException":throw await c$(n,t);case"ThrottlingException":case"com.amazonaws.rekognitionstreaming#ThrottlingException":throw await d$(n,t);case"ValidationException":case"com.amazonaws.rekognitionstreaming#ValidationException":throw await p$(n,t);default:const a=n.body;return a$({output:e,parsedBody:a,errorCode:r})}},a$=(o$=PP,e=>{let{output:t,parsedBody:n,errorCode:r}=e;(e=>{let{output:t,parsedBody:n,exceptionCtor:r,errorCode:a}=e;const o=dF(t),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:n?.code||n?.Code||a||s||"UnknownError",$fault:"client",$metadata:o});throw cF(i,n)})({output:t,parsedBody:n,exceptionCtor:o$,errorCode:r})});var o$;const s$=async(e,t)=>{const n=gF({}),r=e.body,a=yF(r,{Code:MF,Message:MF});Object.assign(n,a);const o=new $P({$metadata:z$(e),...n});return cF(o,e.body)},i$=async(e,t)=>{const n=gF({}),r=e.body,a=yF(r,{Code:MF,Message:MF});Object.assign(n,a);const o=new zP({$metadata:z$(e),...n});return cF(o,e.body)},l$=async(e,t)=>{const n=gF({}),r=e.body,a=yF(r,{Code:MF,Message:MF});Object.assign(n,a);const o=new jP({$metadata:z$(e),...n});return cF(o,e.body)},u$=async(e,t)=>{const n=gF({}),r=e.body,a=yF(r,{Code:MF,Message:MF});Object.assign(n,a);const o=new HP({$metadata:z$(e),...n});return cF(o,e.body)},c$=async(e,t)=>{const n=gF({}),r=e.body,a=yF(r,{Code:MF,Message:MF});Object.assign(n,a);const o=new GP({$metadata:z$(e),...n});return cF(o,e.body)},d$=async(e,t)=>{const n=gF({}),r=e.body,a=yF(r,{Code:MF,Message:MF});Object.assign(n,a);const o=new VP({$metadata:z$(e),...n});return cF(o,e.body)},p$=async(e,t)=>{const n=gF({}),r=e.body,a=yF(r,{Code:MF,Message:MF});Object.assign(n,a);const o=new qP({$metadata:z$(e),...n});return cF(o,e.body)},h$=(e,t)=>t.eventStreamMarshaller.serialize(e,e=>WP.visit(e,{VideoEvent:e=>m$(e,t),ClientSessionInformationEvent:e=>f$(e,t),_:e=>e})),f$=(e,t)=>{let n=new Uint8Array;return n=E$(e,t),n=t.utf8Decoder(JSON.stringify(n)),{headers:{":event-type":{type:"string",value:"ClientSessionInformationEvent"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}},body:n}},m$=(e,t)=>{let n=new Uint8Array;return n=M$(e,t),n=t.utf8Decoder(JSON.stringify(n)),{headers:{":event-type":{type:"string",value:"VideoEvent"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}},body:n}},g$=(e,t)=>t.eventStreamMarshaller.deserialize(e,async n=>null!=n.ServerSessionInformationEvent?{ServerSessionInformationEvent:await w$(n.ServerSessionInformationEvent,t)}:null!=n.DisconnectionEvent?{DisconnectionEvent:await v$(n.DisconnectionEvent,t)}:null!=n.ChallengeEvent?{ChallengeEvent:await y$(n.ChallengeEvent,t)}:null!=n.ValidationException?{ValidationException:await I$(n.ValidationException,t)}:null!=n.InternalServerException?{InternalServerException:await b$(n.InternalServerException,t)}:null!=n.ThrottlingException?{ThrottlingException:await x$(n.ThrottlingException,t)}:null!=n.ServiceQuotaExceededException?{ServiceQuotaExceededException:await k$(n.ServiceQuotaExceededException,t)}:null!=n.ServiceUnavailableException?{ServiceUnavailableException:await S$(n.ServiceUnavailableException,t)}:{$unknown:e}),y$=async(e,t)=>{const n={},r=await XP(e.body,t);return Object.assign(n,xF(r)),n},v$=async(e,t)=>{const n={},r=await XP(e.body,t);return Object.assign(n,xF(r)),n},b$=async(e,t)=>{const n={...e,body:await XP(e.body,t)};return i$(n,t)},w$=async(e,t)=>{const n={},r=await XP(e.body,t);return Object.assign(n,$$(r,t)),n},k$=async(e,t)=>{const n={...e,body:await XP(e.body,t)};return l$(n,t)},S$=async(e,t)=>{const n={...e,body:await XP(e.body,t)};return u$(n,t)},x$=async(e,t)=>{const n={...e,body:await XP(e.body,t)};return d$(n,t)},I$=async(e,t)=>{const n={...e,body:await XP(e.body,t)};return p$(n,t)},_$=(e,t)=>yF(e,{Height:SF,Left:SF,Top:SF,Width:SF}),E$=(e,t)=>yF(e,{Challenge:e=>((e,t)=>LP.visit(e,{FaceMovementAndLightChallenge:e=>({FaceMovementAndLightChallenge:T$(e,t)}),FaceMovementChallenge:e=>({FaceMovementChallenge:N$(e,t)}),_:(e,t)=>({[e]:t})}))(e,t)}),T$=(e,t)=>yF(e,{ChallengeId:[],ColorDisplayed:xF,InitialFace:e=>C$(e,t),TargetFace:e=>A$(e,t),VideoEndTimestamp:[],VideoStartTimestamp:[]}),N$=(e,t)=>yF(e,{ChallengeId:[],InitialFace:e=>C$(e,t),TargetFace:e=>A$(e,t),VideoEndTimestamp:[],VideoStartTimestamp:[]}),C$=(e,t)=>yF(e,{BoundingBox:e=>_$(e),InitialFaceDetectedTimestamp:[]}),A$=(e,t)=>yF(e,{BoundingBox:e=>_$(e),FaceDetectedInTargetPositionEndTimestamp:[],FaceDetectedInTargetPositionStartTimestamp:[]}),M$=(e,t)=>yF(e,{TimestampMillis:[],VideoChunk:t.base64Encoder}),O$=(e,t)=>yF(e,{BlazeFaceDetectionThreshold:RF,FaceDistanceThreshold:RF,FaceDistanceThresholdMax:RF,FaceDistanceThresholdMin:RF,FaceIouHeightThreshold:RF,FaceIouWidthThreshold:RF,OvalFitTimeout:NF,OvalHeightWidthRatio:RF,OvalIouHeightThreshold:RF,OvalIouThreshold:RF,OvalIouWidthThreshold:RF}),R$=(e,t)=>{const n=(e||[]).filter(e=>null!=e).map(e=>(e=>yF(e,{DownscrollDuration:RF,FlatDisplayDuration:RF,FreshnessColor:xF}))(e));return n},F$=(e,t)=>yF(e,{ChallengeConfig:e=>O$(e),ColorSequences:e=>R$(e),LightChallengeType:MF,OvalParameters:e=>P$(e,t)}),D$=(e,t)=>yF(e,{ChallengeConfig:e=>O$(e),OvalParameters:e=>P$(e,t)}),P$=(e,t)=>yF(e,{CenterX:RF,CenterY:RF,Height:RF,Width:RF}),$$=(e,t)=>yF(e,{SessionInformation:e=>L$(e,t)}),L$=(e,t)=>yF(e,{Challenge:e=>((e,t)=>null!=e.FaceMovementAndLightChallenge?{FaceMovementAndLightChallenge:F$(e.FaceMovementAndLightChallenge,t)}:null!=e.FaceMovementChallenge?{FaceMovementChallenge:D$(e.FaceMovementChallenge,t)}:{$unknown:Object.entries(e)[0]})((e=>{if(null!=e)return"object"===typeof e&&"__type"in e&&delete e.__type,OF(e)})(e),t)}),z$=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),W$="ChallengeVersions",B$="SessionId",U$="VideoHeight",j$="VideoWidth",H$="x-amz-rekognition-streaming-liveness-challenge-versions",V$="x-amz-rekognition-streaming-liveness-session-id",q$="x-amz-rekognition-streaming-liveness-video-height",G$="x-amz-rekognition-streaming-liveness-video-width";class K$ extends(iF.classBuilder().ep(FD).m(function(e,t,n,r){return[wR(n,this.serialize,this.deserialize),SR(n,e.getEndpointParameterInstructions()),LA(n),dO(n,{headerPrefix:"x-amz-rekognition-streaming-liveness-"})]}).s("RekognitionStreamingService","StartFaceLivenessSession",{eventStream:{input:!0,output:!0}}).n("RekognitionStreamingClient","StartFaceLivenessSessionCommand").f(KP,YP).ser(t$).de(n$).build()){}var Y$,Q$,X$,J$,Z$,eL,tL,nL,rL,aL,oL,sL,iL,lL;!function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"}(Y$||(Y$={})),function(e){e.AI="ai",e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"}(Q$||(Q$={})),function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnMessage="7",e.Generation="8",e.UpdateConversation="9"}(X$||(X$={})),function(e){e.Record="1",e.IdentifyUser="2"}(J$||(J$={})),function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"}(Z$||(Z$={})),function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36",e.StartWebAuthnRegistration="37",e.CompleteWebAuthnRegistration="38",e.ListWebAuthnCredentials="39",e.DeleteWebAuthnCredential="40"}(eL||(eL={})),function(e){e.Subscribe="1",e.GraphQl="2"}(tL||(tL={})),function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"}(nL||(nL={})),function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"}(rL||(rL={})),function(e){e.None="0"}(aL||(aL={})),function(e){e.Convert="1",e.Identify="2",e.Interpret="3"}(oL||(oL={})),function(e){e.Subscribe="1"}(sL||(sL={})),function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"}(iL||(iL={})),function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7",e.GetDataAccess="8",e.ListCallerAccessGrants="9"}(lL||(lL={}));const uL="6.15.3",cL=()=>"undefined"!==typeof global,dL=()=>"undefined"!==typeof window,pL=()=>"undefined"!==typeof document,hL=()=>"undefined"!==typeof process,fL=(e,t)=>!!Object.keys(e).find(e=>e.startsWith(t));const mL=[{platform:Y$.Expo,detectionMethod:function(){return cL()&&"undefined"!==typeof global.expo}},{platform:Y$.ReactNative,detectionMethod:function(){return"undefined"!==typeof navigator&&"undefined"!==typeof navigator.product&&"ReactNative"===navigator.product}},{platform:Y$.NextJs,detectionMethod:function(){return dL()&&window.next&&"object"===typeof window.next}},{platform:Y$.Nuxt,detectionMethod:function(){return dL()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:Y$.Angular,detectionMethod:function(){const e=Boolean(pL()&&document.querySelector("[ng-version]")),t=Boolean(dL()&&"undefined"!==typeof window.ng);return e||t}},{platform:Y$.React,detectionMethod:function(){const e=e=>e.startsWith("_react")||e.startsWith("__react");return pL()&&Array.from(document.querySelectorAll("[id]")).some(t=>Object.keys(t).find(e))}},{platform:Y$.VueJs,detectionMethod:function(){return dL()&&fL(window,"__VUE")}},{platform:Y$.Svelte,detectionMethod:function(){return dL()&&fL(window,"__SVELTE")}},{platform:Y$.WebUnknown,detectionMethod:function(){return dL()}},{platform:Y$.NextJsSSR,detectionMethod:function(){return cL()&&(fL(global,"__next")||fL(global,"__NEXT"))}},{platform:Y$.NuxtSSR,detectionMethod:function(){return cL()&&"undefined"!==typeof global.__NUXT_PATHS__}},{platform:Y$.ReactSSR,detectionMethod:function(){return hL()&&!!Object.keys({NODE_ENV:"production",PUBLIC_URL:"/react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://workbench.ressystem.com/api"}).find(e=>e.includes("react"))}},{platform:Y$.VueJsSSR,detectionMethod:function(){return cL()&&fL(global,"__VUE")}},{platform:Y$.AngularSSR,detectionMethod:function(){return hL()&&{NODE_ENV:"production",PUBLIC_URL:"/react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://workbench.ressystem.com/api"}.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:Y$.SvelteSSR,detectionMethod:function(){return hL()&&!!Object.keys({NODE_ENV:"production",PUBLIC_URL:"/react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://workbench.ressystem.com/api"}).find(e=>e.includes("svelte"))}}];let gL;const yL=[];let vL=!1;const bL=()=>{if(!gL){if(gL=mL.find(e=>e.detectionMethod())?.platform||Y$.ServerSideUnknown,vL)for(;yL.length;)yL.pop()?.();else yL.forEach(e=>{e()});wL(Y$.ServerSideUnknown,10),wL(Y$.WebUnknown,10)}return gL};function wL(e,t){gL!==e||vL||setTimeout(()=>{gL=void 0,vL=!0,setTimeout(bL,1e3)},t)}const kL={},SL="aws-amplify",xL=e=>e.replace(/\+.*/,"");new class{constructor(){this.userAgent=`${SL}/${xL(uL)}`}get framework(){return bL()}get isReactNative(){return this.framework===Y$.ReactNative||this.framework===Y$.Expo}observeFrameworkChanges(e){(e=>{vL||yL.push(e)})(e)}};const IL=function(){let{category:e,action:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=[[SL,xL(uL)]];if(e&&n.push([e,t]),n.push(["framework",bL()]),e&&t){const r=((e,t)=>kL[e]?.[t]?.additionalDetails)(e,t);r&&r.forEach(e=>{n.push(e)})}return n},_L=e=>IL(e).map(e=>{let[t,n]=e;return t&&n?`${t}/${n}`:t}).join(" "),EL=e=>encodeURIComponent(e).replace(/[!'()*]/g,TL),TL=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function NL(e){const{port:t,query:n}=e;let{protocol:r,path:a,hostname:o}=e;r&&":"!==r.slice(-1)&&(r+=":"),t&&(o+=`:${t}`),a&&"/"!==a.charAt(0)&&(a=`/${a}`);let s=n?function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=EL(n),Array.isArray(r))for(let e=0,a=r.length;e<a;e++)t.push(`${n}=${EL(r[e])}`);else{let e=n;(r||"string"===typeof r)&&(e+=`=${EL(r)}`),t.push(e)}}return t.join("&")}(n):"";s&&"?"!==s[0]&&(s=`?${s}`);let i="";if(null!=e.username||null!=e.password){i=`${e.username??""}:${e.password??""}@`}let l="";return e.fragment&&(l=`#${e.fragment}`),`${r}//${i}${o}${a}${s}${l}`}var CL,AL,ML,OL;!function(e){e.HEADER="header",e.QUERY="query"}(CL||(CL={})),function(e){e.HEADER="header",e.QUERY="query"}(AL||(AL={})),function(e){e.HTTP="http",e.HTTPS="https"}(ML||(ML={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(OL||(OL={}));var RL,FL,DL;!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(RL||(RL={})),function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(FL||(FL={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(DL||(DL={}));class PL{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}const $L=2e3,LL="Websocket connection timeout",zL=e=>{return e[Symbol.asyncIterator]?e:(t=e,"function"===typeof ReadableStream&&t instanceof ReadableStream?wO(e):{[Symbol.asyncIterator]:async function*(){yield e}});var t};class WL{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new MO;this.metadata={handlerProtocol:"websocket/h1.1"},this.sockets={},this.utf8decoder=new TextDecoder,this.httpHandler=t,"function"===typeof e?(this.config={},this.configPromise=e().then(e=>this.config=e??{})):(this.config=e??{},this.configPromise=Promise.resolve(this.config))}destroy(){for(const[e,t]of Object.entries(this.sockets)){for(const e of t)e.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!(e=>"ws:"===e.protocol||"wss:"===e.protocol)(e))return this.httpHandler.handle(e);const t=NL(e),n=new WebSocket(t);this.sockets[t]||(this.sockets[t]=[]),this.sockets[t].push(n),n.binaryType="arraybuffer";const{connectionTimeout:r=$L}=await this.configPromise;await this.waitForReady(n,r);const{body:a}=e,o=zL(a),s=(e=>"function"===typeof ReadableStream?kO(e):e)(this.connect(n,o));return{response:new PL({statusCode:200,body:s})}}updateHttpClientConfig(e,t){this.configPromise=this.configPromise.then(n=>({...n,[e]:t}))}httpHandlerConfigs(){return this.config??{}}removeNotUsableSockets(e){this.sockets[e]=(this.sockets[e]??[]).filter(e=>!(e.readyState===WebSocket.CLOSING||e.readyState===WebSocket.CLOSED))}waitForReady(e,t){return new Promise((n,r)=>{const a=setTimeout(()=>{this.removeNotUsableSockets(e.url),r(new Error(LL))},t);e.onopen=()=>{clearTimeout(a),n()}})}connect(e,t){let n,r=!1,a=()=>{},o=()=>{};e.onmessage=e=>{o({done:!1,value:new Uint8Array(e.data)})},e.onerror=t=>{r=!0,e.close(),a(t)},e.onclose=()=>{this.removeNotUsableSockets(e.url),r||(n?a(n):o({done:!0,value:void 0}))};const s={[Symbol.asyncIterator]:()=>({next:()=>new Promise((e,t)=>{o=e,a=t})})};return(async()=>{try{for await(const n of t){const t=this.utf8decoder.decode(n);if(t.includes("closeCode")){const n=t.match(/"closeCode":([0-9]*)/);if(n){const t=n[1];e.close(parseInt(t))}continue}e.send(n)}}catch(vH){vH instanceof Error&&(n=vH)}finally{e.close(Hn)}})(),s}}async function BL(e){const t=(e=>"function"===typeof e)(e);if(e&&!t)throw new Error("Invalid credentialsProvider");if(t)return e;try{const e=(await ge()).credentials;if(n=e,n?.accessKeyId&&n?.secretAccessKey)return e;throw new Error("Missing credentials")}catch(fP){const{message:t}=fP;throw new Error(`Invalid credentials: ${t}`)}var n}class UL extends AD{presign(e,t){return super.presign(e,{...t,expiresIn:299,unsignableHeaders:new Set(Object.keys(e.headers).filter(e=>"host"!==e))})}}class jL{static getAttemptCountAndUpdateTimestamp(){return Date.now()-jL.timestamp>3e5?jL.attemptCount=1:jL.attemptCount+=1,jL.timestamp=Date.now(),jL.attemptCount}}jL.attemptCount=0,jL.timestamp=Date.now();const HL=`${_L()} ui-react-liveness/3.4.1`;async function VL(e){const t=await async function(e){let{credentialsProvider:t,endpointOverride:n,region:r,systemClockOffset:a}=e;const o={credentials:await BL(t),customUserAgent:HL,region:r,requestHandler:new WL({connectionTimeout:1e4}),signerConstructor:UL,systemClockOffset:a};return QC(n)&&(o.endpointProvider=()=>({url:new URL(n)})),new DP(o)}(e);var n,r;return t.middlewareStack.add((n=e.attemptCount,r=e.preCheckViewEnabled,e=>async t=>(t.request.query["attempt-count"]=n.toString(),t.request.query["precheck-view-enabled"]=r?"1":"0",await e(t))),{step:"build",name:"telemetryMiddleware",tags:["liveness","amplify-ui"]}),{async getResponseStream(e){const n=new K$((e=>{let{requestStream:t,sessionId:n,videoWidth:r,videoHeight:a}=e;return{ChallengeVersions:Jn,SessionId:n,LivenessRequestStream:t,VideoWidth:r,VideoHeight:a}})(e)),{LivenessResponseStream:r}=await t.send(n);return r}}}var qL,GL,KL,YL,QL,XL,JL,ZL,ez,tz,nz,rz,az,oz,sz,iz,lz;class uz{constructor(e){if(qL.add(this),GL.set(this,void 0),KL.set(this,void 0),YL.set(this,void 0),QL.set(this,!1),XL.set(this,void 0),JL.set(this,void 0),ZL.set(this,void 0),ez.set(this,void 0),tz.set(this,void 0),nz.set(this,void 0),rz.set(this,void 0),"undefined"===typeof MediaRecorder)throw Error("MediaRecorder is not supported by this browser");ee(this,GL,[],"f"),ee(this,KL,new MediaRecorder(e,{bitsPerSecond:1e6}),"f"),ee(this,YL,Z(this,KL,"f"),"f"),ee(this,nz,Z(this,qL,"m",oz).call(this),"f"),ee(this,rz,{},"f")}getVideoStream(){return Z(this,nz,"f")}setNewVideoStream(e){Z(this,qL,"m",lz).call(this),ee(this,KL,new MediaRecorder(e,{bitsPerSecond:1e6}),"f"),Z(this,qL,"m",sz).call(this,Z(this,KL,"f"))}dispatchStreamEvent(e){const{type:t}=e,n="streamStop"===t?void 0:e.data;Z(this,KL,"f").dispatchEvent(new MessageEvent(t,{data:n}))}getRecordingStartTimestamp(){if(XC(Z(this,ZL,"f"))||XC(Z(this,ez,"f")))throw new Error("Recording has not started");return Math.round(.73*(Z(this,ZL,"f")-Z(this,ez,"f"))+Z(this,ez,"f"))}getRecordingEndedTimestamp(){if(XC(Z(this,JL,"f")))throw new Error("Recording has not ended");return Z(this,JL,"f")}startRecording(){Z(this,qL,"m",az).call(this),ee(this,ez,Date.now(),"f"),Z(this,KL,"f").start(1e3)}isRecording(){return"recording"===Z(this,KL,"f").state}getChunksLength(){return Z(this,GL,"f").length}hasRecordingStarted(){return Z(this,QL,"f")&&void 0!==Z(this,XL,"f")}async stopRecording(){return this.isRecording()&&Z(this,KL,"f").stop(),Z(this,tz,"f")}}GL=new WeakMap,KL=new WeakMap,YL=new WeakMap,QL=new WeakMap,XL=new WeakMap,JL=new WeakMap,ZL=new WeakMap,ez=new WeakMap,tz=new WeakMap,nz=new WeakMap,rz=new WeakMap,qL=new WeakSet,az=function(){ee(this,GL,[],"f")},oz=function(){return new ReadableStream({start:e=>{Z(this,qL,"m",sz).call(this,Z(this,KL,"f"),e)}})},sz=function(e,t){const n=t?e=>{let{data:n}=e;n&&n.size>0&&(0===Z(this,GL,"f").length&&ee(this,XL,Date.now(),"f"),Z(this,GL,"f").push(n),t.enqueue({type:"streamVideo",data:n}))}:e=>{let{data:t}=e;Z(this,YL,"f").dispatchEvent(new MessageEvent("dataavailable",{data:t}))};e.ondataavailable=n;const r=t?e=>{const{data:n}=e;t.enqueue({type:"sessionInfo",data:n})}:e=>{const{data:t}=e;Z(this,YL,"f").dispatchEvent(new MessageEvent("sessionInfo",{data:t}))};e.addEventListener("sessionInfo",r);const a=t?()=>{t.enqueue({type:"streamStop"})}:()=>{Z(this,YL,"f").dispatchEvent(new MessageEvent("streamStop"))};e.addEventListener("streamStop",a);const o=t?e=>{const{data:n}=e;t.enqueue({type:"closeCode",data:n})}:e=>{const{data:t}=e;Z(this,YL,"f").dispatchEvent(new MessageEvent("closeCode",{data:t}))};e.addEventListener("closeCode",o);const s=t?()=>{t.close()}:()=>{Z(this,YL,"f").dispatchEvent(new MessageEvent("endStream"))};e.addEventListener("endStream",s),Z(this,qL,"m",iz).call(this),ee(this,rz,{endStream:s,closeCode:o,streamStop:a,sessionInfo:r,dataavailable:n},"f")},iz=function(){Z(this,KL,"f").onstart=()=>{ee(this,QL,!0,"f"),ee(this,ZL,Date.now(),"f")},ee(this,tz,new Promise(e=>{Z(this,KL,"f").onstop=()=>{ee(this,JL,Date.now(),"f"),e()}}),"f"),Z(this,KL,"f").onerror=()=>{this.stopRecording()}},lz=function(){Object.keys(Z(this,rz,"f")).forEach(e=>{Z(this,KL,"f").removeEventListener(e,Z(this,rz,"f")[e])}),ee(this,rz,{},"f")};const cz=e=>!!e?.ServerSessionInformationEvent,dz=e=>{const{message:t}=e;return t.includes(LL)},pz=e=>!!e?.DisconnectionEvent,hz=e=>!!e?.ValidationException,fz=e=>!!e?.InternalServerException,mz=e=>!!e?.ThrottlingException,gz=e=>!!e?.ServiceQuotaExceededException,yz={width:{min:320,ideal:640},height:{min:240,ideal:480},frameRate:{min:15,ideal:30,max:60},facingMode:"user"};let vz;const bz=async e=>{try{const t=await vz;for await(const n of t)cz(n)?e({type:"SET_SESSION_INFO",data:{serverSessionInformation:n.ServerSessionInformationEvent.SessionInformation}}):pz(n)?e({type:"DISCONNECT_EVENT"}):hz(n)?e({type:"SERVER_ERROR",data:{error:{...n.ValidationException}}}):fz(n)?e({type:"SERVER_ERROR",data:{error:{...n.InternalServerException}}}):mz(n)?e({type:"SERVER_ERROR",data:{error:{...n.ThrottlingException}}}):gz(n)&&e({type:"SERVER_ERROR",data:{error:{...n.ServiceQuotaExceededException}}})}catch(t){(e=>{const{message:t,name:n}=e;return"InvalidSignatureException"===n&&t.includes("valid region")})(t)?e({type:"SERVER_ERROR",data:{error:new Error("Invalid region in FaceLivenessDetector or credentials are scoped to the wrong region.")}}):t instanceof Error&&e({type:dz(t)?"CONNECTION_TIMEOUT":"SERVER_ERROR",data:{error:t}})}};function wz(e){localStorage.setItem("AmplifyLivenessCameraId",e)}const kz=(Sz={id:"livenessMachine",initial:"initCamera",predictableActionArguments:!0,context:{challengeId:xn(),errorMessage:void 0,maxFailedAttempts:0,failedAttempts:0,componentProps:void 0,parsedSessionInformation:void 0,serverSessionInformation:void 0,videoAssociatedParams:{videoConstraints:yz,selectableDevices:[]},ovalAssociatedParams:void 0,faceMatchAssociatedParams:{illuminationState:void 0,faceMatchState:void 0,faceMatchPercentage:25,currentDetectedFace:void 0,startFace:void 0,endFace:void 0},freshnessColorAssociatedParams:{freshnessColorEl:void 0,freshnessColors:[],freshnessColorsComplete:!1},colorSequenceDisplay:void 0,errorState:void 0,livenessStreamProvider:void 0,responseStreamActorRef:void 0,shouldDisconnect:!1,faceMatchStateBeforeStart:void 0,isFaceFarEnoughBeforeRecording:void 0,isRecordingStopped:!1},on:{CANCEL:"userCancel",TIMEOUT:{target:"retryableTimeout",actions:"updateErrorStateForTimeout"},SET_SESSION_INFO:{internal:!0,actions:"updateSessionInfo"},DISCONNECT_EVENT:{internal:!0,actions:"updateShouldDisconnect"},SET_DOM_AND_CAMERA_DETAILS:{actions:"setDOMAndCameraDetails"},UPDATE_DEVICE_AND_STREAM:{actions:"updateDeviceAndStream",target:"start"},SERVER_ERROR:{target:"error",actions:"updateErrorStateForServer"},CONNECTION_TIMEOUT:{target:"error",actions:"updateErrorStateForConnectionTimeout"},RUNTIME_ERROR:{target:"error",actions:"updateErrorStateForRuntime"},MOBILE_LANDSCAPE_WARNING:{target:"mobileLandscapeWarning",actions:"updateErrorStateForServer"}},states:{initCamera:{initial:"cameraCheck",on:{SET_DOM_AND_CAMERA_DETAILS:{actions:"setDOMAndCameraDetails",target:"#livenessMachine.initWebsocket"}},states:{cameraCheck:{entry:"resetErrorState",invoke:{src:"checkVirtualCameraAndGetStream",onDone:{target:"waitForDOMAndCameraDetails",actions:"updateVideoMediaStream"},onError:{target:"#livenessMachine.permissionDenied"}}},waitForDOMAndCameraDetails:{}}},initWebsocket:{entry:()=>{},initial:"initializeLivenessStream",states:{initializeLivenessStream:{invoke:{src:"openLivenessStreamConnection",onDone:{target:"waitForSessionInfo",actions:["updateLivenessStreamProvider","spawnResponseStreamActor"]}}},waitForSessionInfo:{entry:()=>{},after:{0:{target:"#livenessMachine.start",cond:"hasParsedSessionInfo"},100:{target:"waitForSessionInfo"}}}}},start:{entry:["initializeFaceDetector",()=>{}],always:[{target:"detectFaceBeforeStart",cond:"shouldSkipStartScreen"}],on:{BEGIN:"detectFaceBeforeStart"}},detectFaceBeforeStart:{invoke:{src:"detectFace",onDone:{target:"checkFaceDetectedBeforeStart",actions:"updateFaceMatchBeforeStartDetails"}}},checkFaceDetectedBeforeStart:{after:{0:{target:"detectFaceDistanceBeforeRecording",cond:"hasSingleFaceBeforeStart"},100:{target:"detectFaceBeforeStart"}}},detectFaceDistanceBeforeRecording:{invoke:{src:"detectFaceDistance",onDone:{target:"checkFaceDistanceBeforeRecording",actions:"updateFaceDistanceBeforeRecording"}}},checkFaceDistanceBeforeRecording:{after:{0:{target:"recording",cond:"hasEnoughFaceDistanceBeforeRecording"},100:{target:"detectFaceDistanceBeforeRecording"}}},recording:{entry:["clearErrorState","startRecording","sendTimeoutAfterOvalDrawingDelay"],initial:"ovalDrawing",states:{ovalDrawing:{invoke:{src:"detectInitialFaceAndDrawOval",onDone:{target:"checkFaceDetected",actions:["updateOvalAndFaceDetailsPostDraw","sendTimeoutAfterOvalMatchDelay"]},onError:{target:"#livenessMachine.error",actions:"updateErrorStateForRuntime"}}},checkFaceDetected:{after:{0:{target:"cancelOvalDrawingTimeout",cond:"hasSingleFace"},100:{target:"ovalDrawing"}}},cancelOvalDrawingTimeout:{entry:["cancelOvalDrawingTimeout","sendTimeoutAfterRecordingDelay"],after:{0:{target:"checkRecordingStarted"}}},checkRecordingStarted:{entry:()=>{},after:{0:{target:"ovalMatching",cond:"hasRecordingStarted",actions:"updateRecordingStartTimestamp"},100:{target:"checkRecordingStarted"}}},ovalMatching:{entry:"cancelRecordingTimeout",invoke:{src:"detectFaceAndMatchOval",onDone:{target:"checkMatch",actions:"updateFaceDetailsPostMatch"}}},checkMatch:{entry:()=>{},after:{0:{target:"handleChallenge",cond:"hasFaceMatchedInOval",actions:["setFaceMatchTimeAndStartFace","updateEndFaceMatch","setColorDisplay","cancelOvalMatchTimeout","cancelOvalDrawingTimeout"]},1:{target:"ovalMatching"}}},handleChallenge:{entry:()=>{},always:[{target:"delayBeforeFlash",cond:"isFaceMovementAndLightChallenge"},{target:"success",cond:"isFaceMovementChallenge"}]},delayBeforeFlash:{entry:()=>{},after:{1e3:"flashFreshnessColors"}},flashFreshnessColors:{invoke:{src:"flashColors",onDone:[{target:"success",cond:"hasFreshnessColorShown"},{target:"flashFreshnessColors",actions:"updateFreshnessDetails"}]}},success:{entry:"stopRecording",type:"final"}},onDone:"uploading"},uploading:{initial:"pending",states:{pending:{entry:["pauseVideoStream"],invoke:{src:"stopVideo",onDone:"waitForDisconnectEvent",onError:{target:"#livenessMachine.error",actions:"updateErrorStateForRuntime"}}},waitForDisconnectEvent:{entry:()=>{},after:{0:{cond:"getShouldDisconnect",target:"getLivenessResult"},100:{target:"waitForDisconnectEvent"}}},getLivenessResult:{entry:["freezeStream"],invoke:{src:"getLiveness",onError:{target:"#livenessMachine.error",actions:"updateErrorStateForServer"}}}}},retryableTimeout:{entry:"updateFailedAttempts",always:[{target:"timeout",cond:"shouldTimeoutOnFailedAttempts"},{target:"start"}]},permissionDenied:{entry:"callUserPermissionDeniedCallback",on:{RETRY_CAMERA_CHECK:"initCamera"}},mobileLandscapeWarning:{entry:"callMobileLandscapeWarningCallback",always:{target:"error"}},timeout:{entry:["cleanUpResources","callUserTimeoutCallback","freezeStream"]},error:{entry:["cleanUpResources","callErrorCallback","cancelOvalDrawingTimeout","cancelOvalMatchTimeout","cancelRecordingTimeout","freezeStream"]},userCancel:{entry:["cleanUpResources","callUserCancelCallback","resetContext"],always:{target:"initCamera"}}}},xz={actions:{spawnResponseStreamActor:Rn({responseStreamActorRef:()=>dn(bz)}),updateFailedAttempts:Rn({failedAttempts:e=>e.failedAttempts+1}),updateVideoMediaStream:Rn({videoAssociatedParams:(e,t)=>({...e.videoAssociatedParams,videoMediaStream:t.data?.stream,selectedDeviceId:t.data?.selectedDeviceId,selectableDevices:t.data?.selectableDevices})}),initializeFaceDetector:Rn({ovalAssociatedParams:e=>{const{componentProps:t}=e,{faceModelUrl:n,binaryPath:r}=t.config,a=new KC(r,n);return a.triggerModelLoading(),{...e.ovalAssociatedParams,faceDetector:a}}}),updateLivenessStreamProvider:Rn({livenessStreamProvider:(e,t)=>t.data?.livenessStreamProvider}),setDOMAndCameraDetails:Rn({videoAssociatedParams:(e,t)=>({...e.videoAssociatedParams,videoEl:t.data?.videoEl,canvasEl:t.data?.canvasEl,isMobile:t.data?.isMobile}),freshnessColorAssociatedParams:(e,t)=>({...e.freshnessColorAssociatedParams,freshnessColorEl:t.data?.freshnessColorEl})}),updateDeviceAndStream:Rn({videoAssociatedParams:(e,t)=>(wz(t.data?.newDeviceId),e.livenessStreamProvider?.setNewVideoStream(t.data?.newStream),{...e.videoAssociatedParams,selectedDeviceId:t.data?.newDeviceId,videoMediaStream:t.data?.newStream})}),updateRecordingStartTimestamp:Rn({videoAssociatedParams:e=>{const{challengeId:t,ovalAssociatedParams:n,videoAssociatedParams:r,livenessStreamProvider:a,parsedSessionInformation:o}=e,{videoMediaStream:s}=r,i=a.getRecordingStartTimestamp();return e.livenessStreamProvider.dispatchStreamEvent({type:"sessionInfo",data:xA({parsedSessionInformation:o,...yA(s),challengeId:t,ovalAssociatedParams:n,recordingStartedTimestamp:i})}),{...e.videoAssociatedParams,recordingStartedTimestamp:i}}}),startRecording:Rn({videoAssociatedParams:e=>(e.livenessStreamProvider&&!e.livenessStreamProvider.isRecording()&&e.livenessStreamProvider.startRecording(),{...e.videoAssociatedParams})}),stopRecording:()=>{},updateFaceMatchBeforeStartDetails:Rn({faceMatchStateBeforeStart:(e,t)=>t.data.faceMatchState}),updateFaceDistanceBeforeRecording:Rn({isFaceFarEnoughBeforeRecording:(e,t)=>!!t.data.isFaceFarEnoughBeforeRecording}),updateFaceDistanceWhileLoading:Rn({isFaceFarEnoughBeforeRecording:(e,t)=>!!t.data.isFaceFarEnoughBeforeRecording,errorState:(e,t)=>t.data?.error}),updateOvalAndFaceDetailsPostDraw:Rn({ovalAssociatedParams:(e,t)=>({...e.ovalAssociatedParams,initialFace:t.data.initialFace,ovalDetails:t.data.ovalDetails,scaleFactor:t.data.scaleFactor}),faceMatchAssociatedParams:(e,t)=>({...e.faceMatchAssociatedParams,faceMatchState:t.data.faceMatchState,illuminationState:t.data.illuminationState})}),updateFaceDetailsPostMatch:Rn({faceMatchAssociatedParams:(e,t)=>({...e.faceMatchAssociatedParams,faceMatchState:t.data.faceMatchState,faceMatchPercentage:t.data.faceMatchPercentage,illuminationState:t.data.illuminationState,currentDetectedFace:t.data.detectedFace})}),updateEndFaceMatch:Rn({faceMatchAssociatedParams:e=>({...e.faceMatchAssociatedParams,endFace:e.faceMatchAssociatedParams.currentDetectedFace})}),setFaceMatchTimeAndStartFace:Rn({faceMatchAssociatedParams:e=>({...e.faceMatchAssociatedParams,startFace:void 0===e.faceMatchAssociatedParams.startFace?e.faceMatchAssociatedParams.currentDetectedFace:e.faceMatchAssociatedParams.startFace})}),resetErrorState:Rn({errorState:e=>{}}),updateErrorStateForConnectionTimeout:Rn({errorState:e=>Fn}),updateErrorStateForTimeout:Rn({errorState:(e,t)=>t.data?.errorState||Dn,errorMessage:(e,t)=>t.data?.message}),updateErrorStateForRuntime:Rn({errorState:(e,t)=>t.data?.errorState||Pn}),updateErrorStateForServer:Rn({errorState:e=>$n}),clearErrorState:Rn({errorState:e=>{}}),updateSessionInfo:Rn({parsedSessionInformation:(e,t)=>{const{serverSessionInformation:n}=t.data;return(e=>{let t;if(n=e.Challenge,n?.FaceMovementAndLightChallenge)t={...e.Challenge.FaceMovementAndLightChallenge,Name:Qn.type};else{if(!(e=>!!e?.FaceMovementChallenge)(e.Challenge))throw new Error("Unsupported challenge type returned from session information.");t={...e.Challenge.FaceMovementChallenge,Name:Xn.type}}var n;if(!t.ChallengeConfig||!t.ChallengeConfig.FaceDistanceThreshold||!t.ChallengeConfig.FaceDistanceThresholdMin||!t.ChallengeConfig.OvalHeightWidthRatio)throw new Error("Challenge config not returned from session information.");return{...e,Challenge:t}})(n)}}),updateShouldDisconnect:Rn({shouldDisconnect:()=>!0}),updateFreshnessDetails:Rn({freshnessColorAssociatedParams:(e,t)=>({...e.freshnessColorAssociatedParams,freshnessColorsComplete:t.data.freshnessColorsComplete})}),setColorDisplay:Rn({colorSequenceDisplay:e=>{let{parsedSessionInformation:t}=e;return new mA(function(e){return(e.Challenge.ColorSequences??[]).map(e=>{let{FreshnessColor:t,DownscrollDuration:n,FlatDisplayDuration:r}=e;const a=t.RGB,o=`rgb(${a[0]},${a[1]},${a[2]})`;return"undefined"!==typeof o&&"undefined"!==typeof n&&"undefined"!==typeof r?{color:o,downscrollDuration:n,flatDisplayDuration:r}:void 0}).filter(ur)}(t))}}),sendTimeoutAfterOvalDrawingDelay:$t({type:"RUNTIME_ERROR",data:{message:"Client failed to draw oval."}},{delay:5e3,id:"ovalDrawingTimeout"}),cancelOvalDrawingTimeout:Lt("ovalDrawingTimeout"),sendTimeoutAfterRecordingDelay:$t({type:"RUNTIME_ERROR",data:{message:"Client failed to start recording."}},{delay:5e3,id:"recordingTimeout"}),cancelRecordingTimeout:Lt("recordingTimeout"),sendTimeoutAfterOvalMatchDelay:$t({type:"TIMEOUT",data:{message:"Client timed out waiting for face to match oval."}},{delay:e=>e.parsedSessionInformation.Challenge.ChallengeConfig?.OvalFitTimeout??7e3,id:"ovalMatchTimeout"}),cancelOvalMatchTimeout:Lt("ovalMatchTimeout"),callUserPermissionDeniedCallback:Rn({errorState:(e,t)=>{let n;n=t.data.message.includes("15 fps")?Ln:zn;const r=t.data.message||t.data.Message,a={state:n,error:new Error(r)};return e.componentProps.onError?.(a),n}}),callMobileLandscapeWarningCallback:Rn({errorState:()=>Bn}),callUserCancelCallback:e=>{e.componentProps.onUserCancel?.()},callUserTimeoutCallback:e=>{const t=new Error(e.errorMessage??"Client Timeout");t.name=e.errorState;const n={state:e.errorState,error:t};e.componentProps.onError?.(n)},callErrorCallback:(e,t)=>{const n={state:e.errorState,error:t.data?.error||t.data};e.componentProps.onError?.(n)},cleanUpResources:e=>{const{freshnessColorEl:t}=e.freshnessColorAssociatedParams;t&&(t.style.display="none");let n=Vn;e.errorState===Dn?n=qn:e.errorState===Pn?n=Kn:e.errorState===Wn||e.errorState===Un?n=Yn:void 0===e.errorState&&(n=Gn),e.livenessStreamProvider?.stopRecording().then(()=>{e.livenessStreamProvider?.dispatchStreamEvent({type:"closeCode",data:{closeCode:n}})})},freezeStream:e=>{const{videoMediaStream:t,videoEl:n}=e.videoAssociatedParams;e.isRecordingStopped=!0,n?.pause(),t?.getTracks().forEach(function(e){e.stop()})},pauseVideoStream:e=>{const{videoEl:t}=e.videoAssociatedParams;e.isRecordingStopped=!0,t.pause()},resetContext:Rn({challengeId:xn(),maxFailedAttempts:0,failedAttempts:0,componentProps:e=>e.componentProps,parsedSessionInformation:e=>{},videoAssociatedParams:e=>({videoConstraints:yz}),ovalAssociatedParams:e=>{},errorState:e=>{},livenessStreamProvider:e=>{},responseStreamActorRef:e=>{},shouldDisconnect:!1,faceMatchStateBeforeStart:e=>{},isFaceFarEnoughBeforeRecording:e=>{},isRecordingStopped:!1})},guards:{shouldTimeoutOnFailedAttempts:e=>e.failedAttempts>=e.maxFailedAttempts,hasFaceMatchedInOval:e=>e.faceMatchAssociatedParams.faceMatchState===On.MATCHED,hasSingleFace:e=>e.faceMatchAssociatedParams.faceMatchState===On.FACE_IDENTIFIED,hasSingleFaceBeforeStart:e=>e.faceMatchStateBeforeStart===On.FACE_IDENTIFIED,hasEnoughFaceDistanceBeforeRecording:e=>e.isFaceFarEnoughBeforeRecording,hasNotEnoughFaceDistanceBeforeRecording:e=>!e.isFaceFarEnoughBeforeRecording,hasFreshnessColorShown:e=>e.freshnessColorAssociatedParams.freshnessColorsComplete,hasParsedSessionInfo:e=>void 0!==e.parsedSessionInformation,hasDOMAndCameraDetails:e=>void 0!==e.videoAssociatedParams.videoEl&&void 0!==e.videoAssociatedParams.canvasEl&&void 0!==e.freshnessColorAssociatedParams.freshnessColorEl,isFaceMovementChallenge:e=>e.parsedSessionInformation?.Challenge?.Name===Xn.type,isFaceMovementAndLightChallenge:e=>e.parsedSessionInformation?.Challenge?.Name===Qn.type,getShouldDisconnect:e=>!!e.shouldDisconnect,hasRecordingStarted:e=>e.livenessStreamProvider.hasRecordingStarted(),shouldSkipStartScreen:e=>!!e.componentProps?.disableStartScreen},services:{async checkVirtualCameraAndGetStream(e){const{videoConstraints:t}=e.videoAssociatedParams,n=await navigator.mediaDevices.getUserMedia({video:{...t},audio:!1}),r=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind).filter(e=>!function(e){return e.label.toLowerCase().includes("virtual")}(e));if(!r.length)throw new Error("No real video devices found");const a=n.getTracks().filter(e=>e.getSettings().frameRate>=15);if(a.length<1)throw new Error("No camera found with more than 15 fps");const o=a[0].getSettings().deviceId,s=r.some(e=>e.deviceId===o),i=s?o:r[0].deviceId;let l=n;return s||(l=await navigator.mediaDevices.getUserMedia({video:{...t,deviceId:{exact:i}},audio:!1})),wz(i),{stream:l,selectedDeviceId:o,selectableDevices:r}},async openLivenessStreamConnection(e){const{config:t,disableStartScreen:n}=e.componentProps,{credentialProvider:r,endpointOverride:a,systemClockOffset:o}=t,{videoHeight:s,videoWidth:i}=e.videoAssociatedParams.videoEl,l=new uz(e.videoAssociatedParams.videoMediaStream),u=function(e){const t=e.getReader();return{getRequestStream:async function*(){for(;;){const{done:e,value:n}=await t.read();if(e)return;if("sessionInfo"===n.type)yield{ClientSessionInformationEvent:n.data};else{if("streamVideo"===n.type&&n.data.size<1)continue;yield{VideoEvent:await gA(n)}}}}}}(l.getVideoStream()).getRequestStream(),{getResponseStream:c}=await VL({credentialsProvider:r,endpointOverride:a,region:e.componentProps.region,attemptCount:jL.getAttemptCountAndUpdateTimestamp(),preCheckViewEnabled:!n,systemClockOffset:o});return vz=c({requestStream:u,sessionId:e.componentProps.sessionId,videoHeight:s.toString(),videoWidth:i.toString()}),{livenessStreamProvider:l}},async detectFace(e){const{videoEl:t}=e.videoAssociatedParams,{faceDetector:n}=e.ovalAssociatedParams;try{await n.modelLoadingPromise}catch(vH){console.log({err:vH})}const r=await async function(e,t){let n;switch((await e.detectFaces(t)).length){case 0:n=On.CANT_IDENTIFY;break;case 1:n=On.FACE_IDENTIFIED;break;default:n=On.TOO_MANY}return n}(n,t);return{faceMatchState:r}},async detectFaceDistance(e){const{parsedSessionInformation:t,isFaceFarEnoughBeforeRecording:n}=e,{videoEl:r,videoMediaStream:a}=e.videoAssociatedParams,{faceDetector:o}=e.ovalAssociatedParams,{width:s,height:i}=a.getTracks()[0].getSettings(),l=nr({width:s,height:i,ovalHeightWidthRatio:t.Challenge.ChallengeConfig.OvalHeightWidthRatio}),{isDistanceBelowThreshold:u}=await async function(e){let{parsedSessionInformation:t,faceDetector:n,videoEl:r,ovalDetails:a,reduceThreshold:o=!1}=e;const s=t.Challenge.ChallengeConfig,{FaceDistanceThresholdMin:i,FaceDistanceThreshold:l}=s,u=await n.detectFaces(r);let c,d,p=!1;switch(u.length){case 0:d=Wn;break;case 1:{c=u[0];const{width:e}=a,{pupilDistance:t,faceHeight:n}=or(c);e&&(p=(2*t+1.8*n)/2/2/e<(o?l:i),p||(d=Wn));break}default:d=Un}return{isDistanceBelowThreshold:p,error:d}}({parsedSessionInformation:t,faceDetector:o,videoEl:r,ovalDetails:l,reduceThreshold:n});return{isFaceFarEnoughBeforeRecording:u}},async detectInitialFaceAndDrawOval(e){const{parsedSessionInformation:t}=e,{videoEl:n,canvasEl:r,isMobile:a}=e.videoAssociatedParams,{faceDetector:o}=e.ovalAssociatedParams;try{await o.modelLoadingPromise}catch(vH){console.log({err:vH})}const s=await o.detectFaces(n);let i,l,u;switch(s.length){case 0:l=On.CANT_IDENTIFY,u=ir(n);break;case 1:l=On.FACE_IDENTIFIED,i=s[0];break;default:l=On.TOO_MANY}if(!i)return{faceMatchState:l,illuminationState:u};const{width:c,height:d}=n.getBoundingClientRect();a?(r.width=window.innerWidth,r.height=window.innerHeight):(r.width=c,r.height=d);const p=c/n.videoWidth,h=function(e){let{parsedSessionInformation:t,videoWidth:n}=e;const r=t.Challenge.OvalParameters;if(!r||!r.CenterX||!r.CenterY||!r.Width||!r.Height)throw new Error("Oval parameters not returned from session information.");return{flippedCenterX:n-r.CenterX,centerX:r.CenterX,centerY:r.CenterY,width:r.Width,height:r.Height}}({parsedSessionInformation:t,videoWidth:n.width}),f=sr({ovalHeightWidthRatio:t.Challenge.ChallengeConfig.OvalHeightWidthRatio,face:i,oval:h,frameHeight:n.videoHeight});return i.top=f.top,i.left=f.left,i.height=f.bottom-f.top,i.width=f.right-f.left,rr({canvas:r,oval:h,scaleFactor:p,videoEl:n}),{faceMatchState:l,ovalDetails:h,scaleFactor:p,initialFace:i}},async detectFaceAndMatchOval(e){const{parsedSessionInformation:t}=e,{videoEl:n}=e.videoAssociatedParams,{faceDetector:r,ovalDetails:a,initialFace:o}=e.ovalAssociatedParams,s=await r.detectFaces(n);let i,l,u,c=0;const d=sr({ovalHeightWidthRatio:t.Challenge.ChallengeConfig.OvalHeightWidthRatio,face:o,oval:a,frameHeight:n.videoHeight}),{ovalBoundingBox:p}=er(a),h=tr(d,p);switch(s.length){case 0:i=On.CANT_IDENTIFY,u=ir(n);break;case 1:{l=s[0];const{faceMatchState:e,faceMatchPercentage:r}=function(e){let t,{face:n,ovalDetails:r,initialFaceIntersection:a,parsedSessionInformation:o,frameHeight:s}=e;const i=o.Challenge.ChallengeConfig;if(!i||!i.OvalIouThreshold||!i.OvalIouHeightThreshold||!i.OvalIouWidthThreshold||!i.FaceIouHeightThreshold||!i.FaceIouWidthThreshold)throw new Error("Challenge information not returned from session information.");const{OvalIouThreshold:l,FaceIouHeightThreshold:u,FaceIouWidthThreshold:c,OvalHeightWidthRatio:d}=i,p=sr({ovalHeightWidthRatio:d,face:n,oval:r,frameHeight:s}),h=p.left,f=p.right,m=p.top,g=p.bottom,{ovalBoundingBox:y,minOvalX:v,minOvalY:b,maxOvalX:w,maxOvalY:k}=er(r),S=tr(p,y),x=l,I=r.width*c,_=r.height*u,E=100*Math.max(Math.min(1,.75*(S-a)/(x-a)+.25),0),T=v>h&&w>f,N=h>v&&f>w,C=b-m>_||g-k>_||v-h>I&&f-w>I;return t=S>x?On.MATCHED:T||N?On.OFF_CENTER:C?On.MATCHED:On.TOO_FAR,{faceMatchState:t,faceMatchPercentage:E}}({face:l,ovalDetails:a,initialFaceIntersection:h,parsedSessionInformation:t,frameHeight:n.videoHeight});i=e,c=r;break}default:i=On.TOO_MANY}return{faceMatchState:i,faceMatchPercentage:c,illuminationState:u,detectedFace:l}},async flashColors(e){let{challengeId:t,colorSequenceDisplay:n,freshnessColorAssociatedParams:r,livenessStreamProvider:a,ovalAssociatedParams:o,videoAssociatedParams:s}=e;const{freshnessColorsComplete:i,freshnessColorEl:l}=r;if(i)return;const{ovalDetails:u,scaleFactor:c}=o,{videoEl:d}=s,p=await n.startSequences({onSequenceColorChange:e=>{let{sequenceColor:t,prevSequenceColor:n,heightFraction:r}=e;!function(e){let{overlayCanvas:t,prevColor:n,nextColor:r,videoEl:a,ovalDetails:o,heightFraction:s,scaleFactor:i}=e;const{x:l,y:u}=a.getBoundingClientRect(),{flippedCenterX:c,centerY:d,width:p,height:h}=o,f=c*i+l,m=d*i+u,g=t.width,y=t.height,v=t.getContext("2d");if(!v)throw new Error("Cannot find Overlay Canvas.");v.canvas.width=window.innerWidth,v.canvas.height=window.innerHeight,v.clearRect(0,0,g,y),lr({ctx:v,prevColor:n,nextColor:r,fraction:s}),v.save(),v.beginPath(),v.rect(0,0,g,y),v.clip(),v.clearRect(0,0,g,y),v.globalAlpha=.9,lr({ctx:v,prevColor:n,nextColor:r,fraction:s}),v.beginPath(),v.ellipse(f,m,p*i/2,h*i/2,0,0,2*Math.PI),v.strokeStyle="white",v.lineWidth=8,v.stroke(),v.clip(),v.clearRect(0,0,g,y),v.globalAlpha=.75,lr({ctx:v,prevColor:n,nextColor:r,fraction:s}),v.restore()}({heightFraction:r,overlayCanvas:l,ovalDetails:u,nextColor:t,prevColor:n,scaleFactor:c,videoEl:d})},onSequenceStart:()=>{l.style.display="block"},onSequencesComplete:()=>{l.style.display="none"},onSequenceChange:e=>{a.dispatchStreamEvent({type:"sessionInfo",data:_A({...e,challengeId:t})})}});return{freshnessColorsComplete:p}},async stopVideo(e){const{challengeId:t,parsedSessionInformation:n,faceMatchAssociatedParams:r,ovalAssociatedParams:a,livenessStreamProvider:o,videoAssociatedParams:s}=e,{videoMediaStream:i}=s;if(await o.stopRecording(),0===o.getChunksLength())throw new Error("Video chunks not recorded successfully.");o.dispatchStreamEvent({type:"sessionInfo",data:SA({...yA(i),parsedSessionInformation:n,challengeId:t,faceMatchAssociatedParams:r,ovalAssociatedParams:a,recordingEndedTimestamp:o.getRecordingEndedTimestamp()})}),o.dispatchStreamEvent({type:"streamStop"})},async getLiveness(e){const{onAnalysisComplete:t}=e.componentProps;await t()}}},new An(Sz,xz));var Sz,xz,Iz=n(940);const _z=/\{([^}]+)\}/g;function Ez(e){const t=new RegExp(_z);if("string"===typeof e)return t.test(e);if("object"===typeof e){let t=!1;for(const n in e)if(JC(e,n)){if(Ez(e[n])){t=!0;break}}return t}return!1}const Tz="amplify";function Nz(e){return Object.entries(e).map(e=>{let[t,n]=e;const r=Oz(n)?n.toString():Mz({value:n});return`${Iz(t)}:${r}; `}).join(" ")}function Cz(e){let{path:t=[]}=e;return`${Iz([Tz,...t].join(" "))}`}const Az=["offsetX","offsetY","blurRadius","spreadRadius","color"];function Mz(e){const{value:t}=e;return QC(t)?Fz(t):Rz(t)?Az.map(n=>Fz(Rz(e)?e[n]:t[n])).join(" "):t}function Oz(e){return YC(e)&&JC(e,"value")}function Rz(e){return YC(e)&&JC(e,"offsetX")}function Fz(e){if(!e)return"";if(Ez(e)){return`var(--${Cz({path:e.replace(/\{|\}/g,"").replace(".value","").split(".")})})`}return e}const Dz=e=>{let{token:t,path:n}=e;const r=`--${Cz({path:n})}`,{value:a}=t,o=Mz(t);return{name:r,original:a,path:n,value:o,toString:()=>`var(${r})`}};function Pz(e){let{tokens:t,path:n=[],setupToken:r}=e;if(JC(t,"value"))return r({token:t,path:n});const a={};for(const o in t)if(JC(t,o)){const e=t[o],s=YC(e)?e:{value:e};a[o]=Pz({tokens:s,path:n.concat(o),setupToken:r})}return a}function $z(e,t){for(var n in t=t||[],e)JC(e,n)&&(YC(e[n])&&"value"in e[n]?t.push(e[n]):YC(e[n])&&$z(e[n],t));return t}function Lz(e,t,n){if(null==e)return{};var r,a,o,s,i,l,u=e[0]||{},c=1,d=e.length;for(n=n||[],"object"!==typeof u&&(u={});c<d;c++)if(null!=(i=e[c]))for(s in i)if(JC(i,s)&&"__proto__"!==s&&(r=u[s],u!==(o=i[s])))if(o&&(YC(o)||(a=Array.isArray(o)))){a?(a=!1,l=r&&Array.isArray(r)?r:[]):l=r&&YC(r)?r:{};var p=n.slice(0);p.push(s),u[s]=Lz([l,o],t,p)}else void 0!==o&&(null!=r&&"function"==typeof t&&t({target:u,copy:i,path:n,key:s}),u[s]=o);return u}const zz={alignContent:"alignContent",alignItems:"alignItems",alignSelf:"alignSelf",area:"gridArea",aspectRatio:"aspectRatio",autoColumns:"gridAutoColumns",autoFlow:"gridAutoFlow",autoRows:"gridAutoRows",backgroundColor:"backgroundColor",backgroundImage:"backgroundImage",basis:"flexBasis",border:"border",borderRadius:"borderRadius",borderColor:"borderColor",borderWidth:"borderWidth",borderStyle:"borderStyle",bottom:"bottom",boxShadow:"boxShadow",color:"color",column:"gridColumn",columnEnd:"gridColumnEnd",columnGap:"columnGap",columnSpan:"gridColumn",columnStart:"gridColumnStart",direction:"flexDirection",display:"display",flex:"flex",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",gap:"gap",grow:"flexGrow",height:"height",justifyContent:"justifyContent",left:"left",letterSpacing:"letterSpacing",lineHeight:"lineHeight",margin:"margin",marginBlock:"marginBlock",marginBlockEnd:"marginBlockEnd",marginBlockStart:"marginBlockStart",marginBottom:"marginBlockEnd",marginInline:"marginInline",marginInlineEnd:"marginInlineEnd",marginInlineStart:"marginInlineStart",marginLeft:"marginInlineStart",marginRight:"marginInlineEnd",marginTop:"marginBlockStart",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",objectFit:"objectFit",objectPosition:"objectPosition",opacity:"opacity",order:"order",overflow:"overflow",padding:"padding",paddingBlock:"paddingBlock",paddingBlockEnd:"paddingBlockEnd",paddingBlockStart:"paddingBlockStart",paddingBottom:"paddingBlockEnd",paddingInline:"paddingInline",paddingInlineEnd:"paddingInlineEnd",paddingInlineStart:"paddingInlineStart",paddingLeft:"paddingInlineStart",paddingRight:"paddingInlineEnd",paddingTop:"paddingBlockStart",position:"position",resize:"resize",right:"right",row:"gridRow",rowEnd:"gridRowEnd",rowGap:"rowGap",rowSpan:"gridRow",rowStart:"gridRowStart",shrink:"flexShrink",templateAreas:"gridTemplateAreas",templateColumns:"gridTemplateColumns",templateRows:"gridTemplateRows",textAlign:"textAlign",textDecoration:"textDecoration",textTransform:"textTransform",top:"top",transform:"transform",transformOrigin:"transformOrigin",width:"width",whiteSpace:"whiteSpace",wrap:"flexWrap"},Wz=(Object.keys(zz),{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}}),Bz={red:{10:{value:"hsl(0, 75%, 95%)"},20:{value:"hsl(0, 75%, 85%)"},40:{value:"hsl(0, 75%, 75%)"},60:{value:"hsl(0, 50%, 50%)"},80:{value:"hsl(0, 95%, 30%)"},90:{value:"hsl(0, 100%, 20%)"},100:{value:"hsl(0, 100%, 15%)"}},orange:{10:{value:"hsl(30, 75%, 95%)"},20:{value:"hsl(30, 75%, 85%)"},40:{value:"hsl(30, 75%, 75%)"},60:{value:"hsl(30, 50%, 50%)"},80:{value:"hsl(30, 95%, 30%)"},90:{value:"hsl(30, 100%, 20%)"},100:{value:"hsl(30, 100%, 15%)"}},yellow:{10:{value:"hsl(60, 75%, 95%)"},20:{value:"hsl(60, 75%, 85%)"},40:{value:"hsl(60, 75%, 75%)"},60:{value:"hsl(60, 50%, 50%)"},80:{value:"hsl(60, 95%, 30%)"},90:{value:"hsl(60, 100%, 20%)"},100:{value:"hsl(60, 100%, 15%)"}},green:{10:{value:"hsl(130, 60%, 95%)"},20:{value:"hsl(130, 60%, 90%)"},40:{value:"hsl(130, 44%, 63%)"},60:{value:"hsl(130, 43%, 46%)"},80:{value:"hsl(130, 33%, 37%)"},90:{value:"hsl(130, 27%, 29%)"},100:{value:"hsl(130, 22%, 23%)"}},teal:{10:{value:"hsl(190, 75%, 95%)"},20:{value:"hsl(190, 75%, 85%)"},40:{value:"hsl(190, 70%, 70%)"},60:{value:"hsl(190, 50%, 50%)"},80:{value:"hsl(190, 95%, 30%)"},90:{value:"hsl(190, 100%, 20%)"},100:{value:"hsl(190, 100%, 15%)"}},blue:{10:{value:"hsl(220, 95%, 95%)"},20:{value:"hsl(220, 85%, 85%)"},40:{value:"hsl(220, 70%, 70%)"},60:{value:"hsl(220, 50%, 50%)"},80:{value:"hsl(220, 95%, 30%)"},90:{value:"hsl(220, 100%, 20%)"},100:{value:"hsl(220, 100%, 15%)"}},purple:{10:{value:"hsl(300, 95%, 95%)"},20:{value:"hsl(300, 85%, 85%)"},40:{value:"hsl(300, 70%, 70%)"},60:{value:"hsl(300, 50%, 50%)"},80:{value:"hsl(300, 95%, 30%)"},90:{value:"hsl(300, 100%, 20%)"},100:{value:"hsl(300, 100%, 15%)"}},pink:{10:{value:"hsl(340, 95%, 95%)"},20:{value:"hsl(340, 90%, 85%)"},40:{value:"hsl(340, 70%, 70%)"},60:{value:"hsl(340, 50%, 50%)"},80:{value:"hsl(340, 95%, 30%)"},90:{value:"hsl(340, 100%, 20%)"},100:{value:"hsl(340, 100%, 15%)"}},neutral:{10:{value:"hsl(210, 5%, 98%)"},20:{value:"hsl(210, 5%, 94%)"},40:{value:"hsl(210, 5%, 87%)"},60:{value:"hsl(210, 10%, 58%)"},80:{value:"hsl(210, 10%, 40%)"},90:{value:"hsl(210, 25%, 25%)"},100:{value:"hsl(210, 50%, 10%)"}},primary:{10:{value:"{colors.teal.10.value}"},20:{value:"{colors.teal.20.value}"},40:{value:"{colors.teal.40.value}"},60:{value:"{colors.teal.60.value}"},80:{value:"{colors.teal.80.value}"},90:{value:"{colors.teal.90.value}"},100:{value:"{colors.teal.100.value}"}},secondary:{10:{value:"{colors.purple.10.value}"},20:{value:"{colors.purple.20.value}"},40:{value:"{colors.purple.40.value}"},60:{value:"{colors.purple.60.value}"},80:{value:"{colors.purple.80.value}"},90:{value:"{colors.purple.90.value}"},100:{value:"{colors.purple.100.value}"}},font:{primary:{value:"{colors.neutral.100.value}"},secondary:{value:"{colors.neutral.90.value}"},tertiary:{value:"{colors.neutral.80.value}"},disabled:{value:"{colors.neutral.60.value}"},inverse:{value:"{colors.white.value}"},interactive:{value:"{colors.primary.80.value}"},hover:{value:"{colors.primary.90.value}"},focus:{value:"{colors.primary.100.value}"},active:{value:"{colors.primary.100.value}"},info:{value:"{colors.blue.90.value}"},warning:{value:"{colors.orange.90.value}"},error:{value:"{colors.red.90.value}"},success:{value:"{colors.green.90.value}"}},background:{primary:{value:"{colors.white.value}"},secondary:{value:"{colors.neutral.10.value}"},tertiary:{value:"{colors.neutral.20.value}"},quaternary:{value:"{colors.neutral.60.value}"},disabled:{value:"{colors.background.tertiary.value}"},info:{value:"{colors.blue.10.value}"},warning:{value:"{colors.orange.10.value}"},error:{value:"{colors.red.10.value}"},success:{value:"{colors.green.10.value}"}},border:{primary:{value:"{colors.neutral.60.value}"},secondary:{value:"{colors.neutral.40.value}"},tertiary:{value:"{colors.neutral.20.value}"},disabled:{value:"{colors.border.tertiary.value}"},pressed:{value:"{colors.primary.100.value}"},focus:{value:"{colors.primary.100.value}"},error:{value:"{colors.red.80.value}"},info:{value:"{colors.blue.80.value}"},success:{value:"{colors.green.80.value}"},warning:{value:"{colors.orange.80.value}"}},shadow:{primary:{value:"hsla(210, 50%, 10%, 0.25)"},secondary:{value:"hsla(210, 50%, 10%, 0.15)"},tertiary:{value:"hsla(210, 50%, 10%, 0.05)"}},overlay:{5:{value:"hsla(0, 0%, 0%, 0.05)"},10:{value:"hsla(0, 0%, 0%, 0.1)"},20:{value:"hsla(0, 0%, 0%, 0.2)"},30:{value:"hsla(0, 0%, 0%, 0.3)"},40:{value:"hsla(0, 0%, 0%, 0.4)"},50:{value:"hsla(0, 0%, 0%, 0.5)"},60:{value:"hsla(0, 0%, 0%, 0.6)"},70:{value:"hsla(0, 0%, 0%, 0.7)"},80:{value:"hsla(0, 0%, 0%, 0.8)"},90:{value:"hsla(0, 0%, 0%, 0.9)"}},black:{value:"hsl(0, 0%, 0%)"},white:{value:"hsl(0, 0%, 100%)"},transparent:{value:"transparent"}},Uz={xxxs:{value:"0.375rem"},xxs:{value:"0.5rem"},xs:{value:"0.75rem"},small:{value:"0.875rem"},medium:{value:"1rem"},large:{value:"1.25rem"},xl:{value:"1.5rem"},xxl:{value:"2rem"},xxxl:{value:"2.5rem"},xxxxl:{value:"3rem"}},jz={hairline:{value:100},thin:{value:200},light:{value:300},normal:{value:400},medium:{value:500},semibold:{value:600},bold:{value:700},extrabold:{value:800},black:{value:900}},Hz={0:{value:"0"},10:{value:"0.1"},20:{value:"0.2"},30:{value:"0.3"},40:{value:"0.4"},50:{value:"0.5"},60:{value:"0.6"},70:{value:"0.7"},80:{value:"0.8"},90:{value:"0.9"},100:{value:"1"}},Vz={xs:{value:"0.125rem"},small:{value:"0.25rem"},medium:{value:"0.5rem"},large:{value:"1rem"},xl:{value:"2rem"},xxl:{value:"4rem"},xxxl:{value:"8rem"}},qz={zero:{value:"0"},xxxs:{value:"0.25rem"},xxs:{value:"0.375rem"},xs:{value:"0.5rem"},small:{value:"0.75rem"},medium:{value:"1rem"},large:{value:"1.5rem"},xl:{value:"2.0rem"},xxl:{value:"3.0rem"},xxxl:{value:"4.5rem"},relative:{xxxs:{value:"0.25em"},xxs:{value:"0.375em"},xs:{value:"0.5em"},small:{value:"0.75em"},medium:{value:"1em"},large:{value:"1.5em"},xl:{value:"2.0em"},xxl:{value:"3.0em"},xxxl:{value:"4.5em"},full:{value:"100%"}}},Gz={short:{value:"100ms"},medium:{value:"250ms"},long:{value:"500ms"}},Kz={tokens:{components:{accordion:{backgroundColor:{value:"{colors.background.primary.value}"},item:{borderColor:{value:"{colors.border.secondary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small.value}"},trigger:{alignItems:{value:"center"},backgroundColor:{value:"{colors.background.primary.value}"},color:{value:"inherit"},gap:{value:"{space.small.value}"},justifyContent:{value:"space-between"},paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"},_hover:{color:{value:"inherit"},backgroundColor:{value:"{colors.overlay.5.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0",offsetY:"0",blurRadius:"0",spreadRadius:"2px",color:"{colors.border.focus.value}"}}}},content:{color:{value:"inherit"},paddingInline:{value:"{space.small.value}"},paddingBlockEnd:{value:"{space.small.value}"},paddingBlockStart:{value:"{space.xxxs.value}"}},icon:{color:{value:"{colors.font.tertiary.value}"},transitionDuration:{value:"{time.medium.value}"},transitionTimingFunction:{value:"cubic-bezier(0.87, 0, 0.13, 1)"}}}},aiConversation:{message:{backgroundColor:{value:"{colors.background.secondary.value}"},borderRadius:{value:"{radii.large.value}"},gap:{value:"{space.small.value}"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.small.value}"},user:{backgroundColor:{value:"{colors.background.secondary.value}"}},assistant:{backgroundColor:{value:"{colors.primary.10.value}"}},sender:{gap:{value:"{space.small.value}"},username:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"inherit"},fontWeight:{value:"{fontWeights.bold.value}"}},timestamp:{color:{value:"{colors.font.tertiary.value}"},fontSize:{value:"inherit"},fontWeight:{value:"inherit"}}},body:{gap:{value:"{space.xs.value}"}},actions:{gap:{value:"{space.xs.value}"}}},form:{gap:{value:"{space.small.value}"},padding:{value:"{space.small.value}"}},attachment:{borderColor:{value:"{colors.border.secondary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.small.value}"},fontSize:{value:"{fontSizes.small.value}"},paddingBlock:{value:"{space.xxxs.value}"},paddingInline:{value:"{space.xs.value}"},gap:{value:"{space.xs.value}"},list:{padding:{value:"{space.xs.value}"},paddingBlockStart:{value:"0"},gap:{value:"{space.xxs.value}"}},name:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"{fontSizes.small.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},size:{color:{value:"{colors.font.tertiary.value}"},fontSize:{value:"{fontSizes.small.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},remove:{padding:{value:"{space.xxs.value}"}},image:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"}}}},alert:{alignItems:{value:"center"},justifyContent:{value:"space-between"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}}},authenticator:{maxWidth:{value:"60rem"},modal:{width:{value:"{space.relative.full}"},height:{value:"{space.relative.full}"},backgroundColor:{value:"{colors.overlay.50.value}"},top:{value:"{space.zero}"},left:{value:"{space.zero}"}},container:{widthMax:{value:"30rem"}},router:{borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.medium.value}"}},footer:{paddingBottom:{value:"{space.medium.value}"}},form:{padding:{value:"{space.xl.value}"}},state:{inactive:{backgroundColor:{value:"{colors.background.secondary.value}"}}},orContainer:{color:{value:"{colors.neutral.80.value}"},orLine:{backgroundColor:{value:"{colors.background.primary.value}"}}}},autocomplete:{menu:{width:{value:"100%"},marginBlockStart:{value:"{space.xxxs}"},backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small}"},options:{display:{value:"flex"},flexDirection:{value:"column"},maxHeight:{value:"300px"}},option:{backgroundColor:{value:"{colors.background.primary}"},color:{value:"currentcolor"},cursor:{value:"pointer"},transitionDuration:{value:"{time.short}"},transitionProperty:{value:"background-color, color"},transitionTimingFunction:{value:"ease"},_active:{backgroundColor:{value:"{colors.primary.80}"},color:{value:"{colors.white}"}}},_empty:{display:{value:"flex"}},_loading:{alignItems:{value:"center"},display:{value:"flex"},gap:{value:"{space.xxxs}"}},spaceShared:{paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"}}}},avatar:{color:{value:"{colors.font.tertiary.value}"},lineHeight:{value:1},fontWeight:{value:"{fontWeights.semibold.value}"},fontSize:{value:"{fontSizes.small.value}"},textAlign:{value:"center"},width:{value:"{fontSizes.xxl.value}"},height:{value:"{fontSizes.xxl.value}"},backgroundColor:{value:"{colors.background.tertiary}"},borderRadius:{value:"100%"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.medium.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"},borderColor:{value:"{colors.border.info.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"},borderColor:{value:"{colors.border.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"},borderColor:{value:"{colors.border.success.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"},borderColor:{value:"{colors.border.error.value}"}},small:{fontSize:{value:"{fontSizes.xs.value}"},width:{value:"{fontSizes.xl.value}"},height:{value:"{fontSizes.xl.value}"}},large:{fontSize:{value:"{fontSizes.medium.value}"},width:{value:"{fontSizes.xxxl.value}"},height:{value:"{fontSizes.xxxl.value}"}}},badge:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:1},fontWeight:{value:"{fontWeights.semibold.value}"},fontSize:{value:"{fontSizes.small.value}"},textAlign:{value:"center"},paddingVertical:{value:"{space.xs.value}"},paddingHorizontal:{value:"{space.small.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderRadius:{value:"{radii.xl.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},small:{fontSize:{value:"{fontSizes.xs.value}"},paddingVertical:{value:"{space.xxs.value}"},paddingHorizontal:{value:"{space.xs.value}"}},large:{fontSize:{value:"{fontSizes.medium.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"}}},breadcrumbs:{flexDirection:{value:"row"},flexWrap:{value:"wrap"},gap:{value:"0"},color:{value:"{colors.font.tertiary}"},item:{flexDirection:{value:"row"},color:{value:"inherit"},fontSize:{value:"inherit"},alignItems:{value:"center"},lineHeight:{value:"1"}},separator:{color:{value:"inherit"},fontSize:{value:"inherit"},paddingInline:{value:"{space.xxs}"}},link:{color:{value:"{components.link.color}"},fontSize:{value:"inherit"},fontWeight:{value:"normal"},textDecoration:{value:"none"},paddingInline:{value:"{space.xs}"},paddingBlock:{value:"{space.xxs}"},current:{color:{value:"inherit"},fontSize:{value:"inherit"},fontWeight:{value:"normal"},textDecoration:{value:"none"}}}},button:{fontWeight:{value:"{fontWeights.bold.value}"},transitionDuration:{value:"{components.fieldcontrol.transitionDuration.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},lineHeight:{value:"{components.fieldcontrol.lineHeight.value}"},paddingBlockStart:{value:"{components.fieldcontrol.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.paddingInlineEnd.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},borderWidth:{value:"{components.fieldcontrol.borderWidth.value}"},borderStyle:{value:"{components.fieldcontrol.borderStyle.value}"},borderRadius:{value:"{components.fieldcontrol.borderRadius.value}"},color:{value:"{colors.font.primary.value}"},_hover:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.primary.10.value}"},borderColor:{value:"{colors.primary.60.value}"}},_focus:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.primary.10.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{color:{value:"{colors.font.active.value}"},backgroundColor:{value:"{colors.primary.20.value}"},borderColor:{value:"{colors.primary.100.value}"}},_loading:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},outlined:{info:{borderColor:{value:"{colors.blue.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.blue.100}"},_hover:{borderColor:{value:"{colors.blue.60.value}"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"}},_focus:{borderColor:{value:"{colors.blue.100.value}"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.blue.100.value}"},backgroundColor:{value:"{colors.blue.20.value}"},color:{value:"{colors.blue.100.value}"}}},warning:{borderColor:{value:"{colors.orange.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.orange.100}"},_hover:{borderColor:{value:"{colors.orange.60.value}"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"}},_focus:{borderColor:{value:"{colors.orange.100.value}"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"},boxShadow:{value:"{components.fieldcontrol.warning._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.orange.100.value}"},backgroundColor:{value:"{colors.orange.20.value}"},color:{value:"{colors.orange.100.value}"}}},success:{borderColor:{value:"{colors.green.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.green.100}"},_hover:{borderColor:{value:"{colors.green.60.value}"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"}},_focus:{borderColor:{value:"{colors.green.100.value}"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.green.100.value}"},backgroundColor:{value:"{colors.green.20.value}"},color:{value:"{colors.green.100.value}"}}},error:{borderColor:{value:"{colors.red.80.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.red.100}"},_hover:{borderColor:{value:"{colors.red.80.value}"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"}},_focus:{borderColor:{value:"{colors.red.100.value}"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.red.100.value}"},backgroundColor:{value:"{colors.red.20.value}"},color:{value:"{colors.red.100.value}"}}},overlay:{borderColor:{value:"{colors.overlay.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.primary.value}"},_hover:{borderColor:{value:"{colors.overlay.60.value}"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.neutral.90.value}"}},_focus:{borderColor:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.neutral.90.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.neutral.100.value}"}}}},primary:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.primary.80.value}"},color:{value:"{colors.font.inverse.value}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.100.value}"},color:{value:"{colors.font.inverse.value}"}},info:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.100.value}"},color:{value:"{colors.font.inverse.value}"}}},warning:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.100.value}"},color:{value:"{colors.font.inverse.value}"}}},error:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100.value}"},color:{value:"{colors.font.inverse.value}"}}},success:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.100.value}"},color:{value:"{colors.font.inverse.value}"}}},overlay:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.70}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"}}}},menu:{borderWidth:{value:"{space.zero.value}"},backgroundColor:{value:"transparent"},justifyContent:{value:"start"},_hover:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.80.value}"}},_focus:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.80.value}"}},_active:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.90.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"}}},link:{backgroundColor:{value:"transparent"},borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.interactive.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.10.value}"},color:{value:"{colors.font.hover.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.10.value}"},color:{value:"{colors.font.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.20.value}"},color:{value:"{colors.font.active.value}"}},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},info:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.blue.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.20.value}"},color:{value:"{colors.blue.100.value}"}}},warning:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.orange.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"},boxShadow:{value:"{components.fieldcontrol.warning._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.20.value}"},color:{value:"{colors.orange.100.value}"}}},success:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.green.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.20.value}"},color:{value:"{colors.green.100.value}"}}},error:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.red.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.20.value}"},color:{value:"{colors.red.100.value}"}}},overlay:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.neutral.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.overlay.80.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.overlay.90.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.overlay.90.value}"}}}},warning:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.red.60}"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.red.60}"},_hover:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.font.error}"}},_focus:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.red.80}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"{colors.red.100}"},backgroundColor:{value:"{colors.red.20}"},color:{value:"{colors.red.100}"}},_disabled:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}}},destructive:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.red.60}"},color:{value:"{colors.font.inverse}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100}"},color:{value:"{colors.font.inverse}"}}},small:{fontSize:{value:"{components.fieldcontrol.small.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.small.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.small.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.small.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.small.paddingInlineEnd.value}"}},large:{fontSize:{value:"{components.fieldcontrol.large.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.large.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.large.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.large.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.large.paddingInlineEnd.value}"}},loaderWrapper:{alignItems:{value:"center"},gap:{value:"{space.xs.value}"}}},card:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"none"},padding:{value:"{space.medium.value}"},outlined:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{components.card.boxShadow.value}"}},elevated:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"{shadows.medium.value}"}}},checkbox:{cursor:{value:"pointer"},alignItems:{value:"center"},_disabled:{cursor:{value:"not-allowed"}},button:{position:{value:"relative"},alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},before:{width:{value:"100%"},height:{value:"100%"},borderWidth:{value:"{borderWidths.medium.value}"},borderRadius:{value:"20%"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"}},_focus:{outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{borderColor:{value:"{colors.border.error.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}}},icon:{backgroundColor:{value:"{colors.primary.80.value}"},borderRadius:{value:"20%"},opacity:{value:"{opacities.0.value}"},transform:{value:"scale(0)"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.short.value}"},transitionTimingFunction:{value:"ease-in-out"},_checked:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},_indeterminate:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}}},label:{color:{value:"{components.text.color.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}}},checkboxfield:{alignItems:{value:"flex-start"},alignContent:{value:"center"},flexDirection:{value:"column"},justifyContent:{value:"center"}},collection:{pagination:{current:{color:{value:"{components.pagination.current.color}"},backgroundColor:{value:"{components.pagination.current.backgroundColor}"}},button:{color:{value:"{components.pagination.button.color}"},_hover:{backgroundColor:{value:"{components.pagination.button.hover.backgroundColor}"},color:{value:"{components.pagination.button.hover.color}"}},_disabled:{color:{value:"{components.pagination.button.disabled.color}"}}}},search:{input:{color:{value:"{components.searchfield.color}"}},button:{color:{value:"{components.searchfield.button.color}"},_active:{backgroundColor:{value:"{components.searchfield.button._active.backgroundColor}"},borderColor:{value:"{components.searchfield.button._active.borderColor}"},color:{value:"{components.searchfield.button._active.color}"}},_disabled:{backgroundColor:{value:"{components.searchfield.button._disabled.backgroundColor}"},borderColor:{value:"{components.searchfield.button._disabled.borderColor}"},color:{value:"{components.searchfield.button._disabled.color}"}},_focus:{backgroundColor:{value:"{components.searchfield.button._focus.backgroundColor}"},borderColor:{value:"{components.searchfield.button._focus.borderColor}"},color:{value:"{components.searchfield.button._focus.color}"}},_hover:{backgroundColor:{value:"{components.searchfield.button._hover.backgroundColor}"},borderColor:{value:"{components.searchfield.button._hover.borderColor}"},color:{value:"{components.searchfield.button._hover.color}"}}}}},copy:{fontSize:{value:"{fontSizes.xs}"},gap:{value:"{space.relative.medium}"},svg:{path:{fill:{value:"{colors.font.primary}"}}},toolTip:{bottom:{value:"{space.large}"},color:{value:"{colors.teal.100}"},fontSize:{value:"{fontSizes.xxs}"}}},countrycodeselect:{height:{value:"{space.relative.full.value}"}},divider:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.medium.value}"},label:{color:{value:"{colors.font.tertiary.value}"},paddingInline:{value:"{space.medium.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.background.primary.value}"}},small:{borderWidth:{value:"{borderWidths.small.value}"}},large:{borderWidth:{value:"{borderWidths.large.value}"}},opacity:{value:"{opacities.60.value}"}},dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.font.primary}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.primary}"}},_disabled:{backgroundColor:{value:"{colors.background.disabled}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.disabled}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.disabled}"}},accepted:{backgroundColor:{value:"{colors.background.success}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.success}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.success}"}},rejected:{backgroundColor:{value:"{colors.background.error}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.error}"}}},field:{gap:{value:"{space.xs.value}"},fontSize:{value:"{fontSizes.medium.value}"},flexDirection:{value:"column"},small:{gap:{value:"{space.xxxs.value}"},fontSize:{value:"{fontSizes.small.value}"}},large:{gap:{value:"{space.small.value}"},fontSize:{value:"{fontSizes.large.value}"}},label:{color:{value:"{colors.font.secondary.value}"}}},fieldcontrol:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.small.value}"},color:{value:"{colors.font.primary.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"},fontSize:{value:"{components.field.fontSize.value}"},lineHeight:{value:"{lineHeights.medium.value}"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},small:{fontSize:{value:"{components.field.small.fontSize.value}"},paddingBlockStart:{value:"{space.xxs.value}"},paddingBlockEnd:{value:"{space.xxs.value}"},paddingInlineStart:{value:"{space.small.value}"},paddingInlineEnd:{value:"{space.small.value}"}},large:{fontSize:{value:"{components.field.large.fontSize.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}},quiet:{borderStyle:{value:"none"},borderInlineStart:{value:"none"},borderInlineEnd:{value:"none"},borderBlockStart:{value:"none"},borderRadius:{value:"0"},_focus:{borderBlockEndColor:{value:"transparent"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderBlockEndColor:{value:"{colors.border.error.value}"},_focus:{borderBlockEndColor:{value:"transparent"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.focus.value}"}}},_disabled:{color:{value:"{colors.font.disabled.value}"},cursor:{value:"not-allowed"},borderColor:{value:"{colors.transparent.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},color:{value:"{colors.font.error.value}"},_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.error.value}"}}}},info:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.blue.100.value}"}}}},warning:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.orange.100.value}"}}}},success:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.green.100.value}"}}}},overlay:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.overlay.90.value}"}}}}},fieldgroup:{gap:{value:"{space.zero.value}"},vertical:{alignItems:{value:"center"}},outer:{alignItems:{value:"center"}}},fieldmessages:{error:{color:{value:"{colors.font.error.value}"},fontSize:{value:"{fontSizes.small.value}"}},description:{color:{value:"{colors.font.secondary.value}"},fontStyle:{value:"italic"},fontSize:{value:"{fontSizes.small.value}"}}},fieldset:{backgroundColor:{value:"transparent"},borderRadius:{value:"{radii.xs.value}"},flexDirection:{value:"column"},gap:{value:"{components.field.gap.value}"},legend:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"{components.field.fontSize.value}"},fontWeight:{value:"{fontWeights.bold.value}"},lineHeight:{value:"{lineHeights.medium.value}"},small:{fontSize:"{components.field.small.fontSize.value}"},large:{fontSize:"{components.field.large.fontSize.value}"}},outlined:{padding:"{space.medium.value}",borderColor:"{colors.neutral.40.value}",borderWidth:"{borderWidths.small.value}",borderStyle:"solid",small:{padding:"{space.small.value}"},large:{padding:"{space.large.value}"}},small:{gap:"{components.field.small.gap.value}"},large:{gap:"{components.field.large.gap.value}"}},fileuploader:{dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.fileuploader.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.fileuploader.dropzone.borderStyle}"},borderWidth:{value:"{borderWidths.medium}"}},icon:{color:{value:"{colors.border.primary}"},fontSize:{value:"{fontSizes.xxl}"}},text:{color:{value:"{colors.font.tertiary}"},fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"}}},file:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"},gap:{value:"{space.small}"},alignItems:{value:"baseline"},name:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},size:{fontSize:{value:"{fontSizes.small}"},fontWeight:{value:"{fontWeights.normal}"},color:{value:"{colors.font.tertiary}"}},image:{width:{value:"{space.xxl}"},height:{value:"{space.xxl}"},backgroundColor:{value:"{colors.background.secondary}"},color:{value:"{colors.font.tertiary}"},borderRadius:{value:"{radii.small}"}}},filelist:{flexDirection:{value:"column"},gap:{value:"{space.small}"}},loader:{strokeLinecap:{value:"round"},strokeEmpty:{value:"{colors.border.secondary}"},strokeFilled:{value:"{components.loader.strokeFilled}"},strokeWidth:{value:"{borderWidths.large}"}},previewer:{backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},borderRadius:{value:"{radii.small}"},paddingBlock:{value:"{space.zero}"},paddingInline:{value:"{space.zero}"},maxHeight:{value:"40rem"},maxWidth:{value:"auto"},text:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},body:{paddingBlock:{value:"{space.medium}"},paddingInline:{value:"{space.medium}"},gap:{value:"{space.small}"}},footer:{justifyContent:{value:"flex-end"}}}},flex:{gap:{value:"{space.medium.value}"},justifyContent:{value:"normal"},alignItems:{value:"stretch"},alignContent:{value:"normal"},flexWrap:{value:"nowrap"}},heading:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:"{lineHeights.small.value}"},1:{fontSize:{value:"{fontSizes.xxxxl.value}"},fontWeight:{value:"{fontWeights.light.value}"}},2:{fontSize:{value:"{fontSizes.xxxl.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},3:{fontSize:{value:"{fontSizes.xxl.value}"},fontWeight:{value:"{fontWeights.medium.value}"}},4:{fontSize:{value:"{fontSizes.xl.value}"},fontWeight:{value:"{fontWeights.semibold.value}"}},5:{fontSize:{value:"{fontSizes.large.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},6:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},icon:{lineHeight:{value:1},height:{value:"1em"}},highlightmatch:{highlighted:{fontWeight:{value:"{fontWeights.bold}"}}},image:{maxWidth:{value:"100%"},height:{value:"auto"},objectFit:{value:"initial"},objectPosition:{value:"initial"}},inappmessaging:{banner:{height:{value:"150px "},width:{value:"400px "}},button:{backgroundColor:{value:"#e8e8e8"},borderRadius:{value:"5px"},color:{value:"black"}},dialog:{height:{value:"50vh"},minHeight:{value:"400px"},minWidth:{value:"400px"},width:{value:"30vw"}},header:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},input:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},link:{active:{color:{value:"{colors.font.active.value}"}},color:{value:"{colors.font.interactive.value}"},focus:{color:{value:"{colors.font.focus.value}"}},hover:{color:{value:"{colors.font.hover.value}"}},visited:{color:{value:"{colors.font.interactive.value}"}}},liveness:{cameraModule:{backgroundColor:{value:"{colors.background.primary.value}"}}},loader:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},fontSize:{value:"{fontSizes.xs.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeFilled:{value:"{colors.primary.80.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"},fontSize:{value:"{fontSizes.xxs.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"},fontSize:{value:"{fontSizes.small.value}"}},linear:{width:{value:"100%"},minWidth:{value:"5rem"},fontSize:{value:"{fontSizes.xxs.value}"},strokeWidth:{value:"{fontSizes.xxs.value}"},strokeFilled:{value:"{colors.primary.80.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{strokeWidth:{value:"{fontSizes.xxxs.value}"},fontSize:{value:"{fontSizes.xxxs.value}"}},large:{strokeWidth:{value:"{fontSizes.xs.value}"},fontSize:{value:"{fontSizes.xs.value}"}}},text:{fill:{value:"{colors.font.primary.value}"}}},menu:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.medium.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{shadows.large.value}"},flexDirection:{value:"column"},gap:{value:"{space.zero.value}"},maxWidth:{value:"30rem"},minWidth:{value:"14rem"},small:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"}},large:{width:{value:"{fontSizes.xxxl.value}"},height:{value:"{fontSizes.xxxl.value}"}},item:{minHeight:{value:"2.5rem"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}}},message:{alignItems:{value:"center"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderColor:{value:"transparent"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.xs.value}"},color:{value:"{colors.font.primary.value}"},justifyContent:{value:"flex-start"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},lineHeight:{value:"{lineHeights.small.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},dismiss:{gap:{value:"{space.xxs.value}"}},plain:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}}},outlined:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.primary.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.error.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.success.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.warning.value}"}}},filled:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.secondary.value}"},borderColor:{value:"transparent"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"},borderColor:{value:"transparent"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"},borderColor:{value:"transparent"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"},borderColor:{value:"transparent"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"},borderColor:{value:"transparent"}}}},pagination:{current:{alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.overlay.40.value}"}},button:{color:{value:"{colors.font.primary.value}"},paddingInlineStart:{value:"{space.xxs.value}"},paddingInlineEnd:{value:"{space.xxs.value}"},transitionProperty:{value:"background-color"},transitionDuration:{value:"{time.medium.value}"},hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},disabled:{color:{value:"{colors.font.disabled.value}"}}},ellipsis:{alignItems:{value:"baseline"},justifyContent:{value:"center"},paddingInlineStart:{value:"{space.xs.value}"},paddingInlineEnd:{value:"{space.xs.value}"}},itemContainer:{marginLeft:{value:"{space.xxxs.value}"},marginRight:{value:"{space.xxxs.value}"}},itemShared:{height:{value:"{fontSizes.xxl.value}"},minWidth:{value:"{fontSizes.xxl.value}"},borderRadius:{value:"{fontSizes.medium.value}"}}},passwordfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_error:{color:{value:"{components.button.outlined.error.color.value}"},backgroundColor:{value:"{components.button.outlined.error.backgroundColor.value}"},borderColor:{value:"{components.button.outlined.error.borderColor.value}"},_active:{borderColor:{value:"{components.button.outlined.error._active.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._active.backgroundColor.value}"},color:{value:"{components.button.outlined.error._active.color.value}"}},_focus:{borderColor:{value:"{components.button.outlined.error._focus.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._focus.backgroundColor.value}"},color:{value:"{components.button.outlined.error._focus.color.value}"},boxShadow:{value:"{components.button.outlined.error._focus.boxShadow.value}"}},_hover:{borderColor:{value:"{components.button.outlined.error._hover.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._hover.backgroundColor.value}"},color:{value:"{components.button.outlined.error._hover.color.value}"}}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},phonenumberfield:{color:{value:"{components.fieldcontrol.color}"},borderColor:{value:"{components.fieldcontrol.borderColor}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}}},placeholder:{borderRadius:{value:"{radii.small.value}"},transitionDuration:{value:"{time.long.value}"},startColor:{value:"{colors.background.secondary.value}"},endColor:{value:"{colors.background.tertiary.value}"},small:{height:{value:"{space.small.value}"}},default:{height:{value:"{space.medium.value}"}},large:{height:{value:"{space.large.value}"}}},radio:{alignItems:{value:"center"},justifyContent:{value:"flex-start"},gap:{value:"inherit"},_disabled:{cursor:{value:"not-allowed"}},button:{alignItems:{value:"center"},justifyContent:{value:"center"},width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},boxSizing:{value:"border-box"},borderWidth:{value:"{borderWidths.medium.value}"},borderStyle:{value:"solid"},borderRadius:{value:"50%"},borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.background.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},padding:{value:"{borderWidths.medium.value}"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"}},_checked:{color:{value:"{colors.primary.80.value}"},_disabled:{color:{value:"{colors.background.disabled.value}"}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.primary.value}"}}},label:{color:{value:"{components.text.color.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}}},radiogroup:{radio:{borderWidth:{value:"{components.radio.button.borderWidth}"},borderColor:{value:"{components.radio.button.borderColor}"},backgroundColor:{value:"{components.radio.button.backgroundColor}"},_checked:{color:{value:"{components.radio.button._checked.color}"}},label:{color:{value:"{components.radio.label.color}"}}},legend:{color:{value:"{components.fieldset.legend.color}"},fontWeight:{value:"{fontWeights.normal}"}}},rating:{large:{size:{value:"{fontSizes.xxxl.value}"}},default:{size:{value:"{fontSizes.xl.value}"}},small:{size:{value:"{fontSizes.small.value}"}},filled:{color:{value:"{colors.secondary.80.value}"}},empty:{color:{value:"{colors.background.tertiary.value}"}}},searchfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},backgroundColor:{value:"{colors.background.primary.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},select:{color:{value:"{components.fieldcontrol.color}"},backgroundColor:{value:"{colors.background.primary.value}"},paddingInlineEnd:{value:"{space.xxl.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},wrapper:{flex:{value:"1"},display:{value:"block"},position:{value:"relative"},cursor:{value:"pointer"}},iconWrapper:{alignItems:{value:"center"},position:{value:"absolute"},top:{value:"50%"},right:{value:"{space.medium.value}"},transform:{value:"translateY(-50%)"},pointerEvents:{value:"none"},small:{right:{value:"{space.xs.value}"}},large:{right:{value:"{space.medium.value}"}}},option:{backgroundColor:{value:"transparent"},color:{value:"{colors.font.primary.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"}}},whiteSpace:{value:"nowrap"},minWidth:{value:"6.5rem"},small:{minWidth:{value:"5.5rem"},paddingInlineEnd:{value:"{space.xl.value}"}},large:{minWidth:{value:"7.5rem"},paddingInlineEnd:{value:"{space.xxl.value}"}},expanded:{paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"},option:{paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"}}}},selectfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},color:{value:"{components.fieldcontrol.color}"},flexDirection:{value:"column"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}},label:{color:{value:"{components.field.label.color}"}}},sliderfield:{paddingBlock:{value:"{space.xs.value}"},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"9999px"},height:{value:"0.375rem"},minWidth:{value:"10rem"}},range:{backgroundColor:{value:"{colors.primary.80.value}"},borderRadius:{value:"9999px"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},thumb:{width:{value:"1.25rem"},height:{value:"1.25rem"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.small.value}"},borderRadius:{value:"50%"},borderWidth:{value:"{borderWidths.medium.value}"},borderColor:{value:"{colors.border.primary.value}"},borderStyle:{value:"solid"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"},borderColor:{value:"transparent"},boxShadow:{value:"none"}},_hover:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.focus.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}}},small:{track:{height:{value:"0.25rem"}},thumb:{width:{value:"1rem"},height:{value:"1rem"}}},large:{track:{height:{value:"0.625rem"}},thumb:{width:{value:"1.5rem"},height:{value:"1.5rem"}}}},stepperfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},flexDirection:{value:"column"},input:{color:{value:"{components.fieldcontrol.color}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},textAlign:{value:"center"}},button:{color:{value:"{components.button.color}"},backgroundColor:{value:"{colors.transparent}"},_active:{color:{value:"{components.button._active.color}"},backgroundColor:{value:"{components.button._active.backgroundColor}"}},_focus:{color:{value:"{components.button._focus.color}"},backgroundColor:{value:"{components.button._focus.backgroundColor}"}},_disabled:{color:{value:"{components.button._disabled.color}"},backgroundColor:{value:"{components.fieldcontrol._disabled.backgroundColor}"}},_hover:{color:{value:"{components.button._hover.color}"},backgroundColor:{value:"{components.button._hover.backgroundColor}"}}}},storagemanager:{dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.storagemanager.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.storagemanager.dropzone.borderStyle}"},borderWidth:{value:"{borderWidths.medium}"}},icon:{color:{value:"{colors.border.primary}"},fontSize:{value:"{fontSizes.xxl}"}},text:{color:{value:"{colors.font.tertiary}"},fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"}}},file:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"},gap:{value:"{space.small}"},alignItems:{value:"baseline"},name:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},size:{fontSize:{value:"{fontSizes.small}"},fontWeight:{value:"{fontWeights.normal}"},color:{value:"{colors.font.tertiary}"}},image:{width:{value:"{space.xxl}"},height:{value:"{space.xxl}"},backgroundColor:{value:"{colors.background.secondary}"},color:{value:"{colors.font.tertiary}"},borderRadius:{value:"{radii.small}"}}},filelist:{flexDirection:{value:"column"},gap:{value:"{space.small}"}},loader:{strokeLinecap:{value:"round"},strokeEmpty:{value:"{colors.border.secondary}"},strokeFilled:{value:"{components.loader.strokeFilled}"},strokeWidth:{value:"{borderWidths.large}"}},previewer:{backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},borderRadius:{value:"{radii.small}"},paddingBlock:{value:"{space.zero}"},paddingInline:{value:"{space.zero}"},maxHeight:{value:"40rem"},maxWidth:{value:"auto"},text:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},body:{paddingBlock:{value:"{space.medium}"},paddingInline:{value:"{space.medium}"},gap:{value:"{space.small}"}},footer:{justifyContent:{value:"flex-end"}}}},switchfield:{_disabled:{opacity:{value:"{opacities.60.value}"}},_focused:{shadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},fontSize:{value:"{fontSizes.medium.value}"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}},label:{padding:{value:"{space.xs.value}"}},thumb:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.xxxl.value}"},checked:{transform:{value:"{transforms.slideX.medium.value}"}},transition:{duration:{value:"{time.medium.value}"}},width:{value:"{space.relative.medium.value}"}},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"{radii.xxxl.value}"},checked:{backgroundColor:{value:"{colors.primary.80.value}"}},height:{value:"{space.relative.medium.value}"},padding:{value:"{outlineWidths.medium.value}"},transition:{duration:{value:"{time.short.value}"}},width:{value:"{space.relative.xl.value}"},_error:{backgroundColor:{value:"{colors.background.error.value}"}}}},table:{borderCollapse:{value:"collapse"},display:{value:"table"},width:{value:"100%"},head:{display:{value:"table-header-group"},verticalAlign:{value:"middle"}},body:{display:{value:"table-row-group"},verticalAlign:{value:"middle"}},foot:{display:{value:"table-footer-group"},verticalAlign:{value:"middle"}},row:{display:{value:"table-row"},verticalAlign:{value:"middle"},hover:{backgroundColor:{value:"{colors.background.tertiary.value}"}},striped:{backgroundColor:{value:"{colors.background.secondary.value}"}}},header:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},data:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.normal.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},caption:{captionSide:{value:"bottom"},color:{value:"{colors.font.primary.value}"},display:{value:"table-caption"},fontSize:{value:"{fontSizes.medium.value}"},textAlign:{value:"center"},wordBreak:{value:"break-all"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}}}},tabs:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},gap:{value:"0"},item:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},color:{value:"{colors.font.secondary.value}"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"},textAlign:{value:"center"},transitionDuration:{value:"{time.medium.value}"},_hover:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.hover.value}"}},_focus:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"{borderWidths.medium}",color:"{colors.border.focus.value}"}},color:{value:"{colors.font.focus.value}"}},_active:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.font.interactive.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.interactive.value}"}},_disabled:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.disabled.value}"}}},panel:{backgroundColor:{value:"transparent"},paddingInline:{value:"0"},paddingBlock:{value:"{space.small.value}"}}},text:{color:{value:"{colors.font.primary.value}"},primary:{color:{value:"{colors.font.primary.value}"}},secondary:{color:{value:"{colors.font.secondary.value}"}},tertiary:{color:{value:"{colors.font.tertiary.value}"}},error:{color:{value:"{colors.font.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"}},success:{color:{value:"{colors.font.success.value}"}},info:{color:{value:"{colors.font.info.value}"}}},textareafield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},textfield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},togglebutton:{borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.font.primary.value}"},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.font.primary.value}"}},_active:{backgroundColor:{value:"{colors.transparent.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},borderColor:{value:"{colors.border.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{borderColor:{value:"{colors.border.pressed.value}"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.overlay.20.value}"},_hover:{backgroundColor:{value:"{colors.overlay.30.value}"}}},primary:{backgroundColor:{value:"{colors.transparent.value}"},borderWidth:{value:"{borderWidths.small.value}"},_focus:{borderColor:{value:"{colors.border.focus.value}"},backgroundColor:{value:"{colors.transparent.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"},color:{value:"{colors.font.primary.value}"}},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.primary.80.value}"},borderColor:{value:"{colors.primary.80.value}"},color:{value:"{colors.background.primary.value}"},_focus:{backgroundColor:{value:"{colors.border.focus.value}"},borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.background.primary.value}"}},_hover:{borderColor:{value:"{colors.primary.60.value}"},backgroundColor:{value:"{colors.primary.60.value}"},boxShadow:{value:"{colors.primary.60.value}"},color:{value:"{colors.background.primary.value}"}}}},link:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"},_hover:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"}},_hover:{color:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.transparent.value}"}}}}},togglebuttongroup:{alignItems:{value:"center"},alignContent:{value:"center"},justifyContent:{value:"flex-start"}}},borderWidths:Wz,colors:Bz,fonts:{default:{variable:{value:"'InterVariable', 'Inter var', 'Inter', -apple-system, BlinkMacSystemFont,\n        'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans',\n        sans-serif"},static:{value:"'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue',\n        'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif"}}},fontSizes:Uz,fontWeights:jz,lineHeights:{small:{value:"1.25"},medium:{value:"1.5"},large:{value:"2"}},opacities:Hz,outlineOffsets:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},outlineWidths:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},radii:Vz,shadows:{small:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"4px",color:"{colors.shadow.tertiary.value}"}},medium:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"6px",color:"{colors.shadow.secondary.value}"}},large:{value:{offsetX:"0px",offsetY:"4px",blurRadius:"12px",color:"{colors.shadow.primary.value}"}}},space:qz,time:Gz,transforms:{slideX:{small:{value:"translateX(0.5em)"},medium:{value:"translateX(1em)"},large:{value:"translateX(2em)"}}}},breakpoints:{values:{base:0,small:480,medium:768,large:992,xl:1280,xxl:1536},defaultBreakpoint:"base"},name:"default-theme"},Yz={backgroundColor:"colors",borderColor:"colors",borderWidth:"borderWidths",color:"colors",borderRadius:"radii",fontSize:"fontSizes",fontWeight:"fontWeights",fontFamily:"fonts",lineHeight:"lineHeights",opacity:"opacities",boxShadow:"shadows",transform:"transforms",left:"space",right:"space",top:"space",bottom:"space",height:"space",width:"space",letterSpacing:"space",margin:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",marginInlineStart:"space",marginLeft:"space",marginRight:"space",marginTop:"space",marginBottom:"space",maxHeight:"space",maxWidth:"space",minHeight:"space",minWidth:"space",padding:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",paddingLeft:"space",paddingRight:"space",paddingTop:"space",paddingBottom:"space",gap:"space",columnGap:"space",rowGap:"space"},Qz=e=>"string"===typeof e&&0===e.length,Xz=e=>null==e||Qz(e),Jz=e=>Object.keys(e),Zz=(e,t,n)=>{if("string"!==typeof t)return t;if(t.includes(" "))return t.split(" ").map(t=>Zz(e,t,n)).join(" ");if(e in Yz){const r=t.split(".");let a=n[Yz[e]];for(let e=0;e<r.length&&a;e++)a=a[r[e]];return Oz(a)?`var(--${Cz({path:[Yz[e],...r]})})`:t}return t},eW=e=>{let{breakpoint:t,breakpoints:n,values:r}=e,a={};const o=Jz(n).sort((e,t)=>n[e]-n[t]);var s;return Array.isArray(r)?r.forEach((e,t)=>{a[o[t]]=e}):"object"===typeof r&&(a=Jz(s=r).reduce((e,t)=>t in Kz.breakpoints.values?{...e,[t]:s[t]}:e,{})),(e=>{let{breakpoint:t,breakpoints:n,values:r}=e;const a=r[t];if(void 0!==a)return a;const o=Jz(n).sort((e,t)=>n[t]-n[e]),s=o.slice(o.indexOf(t));for(const i of s){const e=r[i];if(void 0!==e)return e}return null})({breakpoint:t,breakpoints:n,values:a})},tW="undefined"===typeof window?x.useEffect:x.useLayoutEffect,nW=e=>{let{breakpoints:t,defaultBreakpoint:n}=e;const r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia?window.matchMedia:null,a=x.useMemo(()=>(e=>{let{breakpoints:t}=e;const n=Jz(t).sort((e,n)=>t[n]-t[e]);return n.map((e,r)=>{let a="";const o=t[e],s=n[r-1],i=s?t[s]-1:null;return o>=0&&(a=`(min-width: ${o}px)`),null!==i&&(a&&(a+=" and "),a+=`(max-width: ${i}px)`),{breakpoint:e,query:a,maxWidth:i,minWidth:o}})})({breakpoints:t}),[t]),[o,s]=x.useState(n),i=x.useCallback((e,t)=>{e&&s(t)},[s]);return tW(()=>{if(!r)return;const e=a.map(e=>{let{query:t,breakpoint:n}=e;const a=r(t);i(a.matches,n);const o=e=>{e.matches&&s(n)};return a.addEventListener("change",o),()=>a.removeEventListener("change",o)});return()=>{e.forEach(e=>e())}},[t,s,r,a]),x.useDebugValue(o,e=>e),o};function rW(e,t){return t?`${e} { ${Object.entries(t).map(e=>{let[t,n]=e;return`--${t}:${n}; `}).join(" ")}}\n`:""}function aW(e,t){let n="";const{_modifiers:r={},_element:a={},_vars:o,...s}=t;if(Object.keys(s).length){const[t,r]=function(e,t){const n={},r={};return Object.entries(e).forEach(e=>{let[a,o]=e;t(a)?n[a]=o:r[a]=o}),[n,r]}(s,e=>e.startsWith(":")||e.startsWith("["));Object.entries(t).forEach(t=>{let[r,a]=t;const{_modifiers:o={},_element:s={},_vars:i,...l}=a;n+=`${e}${r} { ${Nz(l)} }\n`,n+=rW(`${e}${r}`,i)}),n+=`${e} { ${Nz(r)} }\n`}return n+=rW(e,o),Object.entries(r).forEach(t=>{let[r,a]=t;a&&Object.keys(a).length&&(n+=aW(`${e}--${r}`,a))}),Object.entries(a).forEach(t=>{let[r,a]=t;a&&Object.keys(a).length&&(n+=aW(`${e}__${r}`,a))}),n}function oW(e){let{keys:t,value:n}=e;return t.reduce((e,t)=>({...e,[t]:{value:`{colors.${n}.${t}.value}`}}),{})}function sW(e){const t=Lz([{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kz,{...e,components:{}}]),{primaryColor:n,secondaryColor:r}=t;QC(n)&&(t.tokens.colors.primary=oW({keys:Object.keys(t.tokens.colors[n]),value:n})),QC(r)&&(t.tokens.colors.secondary=oW({keys:Object.keys(t.tokens.colors[r]),value:r}));const a=Pz({tokens:t.tokens,setupToken:Dz}),{breakpoints:o,name:s}=t;let i=`[data-amplify-theme="${s}"] {\n`+$z(a).map(e=>`${e.name}: ${e.value};`).join("\n")+"\n}\n";e?.components&&(i+=function(e){let{theme:t,components:n}=e,r="";const{tokens:a,name:o,breakpoints:s}=t;return n.forEach(e=>{let{name:t,theme:n,overrides:i}=e;const l=`amplify-${t}`,u=`[data-amplify-theme="${o}"] .${l}`,c=ZC(n)?n(a):n;r+=aW(u,c),i&&i.forEach(e=>{const t=ZC(e.theme)?e.theme(a):e.theme;if("mediaQuery"in e&&(r+=`@media (${e.mediaQuery}) {\n ${aW(u,t)} \n}`),"breakpoint"in e){const n=s.values[e.breakpoint];r+=`\n@media (min-width: ${n}px) {\n ${aW(u,t)} \n}`}"selector"in e&&(r+=aW(`${e.selector} .${l}`,t)),"colorMode"in e&&(r+=`\n@media (prefers-color-scheme: ${e.colorMode}) {\n${aW(`[data-amplify-theme="${o}"][data-amplify-color-mode="system"] .${l}`,t)}\n}\n`,r+=aW(`[data-amplify-theme="${o}"][data-amplify-color-mode="${e.colorMode}"] .${l}`,t))})}),r}({theme:{...t,tokens:a},components:e.components}));let l=[];return t.animations&&(i+=function(e){let{animations:t,tokens:n}=e,r="";return Object.entries(t).forEach(e=>{let[t,a]=e;r+=`\n  @keyframes ${t} {`,Object.entries(a).forEach(e=>{let[t,a]=e;r+=`\n    ${t} {\n`;const o=ZC(a)?a(n):a;r+=Nz(o),r+="\n    }"}),r+="\n  }"}),r}({animations:t.animations,tokens:a})),t.overrides&&(l=t.overrides.map(e=>{const n=Pz({tokens:e.tokens,setupToken:Dz}),r=$z(n).map(e=>`${e.name}: ${e.value};`).join("\n");if("selector"in e&&(i+=`\n${e.selector} {\n${r}\n}\n`),"mediaQuery"in e&&(i+=`\n@media (${e.mediaQuery}) {\n  [data-amplify-theme="${s}"] {\n    ${r}\n  }\n}\n`),"breakpoint"in e){const n=t.breakpoints.values[e.breakpoint];i+=`\n@media (min-width: ${n}px) {\n  [data-amplify-theme="${s}"] {\n    ${r}\n  }\n}\n`}return"colorMode"in e&&(i+=`\n@media (prefers-color-scheme: ${e.colorMode}) {\n          [data-amplify-theme="${s}"][data-amplify-color-mode="system"] {\n            ${r}\n            color-scheme: ${e.colorMode};\n          }\n        }\n`,i+=`\n[data-amplify-theme="${s}"][data-amplify-color-mode="${e.colorMode}"] {\n          ${r}\n          color-scheme: ${e.colorMode};\n        }\n`),{...e,tokens:n}})),{tokens:a,breakpoints:o,name:s,cssText:i,containerProps:function(){let{colorMode:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"data-amplify-theme":s,"data-amplify-color-mode":e}},overrides:l}}const iW=x.createContext({theme:sW(),colorMode:void 0}),lW=()=>(e=>"undefined"===typeof e||"undefined"===typeof e.theme?sW():e.theme)(x.useContext(iW)),uW=e=>"auto"===e?"auto":`span ${e}`,cW=e=>(e=>"auto"===e||"number"===typeof e&&!isNaN(e)||"string"===typeof e&&!isNaN(parseFloat(e)))(e)?uW(e):Array.isArray(e)?e.map(e=>uW(e)):"object"===typeof e&&null!=e?Object.entries(e).reduce((e,t)=>{let[n,r]=t;return{...e,[n]:uW(r)}},{}):null,dW=e=>{let{props:t={},style:n={},breakpoint:r,breakpoints:a,tokens:o}=e;const s={};return Object.keys(t).filter(e=>null!==t[e]).forEach(e=>{if(e in zz){const s=t[e];if(null===s||void 0===s||Qz(s))return;const i=zz[e];let l="";Oz(s)?l=s.toString():"string"===typeof s?l=Zz(e,s,o):"number"===typeof s?l=s:"object"===typeof s&&(l=(e=>{let{value:t,propKey:n,tokens:r}=e;return Oz(t)?t.toString():QC(t)?QC(n)?Zz(n,t,r):t:null})({propKey:e,tokens:o,value:eW({values:s,breakpoint:r,breakpoints:a})})),n={...n,[i]:l}}else"undefined"!==typeof t[e]&&(s[e]=t[e])}),{propStyles:n,nonStyleProps:s}},pW=(e,t)=>{const{breakpoints:{values:n,defaultBreakpoint:r},tokens:a}=lW(),o=nW({breakpoints:n,defaultBreakpoint:r}),s=(e=>{const{rowSpan:t,columnSpan:n,row:r,column:a,...o}=e,{rowFromSpanValue:s,columnFromSpanValue:i}=x.useMemo(()=>({rowFromSpanValue:cW(t),columnFromSpanValue:cW(n)}),[t,n]);return{row:Xz(r)?s:r,column:Xz(a)?i:a,...o}})(e);return x.useMemo(()=>dW({props:s,style:t,breakpoint:o,breakpoints:n,tokens:a}),[s,t,n,o,a])},hW=e=>x.forwardRef(e),fW=hW((e,t)=>{let{as:n="div",children:r,testId:a,ariaLabel:o,isDisabled:s,style:i,inert:l,...u}=e;const{propStyles:c,nonStyleProps:d}=pW(u,i);return x.createElement(n,{"aria-label":o,"data-testid":a,disabled:s,ref:t,inert:l?"":null,style:c,...d},r)});fW.displayName="View";const mW=function(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)if(a)if(QC(a))e.push(a);else if("number"!==typeof a){if(Array.isArray(a))e.push(mW(...a));else if(YC(a)){if(a.toString!==Object.prototype.toString&&"[object Object]"!==a.toString()){e.push(a.toString());continue}for(const t in a)JC(a,t)&&a[t]&&e.push(t)}}else e.push(a.toString());return e.join(" ")},gW="amplify-alert",yW="amplify-alert__icon",vW="amplify-alert__heading",bW="amplify-alert__body",wW="amplify-button",kW="amplify-button__loader-wrapper",SW="amplify-field",xW="amplify-field__description",IW="amplify-field__error-message",_W="amplify-field-group__control",EW="amplify-flex",TW="amplify-icon",NW="amplify-label",CW="amplify-loader",AW="amplify-loader__label",MW="amplify-select",OW="amplify-selectfield",RW="amplify-select__wrapper",FW="amplify-select__icon",DW="amplify-text",PW="amplify-visually-hidden",$W=hW((e,t)=>{let{className:n,children:r,...a}=e;return x.createElement(fW,{className:mW(EW,n),ref:t,...a},r)});$W.displayName="Flex";const LW=x.createContext(null);function zW(e){let{children:t,...n}=e;return x.createElement(LW.Provider,{value:n},t)}function WW(){const e=x.useContext(LW);if(null===e)throw new Error("useFaceLivenessDetector must be used within a FaceLivenessDetectorProvider");return e}const BW=hW((e,t)=>{let{as:n="p",className:r,children:a,isTruncated:o,variation:s,...i}=e;const l=mW(DW,eA(DW,s),tA(DW,"truncated",o),r);return x.createElement(fW,{as:n,className:l,ref:t,...i},a)});BW.displayName="Text";const UW=x.createContext({isFieldsetDisabled:!1}),jW=()=>x.useContext(UW),HW=84*Math.PI,VW=hW((e,t)=>{let{className:n,filledColor:r,emptyColor:a,size:o,variation:s,isDeterminate:i=!1,isPercentageTextHidden:l=!1,percentage:u=0,...c}=e;u=Math.min(u,100),u=Math.max(u,0);const d=`${u}%`,p=mW(CW,eA(CW,o),eA(CW,s),tA(CW,"determinate",i),n),h=x.createElement("g",null,x.createElement("line",{x1:"0",x2:"100%",y1:"50%",y2:"50%",style:{stroke:String(a)},"data-testid":"linear-empty"}),x.createElement("line",{x1:"0",x2:i?d:"100%",y1:"50%",y2:"50%",style:{stroke:i&&0===u?"none":r?String(r):void 0},"data-testid":"linear-filled"}),i?x.createElement("text",{"aria-live":"polite",className:mW(AW,l?PW:null),x:`${-1+u}%`,y:"200%"},d):null),f=x.createElement("g",null,x.createElement("circle",{cx:"50%",cy:"50%",r:"42%",strokeWidth:"8%",style:{stroke:String(a)},"data-testid":"circular-empty"}),x.createElement("circle",{cx:"50%",cy:"50%",r:"42%",strokeWidth:"8%",style:{stroke:String(r),strokeDasharray:i?`${HW}% ${HW}%`:void 0,strokeDashoffset:i?HW-HW*u/100+"%":void 0},"data-testid":"circular-filled"}),i?x.createElement("text",{"aria-live":"polite",className:mW(AW,l?PW:null),x:"130%",y:"80%"},d):null);return x.createElement(fW,{as:"svg","aria-valuenow":i?u:void 0,className:p,ref:t,role:"progressbar",...c},"linear"===s?h:f)});VW.displayName="Loader";const qW=["link","primary",void 0],GW=hW((e,t)=>{let{className:n,children:r,colorTheme:a,isFullWidth:o=!1,isDisabled:s,isLoading:i,loadingText:l="",size:u,type:c="button",variation:d,...p}=e;const h=qW.includes(d)&&a?`${d??"outlined"}--${a}`:void 0,{isFieldsetDisabled:f}=jW(),m=f||(s??i??p.disabled),g=mW(wW,_W,eA(wW,d),eA(wW,h),eA(wW,u),tA(wW,"disabled",m),tA(wW,"loading",i),tA(wW,"fullwidth",o),n);return x.createElement(fW,{ref:t,as:"button",className:g,isDisabled:m,type:c,...p},i?x.createElement($W,{as:"span",className:kW},x.createElement(VW,{size:u}),l||null):r)});GW.displayName="Button";var KW=n(8443);function YW(e){return 0!==e.status?e.getSnapshot():e.machine.initialState}function QW(e){return"state"in e&&"machine"in e}function XW(e){return e}function JW(e){return"state"in e}function ZW(e){return"getSnapshot"in e?QW(e)?YW(e):e.getSnapshot():JW(e)?e.state:void 0}function eB(e,t){void 0===t&&(t=ZW);var n=(0,x.useRef)(e),r=(0,x.useRef)([]),a=(0,x.useCallback)(function(t){return e.subscribe(t).unsubscribe},[e]),o=(0,x.useCallback)(function(){return t(e)},[e,t]),s=(0,x.useCallback)(function(t,n){return QW(e)?function(e,t,n){if(e.status===ln.NotStarted)return!0;var r=void 0===n.changed&&(Object.keys(n.children).length>0||"boolean"===typeof t.changed);return!(n.changed||r)}(e,t,n):t===n},[e]),i=(0,KW.useSyncExternalStoreWithSelector)(a,o,o,XW,s),l=hn(function(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=e[0];var o=n.current;(function(e){return"deferred"in e})(o)&&o.deferred?r.current.push(a):o.send(a)}});return be(function(){for(n.current=e;r.current.length>0;){var t=r.current.shift();e.send(t)}},[e]),[i,l]}function tB(){const{service:e}=WW();return eB(e)}var nB,rB=function(e,t){return e===t};function aB(e,t,n,r){void 0===n&&(n=rB);var a=(0,x.useRef)(null),o=(0,x.useCallback)(function(t){return e.subscribe(t).unsubscribe},[e]),s=(0,x.useCallback)(function(){return r?r(e):function(e,t){if(QW(e)){if(0===e.status&&t.current)return t.current;var n=YW(e);return t.current=0===e.status?n:null,n}return JW(e)?e.state:void 0}(e,a)},[e,r]);return(0,KW.useSyncExternalStoreWithSelector)(o,s,s,t,n)}function oB(e){const{service:t}=WW();return aB(t,e)}!function(e){e.CameraModule="amplify-liveness-camera-module",e.CancelContainer="amplify-liveness-cancel-container",e.CancelButton="amplify-liveness-cancel-button",e.CenteredLoader="amplify-liveness-centered-loader",e.ConnectingLoader="amplify-liveness-connecting-loader",e.CountdownContainer="amplify-liveness-countdown-container",e.DescriptionBullet="amplify-liveness-description-bullet",e.DescriptionBulletIndex="amplify-liveness-description-bullet__index",e.DescriptionBulletIndexText="amplify-liveness-description-bullet__index__text",e.DescriptionBulletMessage="amplify-liveness-description-bullet__message",e.ErrorModal="amplify-liveness-error-modal",e.ErrorModalHeading="amplify-liveness-error-modal__heading",e.FadeOut="amplify-liveness-fade-out",e.FreshnessCanvas="amplify-liveness-freshness-canvas",e.InstructionList="amplify-liveness-instruction-list",e.InstructionOverlay="amplify-liveness-instruction-overlay",e.Hint="amplify-liveness-hint",e.HintText="amplify-liveness-hint__text",e.LandscapeErrorModal="amplify-liveness-landscape-error-modal",e.LandscapeErrorModalButton="amplify-liveness-landscape-error-modal__button",e.LandscapeErrorModalHeader="amplify-liveness-landscape-error-modal__header",e.Loader="amplify-liveness-loader",e.MatchIndicator="amplify-liveness-match-indicator",e.OvalCanvas="amplify-liveness-oval-canvas",e.OpaqueOverlay="amplify-liveness-overlay-opaque",e.Overlay="amplify-liveness-overlay",e.Popover="amplify-liveness-popover",e.PopoverContainer="amplify-liveness-popover__container",e.PopoverAnchor="amplify-liveness-popover__anchor",e.PopoverAnchorSecondary="amplify-liveness-popover__anchor-secondary",e.RecordingIconContainer="amplify-liveness-recording-icon-container",e.RecordingIcon="amplify-liveness-recording-icon",e.StartScreenCameraSelect="amplify-liveness-start-screen-camera-select",e.StartScreenCameraSelectContainer="amplify-liveness-start-screen-camera-select__container",e.StartScreenCameraWaiting="amplify-liveness-start-screen-camera-waiting",e.StartScreenHeader="amplify-liveness-start-screen-header",e.StartScreenHeaderBody="amplify-liveness-start-screen-header__body",e.StartScreenHeaderHeading="amplify-liveness-start-screen-header__heading",e.StartScreenWarning="amplify-liveness-start-screen-warning",e.StartScreenInstructions="amplify-liveness-start-screen-instructions",e.StartScreenInstructionsHeading="amplify-liveness-start-screen-instructions__heading",e.Toast="amplify-liveness-toast",e.ToastContainer="amplify-liveness-toast__container",e.ToastMessage="amplify-liveness-toast__message",e.UserFacingVideo="amplify-liveness-video--user-facing",e.Video="amplify-liveness-video",e.VideoAnchor="amplify-liveness-video-anchor"}(nB||(nB={}));const sB=hW((e,t)=>{let{as:n="span",children:r,className:a,...o}=e;return x.createElement(fW,{as:n,className:mW(PW,a),ref:t,...o},r)});sB.displayName="VisuallyHidden";const iB=e=>{let{variation:t="default",size:n="medium",children:r,isInitial:a=!1,...o}=e;const{tokens:s}=lW();return x.createElement(fW,{className:`${nB.Toast} ${nB.Toast}--${t} ${nB.Toast}--${n}`,...a&&{backgroundColor:s.colors.background.primary},...o},x.createElement($W,{className:nB.ToastContainer},x.createElement($W,{className:nB.ToastMessage,...a?{color:s.colors.font.primary}:{}},r)))},lB=e=>{let{displayText:t}=e;return x.createElement(iB,{"aria-live":"polite"},x.createElement($W,{className:nB.HintText},x.createElement(VW,null),x.createElement(fW,null,t)))},uB=e=>e.context.errorState,cB=e=>e.context.faceMatchAssociatedParams.faceMatchState,dB=e=>e.context.faceMatchAssociatedParams.illuminationState,pB=e=>e.context.isFaceFarEnoughBeforeRecording,hB=e=>e.context.faceMatchStateBeforeStart,fB=e=>e.context.faceMatchAssociatedParams?.faceMatchPercentage,mB=e=>{let{text:t,isInitial:n=!1}=e;return x.createElement(iB,{size:"large",variation:"primary",isInitial:n},x.createElement(fW,{"aria-live":"assertive"},t))},gB=e=>{let{hintDisplayText:t}=e;const[n]=tB(),r=oB(uB),a=oB(cB),o=oB(dB),s=oB(hB),i=oB(pB),l=oB(fB),u=n.matches("checkFaceDetectedBeforeStart")||n.matches("detectFaceBeforeStart"),c=n.matches("checkFaceDistanceBeforeRecording")||n.matches("detectFaceDistanceBeforeRecording"),d=n.matches("start")||n.matches("userCancel"),p=n.matches("recording"),h=n.matches("uploading"),f=n.matches("checkSucceeded"),m=n.matches("checkFailed"),g=n.matches({recording:"flashFreshnessColors"}),y={[On.CANT_IDENTIFY]:t.hintCanNotIdentifyText,[On.FACE_IDENTIFIED]:t.hintTooFarText,[On.TOO_MANY]:t.hintTooManyFacesText,[On.TOO_FAR]:t.hintTooFarText,[On.MATCHED]:t.hintHoldFaceForFreshnessText,[On.OFF_CENTER]:t.hintFaceOffCenterText},v={[Mn.BRIGHT]:t.hintIlluminationTooBrightText,[Mn.DARK]:t.hintIlluminationTooDarkText,[Mn.NORMAL]:t.hintIlluminationNormalText};if(d)return x.createElement(x.Fragment,null,x.createElement(sB,{role:"alert"},t.hintCenterFaceInstructionText),x.createElement(mB,{text:t.hintCenterFaceText,isInitial:!0}));if(r??(m||f))return null;if(!p){if(u)return s===On.TOO_MANY?x.createElement(mB,{text:t.hintTooManyFacesText}):x.createElement(mB,{text:t.hintMoveFaceFrontOfCameraText});if(c&&!1===i)return x.createElement(mB,{text:t.hintTooCloseText});if(h)return x.createElement(x.Fragment,null,x.createElement(sB,{"aria-live":"assertive"},t.hintCheckCompleteText),x.createElement(lB,{displayText:t.hintVerifyingText}));if(o&&o!==Mn.NORMAL)return x.createElement(mB,{text:v[o]})}if(g)return x.createElement(mB,{text:t.hintHoldFaceForFreshnessText});if(p&&!g){let e=y[On.TOO_FAR];a===On.MATCHED&&(e=y[a]);let n=e;return a===On.OFF_CENTER?n=y[a]:a===On.TOO_FAR&&l>50&&(n=t.hintMatchIndicatorText),x.createElement(iB,{size:"large",variation:"primary"},x.createElement(sB,{"aria-live":"assertive"},n),x.createElement(fW,{"aria-label":n},e))}return null},yB=e=>{let{children:t,horizontal:n="center",vertical:r="center",className:a,...o}=e;return x.createElement($W,{className:`${nB.Overlay} ${a}`,alignItems:n,justifyContent:r,...o},t)};function vB(){return/Android|iPhone|iPad/i.test(navigator.userAgent)||/Macintosh/i.test(navigator.userAgent)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>1}function bB(){return window.matchMedia("(orientation: landscape)")}const wB=x.createContext({});function kB(e){const t=x.useContext(wB);if(e&&t)return t[e]}const SB=e=>{const{className:t,...n}=e;return x.createElement(fW,{as:"span",width:"1em",height:"1em",className:mW(TW,t),...n},x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"currentColor"})))},xB=e=>{const{className:t,...n}=e;return x.createElement(fW,{as:"span",width:"1em",height:"1em",className:mW(TW,t),...n},x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"currentColor"})))},IB=e=>{const{className:t,...n}=e;return x.createElement(fW,{as:"span",width:"1em",height:"1em",className:mW(TW,t),...n},x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M11 7H13V9H11V7ZM11 11H13V17H11V11ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"})))},_B=e=>{const{className:t,...n}=e;return x.createElement(fW,{as:"span",width:"1em",height:"1em",className:mW(TW,t),...n},x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z",fill:"currentColor"})))},EB=e=>{let{variation:t,ariaHidden:n,ariaLabel:r,role:a}=e;const o=kB("alert");let s;switch(t){case"info":s=o?.info??x.createElement(IB,{"aria-hidden":n,"aria-label":r,role:a});break;case"error":s=o?.error??x.createElement(xB,{"aria-hidden":n,"aria-label":r,role:a});break;case"warning":s=o?.warning??x.createElement(_B,{"aria-hidden":n,"aria-label":r,role:a});break;case"success":s=o?.success??x.createElement(SB,{"aria-hidden":n,"aria-label":r,role:a})}return s?x.createElement("span",{className:yW},s):null};EB.displayName="AlertIcon";const TB={errorLabelText:"Error",connectionTimeoutHeaderText:"Connection time out",connectionTimeoutMessageText:"Connection has timed out.",timeoutHeaderText:"Time out",timeoutMessageText:"Face didn't fit inside oval in time limit. Try again and completely fill the oval with face in it.",faceDistanceHeaderText:"Forward movement detected",faceDistanceMessageText:"Avoid moving closer when connecting.",multipleFacesHeaderText:"Multiple faces detected",multipleFacesMessageText:"Ensure only one face is present in front of the camera when connecting.",clientHeaderText:"Client error",clientMessageText:"Check failed due to client issue",serverHeaderText:"Server issue",serverMessageText:"Cannot complete check due to server issue",landscapeHeaderText:"Landscape orientation not supported",landscapeMessageText:"Rotate your device to portrait (vertical) orientation.",portraitMessageText:"Ensure your device remains in portrait (vertical) orientation for the check\u2019s duration.",tryAgainText:"Try again"},NB={cameraMinSpecificationsHeadingText:"Camera does not meet minimum specifications",cameraMinSpecificationsMessageText:"Camera must support at least 320*240 resolution and 15 frames per second.",cameraNotFoundHeadingText:"Camera is not accessible.",cameraNotFoundMessageText:"Check that a camera is connected and there is not another application using the camera. You may have to go into settings to grant camera permissions and close out all instances of your browser and retry.",a11yVideoLabelText:"Webcam for liveness check",cancelLivenessCheckText:"Cancel Liveness check",goodFitCaptionText:"Good fit",goodFitAltText:"Ilustration of a person's face, perfectly fitting inside of an oval.",hintCenterFaceText:"Center your face",hintCenterFaceInstructionText:"Instruction: Before starting the check, make sure your camera is at the center top of your screen and center your face to the camera. When the check starts an oval will show up in the center. You will be prompted to move forward into the oval and then prompted to hold still. After holding still for a few seconds, you should hear check complete.",hintFaceOffCenterText:"Face is not in the oval, center your face to the camera.",hintMoveFaceFrontOfCameraText:"Move face in front of camera",hintTooManyFacesText:"Ensure only one face is in front of camera",hintFaceDetectedText:"Face detected",hintCanNotIdentifyText:"Move face in front of camera",hintTooCloseText:"Move back",hintTooFarText:"Move closer",hintConnectingText:"Connecting...",hintVerifyingText:"Verifying...",hintCheckCompleteText:"Check complete",hintIlluminationTooBrightText:"Move to dimmer area",hintIlluminationTooDarkText:"Move to brighter area",hintIlluminationNormalText:"Lighting conditions normal",hintHoldFaceForFreshnessText:"Hold still",hintMatchIndicatorText:"50% completed. Keep moving closer.",photosensitivityWarningBodyText:"This check flashes different colors. Use caution if you are photosensitive.",photosensitivityWarningHeadingText:"Photosensitivity warning",photosensitivityWarningInfoText:"Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",photosensitivityWarningLabelText:"More information about photosensitivity",photosensitivyWarningBodyText:"This check flashes different colors. Use caution if you are photosensitive.",photosensitivyWarningHeadingText:"Photosensitivity warning",photosensitivyWarningInfoText:"Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",photosensitivyWarningLabelText:"More information about photosensitivity",retryCameraPermissionsText:"Retry",recordingIndicatorText:"Rec",startScreenBeginCheckText:"Start video check",tooFarCaptionText:"Too far",tooFarAltText:"Illustration of a person's face inside of an oval; there is a gap between the perimeter of the face and the boundaries of the oval.",waitingCameraPermissionText:"Waiting for you to allow camera permission.",...TB},CB=e=>{let{errorState:t,overrideErrorDisplayText:n}=e;const r={...TB,...n};return t===zn||t===Ln||t===Bn?null:(e=>{const{error:t,displayText:n}=e,{connectionTimeoutHeaderText:r,connectionTimeoutMessageText:a,errorLabelText:o,timeoutHeaderText:s,timeoutMessageText:i,faceDistanceHeaderText:l,faceDistanceMessageText:u,multipleFacesHeaderText:c,multipleFacesMessageText:d,clientHeaderText:p,clientMessageText:h,serverHeaderText:f,serverMessageText:m}=n;let g,y;switch(t){case Fn:g=r,y=a;break;case Dn:g=s,y=i;break;case Wn:g=l,y=u;break;case Un:g=c,y=d;break;case Pn:g=p,y=h;break;default:g=f,y=m}return x.createElement(x.Fragment,null,x.createElement($W,{className:nB.ErrorModal},x.createElement(EB,{ariaLabel:o,role:"img",variation:"error"}),x.createElement(BW,{className:nB.ErrorModalHeading,id:"amplify-liveness-error-heading"},g)),x.createElement(BW,{id:"amplify-liveness-error-message"},y))})({error:t,displayText:r})},AB=e=>{const{children:t,onRetry:n,displayText:r}=e,a={...TB,...r},{tryAgainText:o}=a;return x.createElement(yB,{className:nB.OpaqueOverlay},x.createElement(iB,{"aria-labelledby":"amplify-liveness-error-heading","aria-describedby":"amplify-liveness-error-message",role:"alertdialog"},t,x.createElement($W,{justifyContent:"center"},x.createElement(GW,{variation:"primary",type:"button",onClick:n},o))))},MB=e=>{const{className:t,size:n,...r}=e;return x.createElement(fW,{as:"span",width:n??"1em",height:n??"1em",className:mW(TW,t),...r},x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n?{width:n,height:n}:void 0},x.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})))},OB=e=>{let{ariaLabel:t}=e;const[n,r]=tB();return n.done?null:x.createElement(GW,{autoFocus:!0,variation:"link",onClick:()=>{r({type:"CANCEL"})},size:"large",className:nB.CancelButton,"aria-label":t},x.createElement(MB,{"aria-hidden":"true","data-testid":"close-icon"}))},RB={minX:0,minY:0,width:24,height:24},FB=hW((e,t)=>{let{className:n,as:r="svg",fill:a="currentColor",pathData:o,viewBox:s=RB,children:i,paths:l,...u}=e;const c=s.minX?s.minX:RB.minX,d=s.minY?s.minY:RB.minY,p=s.width?s.width:RB.width,h=s.height?s.height:RB.height;let f;return i&&(f=i),l&&(f=l.map((e,t)=>x.createElement("path",{...e,key:t}))),o&&(f=x.createElement("path",{d:o,fill:a})),x.createElement(fW,{as:r,className:mW(TW,n),ref:t,viewBox:`${c} ${d} ${p} ${h}`,...u},f)});FB.displayName="Icon";const DB=e=>{let{children:t}=e;return x.createElement($W,{className:nB.RecordingIcon},x.createElement($W,{"data-testid":"rec-icon",justifyContent:"center"},x.createElement(FB,{viewBox:{width:20,height:20},width:"20",height:"20"},x.createElement("circle",{cx:"10",cy:"10",r:"8",fill:"red"}))),x.createElement(BW,{as:"span",fontWeight:"bold"},t))},PB=e=>{let{children:t,headingText:n,labelText:r}=e;const a=(()=>{const{breakpoints:{values:e,defaultBreakpoint:t}}=lW();return nW({breakpoints:e,defaultBreakpoint:t})})(),[o,s]=x.useState(!1),i=x.useRef(null),l="base"===a;return x.useEffect(()=>{function e(e){o&&i.current&&!i.current.contains(e.target)&&s(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[i,o]),x.createElement("div",{className:nB.Popover,ref:i},x.createElement(GW,{"aria-controls":"photosensitivity-description","aria-expanded":o,role:"alertdialog","aria-label":r,"aria-describedby":"photosensitivity-description",colorTheme:"info",id:"popover-button",onClick:()=>s(!o),testId:"popover-icon"},x.createElement(EB,{ariaHidden:!0,variation:"info"})),o&&x.createElement(x.Fragment,null,x.createElement($W,{className:nB.PopoverAnchor}),x.createElement($W,{className:nB.PopoverAnchorSecondary}),x.createElement($W,{"aria-hidden":!o,"aria-label":n,className:nB.PopoverContainer,"data-testid":"popover-text",id:"photosensitivity-description",left:l?-190:-108,role:"alertdialog"},t)))};PB.displayName="LivenessIconWithPopover";const $B=e=>{let{bodyText:t,headingText:n,infoText:r,labelText:a}=e;return x.createElement($W,{className:`${gW} ${nB.StartScreenWarning}`,style:{zIndex:"3"}},x.createElement(fW,{flex:"1"},x.createElement(fW,{className:vW},n),x.createElement(fW,{className:bW},t)),x.createElement(PB,{labelText:a,headingText:n},r))},LB=e=>{let{recordingIndicatorText:t}=e;return x.createElement(fW,{className:nB.RecordingIconContainer},x.createElement(DB,null,t))},zB=e=>{let{cancelLivenessCheckText:t}=e;return x.createElement(fW,{className:nB.CancelContainer},x.createElement(OB,{ariaLabel:t}))},WB=hW((e,t)=>{let{children:n,className:r,visuallyHidden:a,...o}=e;return x.createElement(fW,{as:"label",className:mW(NW,r,{[PW]:a}),ref:t,...o},n)});WB.displayName="Label";const BB=e=>{let{descriptiveText:t,labelHidden:n,...r}=e;return t?x.createElement(BW,{"data-testid":"qa-field-description",className:mW(xW,{[PW]:n}),...r},t):null};BB.displayName="FieldDescription";const UB=e=>{let{errorMessage:t,hasError:n,...r}=e;return n&&t?x.createElement(BW,{className:IW,...r},t):null};UB.displayName="FieldErrorMessage";const jB=e=>{const{className:t,...n}=e;return x.createElement(fW,{as:"span",width:"1em",height:"1em",className:mW(TW,t),...n},x.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x.createElement("path",{d:"M16.59 8.58984L12 13.1698L7.41 8.58984L6 9.99984L12 15.9998L18 9.99984L16.59 8.58984Z",fill:"currentColor"})))},HB=hW((e,t)=>{let{autoComplete:n,className:r,size:a,variation:o,value:s,defaultValue:i,hasError:l,icon:u,iconColor:c,children:d,placeholder:p,isDisabled:h,isRequired:f,isMultiple:m=!1,selectSize:g=1,...y}=e;const v=void 0===s&&void 0===i&&p,b=m||g>1,w=mW(MW,_W,eA(MW,a),eA(MW,o),tA(MW,"error",l),tA(MW,"expanded",b),r),k=kB("select"),{isFieldsetDisabled:S}=jW();return x.createElement(fW,{className:RW},x.createElement(fW,{"aria-invalid":l,as:"select",autoComplete:n,value:s,defaultValue:v?"":i,isDisabled:S||h,multiple:m,size:g,required:f,className:w,ref:t,...y},p&&x.createElement("option",{value:""},p),d),b?null:x.createElement($W,{className:mW(FW,eA(FW,a)),color:c,"aria-hidden":"true"},u??k?.expand??x.createElement(jB,null)))});HB.displayName="Select";const VB=e=>{const t={styleProps:{},rest:{}};return Object.keys(e).forEach(n=>{(e=>e in zz)(n)?t.styleProps={...t.styleProps,[n]:e[n]}:t.rest={...t.rest,[n]:e[n]}}),t},qB=globalThis?.document?x.useLayoutEffect:()=>{},GB=I["useId".toString()]||(()=>{});let KB=0;const YB=e=>{const[t,n]=x.useState(GB());return qB(()=>{e||n(e=>e??String(KB++))},[e]),e??(t?`amplify-id-${t}`:"")};"undefined"===typeof Symbol||!ZC(Symbol.for)||Symbol.for("amplify_default");const QB=(e,t)=>e&&t?`${e}-${t}`:void 0,XB=hW((e,t)=>{const{children:n,className:r,descriptiveText:a,errorMessage:o,hasError:s=!1,id:i,label:l,labelHidden:u=!1,options:c,size:d,testId:p,inputStyles:h,...f}=e,m=YB(i),g=YB(),y=a?QB(g,"description"):void 0,v=s?QB(g,"error"):void 0,b=(e=>{const t=e.filter(e=>void 0!==e).join(" ");return t.length>0?t:void 0})([v,y]),{styleProps:w,rest:k}=VB(f);return x.createElement($W,{className:mW(SW,eA(SW,d),OW,r),testId:p,...w},x.createElement(WB,{htmlFor:m,visuallyHidden:u},l),x.createElement(BB,{id:y,labelHidden:u,descriptiveText:a}),x.createElement(HB,{"aria-describedby":b,hasError:s,id:m,ref:t,size:d,...k,...h},(e=>{let{children:t,options:n}=e;return t?(n?.length&&console.warn("Amplify UI: <SelectField> component  defaults to rendering children over `options`. When using the `options` prop, omit children."),t):n?.map((e,t)=>x.createElement("option",{label:e,value:e,key:`${e}-${t}`},e))})({children:n,options:c})),x.createElement(UB,{id:v,hasError:s,errorMessage:o}))});XB.displayName="SelectField";const JB=e=>{const{onSelect:t,devices:n,deviceId:r}=e;return x.createElement($W,{className:nB.StartScreenCameraSelect},x.createElement(fW,{className:nB.StartScreenCameraSelectContainer},x.createElement(WB,{htmlFor:"amplify-liveness-camera-select",className:`${nB.StartScreenCameraSelect}__label`},"Camera:"),x.createElement(XB,{id:"amplify-liveness-camera-select",testId:"amplify-liveness-camera-select",label:"Camera",labelHidden:!0,value:r,onChange:t},n.map(e=>x.createElement("option",{value:e.deviceId,key:e.deviceId},e.label)))))},ZB=e=>e.context.parsedSessionInformation?.Challenge?.Name,eU=e=>e.context.videoAssociatedParams?.videoConstraints,tU=e=>e.context.videoAssociatedParams?.videoMediaStream,nU=e=>e.context.faceMatchAssociatedParams?.faceMatchPercentage,rU=e=>e.context.faceMatchAssociatedParams?.faceMatchState,aU=e=>e.context.videoAssociatedParams?.selectedDeviceId,oU=e=>e.context.videoAssociatedParams?.selectableDevices,sU=[On.TOO_FAR,On.CANT_IDENTIFY,On.FACE_IDENTIFIED,On.OFF_CENTER],iU=x.memo(e=>{let{percentage:t,initialPercentage:n=25,testId:r}=e;const[a,o]=x.useState(n);x.useEffect(()=>{o(t<0?0:t>100?100:t)},[t]);const s={"--percentage":`${a}%`};return x.createElement("div",{className:nB.MatchIndicator,"data-testid":r},x.createElement("div",{className:`${nB.MatchIndicator}__bar`,style:s,role:"progressbar","aria-label":"MatchIndicator","aria-valuenow":t,"aria-valuetext":`${t}% face fit`}))}),lU=e=>{const{isMobileScreen:t,isRecordingStopped:n,instructionDisplayText:r,streamDisplayText:a,hintDisplayText:o,errorDisplayText:s,cameraDisplayText:i,components:l,testId:u}=e,{cancelLivenessCheckText:c,recordingIndicatorText:d}=a,{ErrorView:p=AB,PhotosensitiveWarning:h=$B}=l??{},[f,m]=tB(),g=oB(ZB)===Xn.type,y=oB(tU),v=oB(eU),b=oB(aU),w=oB(oU),k=oB(nU),S=oB(rU),I=oB(uB),_=x.useContext(iW).colorMode,{videoRef:E,videoWidth:T,videoHeight:N}=function(e){const t=yz.height.ideal,n=yz.width.ideal,r=(0,x.useRef)(null),[a,o]=(0,x.useState)(t),[s,i]=(0,x.useState)(n);return(0,x.useEffect)(()=>{if(e){YC(r.current)&&(r.current.srcObject=e);const{height:t,width:n}=e.getTracks()[0].getSettings();o(t),i(n)}return()=>{e&&e.getTracks().forEach(t=>{e.removeTrack(t),t.stop()})}},[e]),{videoRef:r,videoHeight:a,videoWidth:s}}(y),C=(0,x.useRef)(null),A=(0,x.useRef)(null),[M,O]=(0,x.useState)(!1),[R,F]=(0,x.useState)(!1),[D,P]=(0,x.useState)(!0),$=f.matches("initCamera"),L=f.matches("initWebsocket"),z=f.matches({initCamera:"cameraCheck"}),W=f.matches({initCamera:"waitForDOMAndCameraDetails"}),B=f.matches("start")||f.matches("userCancel"),U=f.matches("detectFaceBeforeStart"),j=f.matches("recording"),H=f.matches("checkSucceeded"),V=f.matches({recording:"flashFreshnessColors"}),[q,G]=(0,x.useState)(T),[K,Y]=(0,x.useState)(N),[Q,X]=(0,x.useState)(()=>T&&N?T/N:0),J=!!w?.length&&w.length>1,Z=B&&J&&(!t||g);x.useEffect(()=>{!async function(){const e=await async function(e){const t=await(navigator.mediaDevices?.enumerateDevices()),n=t?.find(t=>t.deviceId===e&&"videoinput"===t.kind);return!n||!n.label.toLowerCase().includes("back")}(b);P(e)}()},[b]),x.useEffect(()=>{const e=C?.current&&E?.current&&y&&B&&R;e&&ar(C.current,E.current,y);const t=t=>{t.matches&&e&&ar(C.current,E.current,y)},n=window.matchMedia("(prefers-color-scheme: dark)"),r=window.matchMedia("(prefers-color-scheme: light)");return n.addEventListener("change",t),r.addEventListener("change",t),()=>{n.removeEventListener("change",t),r.addEventListener("change",t)}},[E,y,_,B,R]),x.useLayoutEffect(()=>{M&&m({type:"SET_DOM_AND_CAMERA_DETAILS",data:{videoEl:E.current,canvasEl:C.current,freshnessColorEl:A.current,isMobile:t}}),E.current&&(G(E.current.videoWidth),Y(E.current.videoHeight),X(E.current.videoWidth/E.current.videoHeight))},[m,E,M,t]),x.useEffect(()=>{U&&function(e){let{canvas:t}=e;const n=t.getContext("2d");if(!n)throw new Error("Cannot find Canvas.");n.restore(),n.clearRect(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)}({canvas:C.current})},[U]);const ee=x.useMemo(()=>x.createElement(fW,{style:{visibility:B?"visible":"hidden"}},x.createElement(h,{bodyText:r.photosensitivityWarningBodyText,headingText:r.photosensitivityWarningHeadingText,infoText:r.photosensitivityWarningInfoText,labelText:r.photosensitivityWarningLabelText})),[h,r,B]),te=x.useCallback(()=>{m({type:"BEGIN"})},[m]),ne=x.useCallback(e=>{const t=e.target.value;(async()=>{F(!1);const e=await navigator.mediaDevices.getUserMedia({video:{...v,deviceId:{exact:t}},audio:!1});m({type:"UPDATE_DEVICE_AND_STREAM",data:{newDeviceId:t,newStream:e}})})()},[v,m]);if(z)return x.createElement($W,{justifyContent:"center",className:nB.StartScreenCameraWaiting},x.createElement(VW,{size:"large",className:nB.CenteredLoader,"data-testid":"centered-loader",position:"unset"}),x.createElement(BW,{fontSize:"large",fontWeight:"bold","data-testid":"waiting-camera-permission",className:`${nB.StartScreenCameraWaiting}__text`},i.waitingCameraPermissionText));const re=$||L,ae=t&&!B&&!re;return x.createElement(x.Fragment,null,!g&&ee,re&&x.createElement($W,{className:nB.ConnectingLoader},x.createElement(VW,{size:"large",className:nB.Loader,"data-testid":"centered-loader"}),x.createElement(BW,{className:nB.LandscapeErrorModalHeader},o.hintConnectingText)),x.createElement($W,{className:mW(nB.CameraModule,ae&&`${nB.CameraModule}--mobile`),"data-testid":u,gap:"zero"},x.createElement(yB,{horizontal:"center",vertical:j&&!V?"start":"space-between",className:nB.InstructionOverlay},j&&x.createElement(LB,{recordingIndicatorText:d}),!B&&!W&&!H&&x.createElement(zB,{cancelLivenessCheckText:c}),x.createElement($W,{className:mW(nB.Hint,ae&&`${nB.Hint}--mobile`)},x.createElement(gB,{hintDisplayText:o})),I&&x.createElement(p,{onRetry:()=>{m({type:"CANCEL"})},displayText:s},CB({errorState:I,overrideErrorDisplayText:s})),j&&!V&&sU.includes(S)?x.createElement(iU,{percentage:Math.ceil(k)}):null),x.createElement(fW,{as:"canvas",ref:A,className:nB.FreshnessCanvas,hidden:!0}),x.createElement(fW,{className:nB.VideoAnchor,style:{aspectRatio:`${Q}`}},x.createElement("video",{ref:E,muted:!0,autoPlay:!0,playsInline:!0,width:q,height:K,onCanPlay:()=>{O(!0)},onLoadedMetadata:()=>{F(!0)},"data-testid":"video",className:mW(nB.Video,D&&nB.UserFacingVideo,n&&nB.FadeOut),"aria-label":i.a11yVideoLabelText}),x.createElement($W,{className:mW(nB.OvalCanvas,ae&&`${nB.OvalCanvas}--mobile`,n&&nB.FadeOut)},x.createElement(fW,{as:"canvas",ref:C})),Z?x.createElement(JB,{onSelect:ne,devices:w,deviceId:b}):null)),B&&x.createElement($W,{justifyContent:"center"},x.createElement(GW,{variation:"primary",type:"button",onClick:te},r.startScreenBeginCheckText)))},uU=e=>{const{onRetry:t,header:n,portraitMessage:r,landscapeMessage:a,tryAgainText:o}=e,[s,i]=x.useState(!0);return x.useLayoutEffect(()=>{const e=bB();return i(e.matches),e.addEventListener("change",e=>{i(e.matches)}),()=>{e.removeEventListener("change",e=>i(e.matches))}},[]),x.createElement($W,{className:nB.LandscapeErrorModal,height:s?"auto":480},x.createElement(BW,{className:nB.LandscapeErrorModalHeader},n),x.createElement(BW,null,s?a:r),s?null:x.createElement($W,{className:nB.LandscapeErrorModalButton},x.createElement(GW,{variation:"primary",type:"button",onClick:t},o)))},cU="liveness-detector-check",dU=e=>e.context.isRecordingStopped,pU=e=>{let{instructionDisplayText:t,hintDisplayText:n,cameraDisplayText:r,streamDisplayText:a,errorDisplayText:o,components:s}=e;const[i,l]=tB(),u=oB(uB),c=oB(dU),d=i.matches("permissionDenied"),p=vB(),h=()=>{l({type:"RETRY_CAMERA_CHECK"})},{cameraMinSpecificationsHeadingText:f,cameraMinSpecificationsMessageText:m,cameraNotFoundHeadingText:g,cameraNotFoundMessageText:y,retryCameraPermissionsText:v}=r,{cancelLivenessCheckText:b}=a;x.useLayoutEffect(()=>{if(p){const e=e=>{e&&l({type:"MOBILE_LANDSCAPE_WARNING"})},t=bB();return e(t.matches),t.addEventListener("change",t=>{e(t.matches)}),()=>{t.removeEventListener("change",t=>e(t.matches))}}},[p,l]);return x.createElement($W,{direction:"column",position:"relative",testId:cU,className:cU,gap:"xl"},(()=>{if(u===Bn){const e={...TB,...o},{landscapeHeaderText:t,portraitMessageText:n,landscapeMessageText:r,tryAgainText:a}=e;return x.createElement($W,{backgroundColor:"background.primary",direction:"column",textAlign:"center",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%"},x.createElement(uU,{header:t,portraitMessage:n,landscapeMessage:r,tryAgainText:a,onRetry:()=>{l({type:"CANCEL"})}}))}return d?x.createElement($W,{backgroundColor:"background.primary",direction:"column",textAlign:"center",alignItems:"center",justifyContent:"center",width:"100%",height:480},x.createElement(BW,{fontSize:"large",fontWeight:"bold"},u===Ln?f:g),x.createElement(BW,{maxWidth:420},u===Ln?m:y),x.createElement(GW,{variation:"primary",type:"button",onClick:h},v),x.createElement(fW,{position:"absolute",top:"medium",right:"medium"},x.createElement(OB,{ariaLabel:b}))):x.createElement(lU,{isMobileScreen:p,isRecordingStopped:c,instructionDisplayText:t,streamDisplayText:a,hintDisplayText:n,errorDisplayText:o,cameraDisplayText:r,components:s})})())};function hU(e){const t=function(e){const t=(t,n)=>e[t]&&e[t]!==NB[t]?e[t]:e[n]&&e[n]!==NB[t]?e[n]:NB[t];return{photosensitivityWarningBodyText:t("photosensitivityWarningBodyText","photosensitivyWarningBodyText"),photosensitivityWarningHeadingText:t("photosensitivityWarningHeadingText","photosensitivyWarningHeadingText"),photosensitivityWarningInfoText:t("photosensitivityWarningInfoText","photosensitivyWarningInfoText"),photosensitivityWarningLabelText:t("photosensitivityWarningLabelText","photosensitivyWarningLabelText")}}(e??{}),n={...NB,...e,...t},{a11yVideoLabelText:r,cameraMinSpecificationsHeadingText:a,cameraMinSpecificationsMessageText:o,cameraNotFoundHeadingText:s,cameraNotFoundMessageText:i,cancelLivenessCheckText:l,connectionTimeoutHeaderText:u,connectionTimeoutMessageText:c,clientHeaderText:d,clientMessageText:p,errorLabelText:h,hintCanNotIdentifyText:f,hintCenterFaceText:m,hintCenterFaceInstructionText:g,hintFaceOffCenterText:y,hintConnectingText:v,hintFaceDetectedText:b,hintHoldFaceForFreshnessText:w,hintIlluminationNormalText:k,hintIlluminationTooBrightText:S,hintIlluminationTooDarkText:x,hintMoveFaceFrontOfCameraText:I,hintTooManyFacesText:_,hintTooCloseText:E,hintTooFarText:T,hintVerifyingText:N,hintCheckCompleteText:C,hintMatchIndicatorText:A,faceDistanceHeaderText:M,faceDistanceMessageText:O,goodFitCaptionText:R,goodFitAltText:F,landscapeHeaderText:D,landscapeMessageText:P,multipleFacesHeaderText:$,multipleFacesMessageText:L,photosensitivityWarningBodyText:z,photosensitivityWarningHeadingText:W,photosensitivityWarningInfoText:B,photosensitivityWarningLabelText:U,photosensitivyWarningBodyText:j,photosensitivyWarningHeadingText:H,photosensitivyWarningInfoText:V,photosensitivyWarningLabelText:q,portraitMessageText:G,retryCameraPermissionsText:K,recordingIndicatorText:Y,serverHeaderText:Q,serverMessageText:X,startScreenBeginCheckText:J,timeoutHeaderText:Z,timeoutMessageText:ee,tooFarCaptionText:te,tooFarAltText:ne,tryAgainText:re,waitingCameraPermissionText:ae}=n;return{hintDisplayText:{hintMoveFaceFrontOfCameraText:I,hintTooManyFacesText:_,hintFaceDetectedText:b,hintCanNotIdentifyText:f,hintTooCloseText:E,hintTooFarText:T,hintConnectingText:v,hintVerifyingText:N,hintCheckCompleteText:C,hintIlluminationTooBrightText:S,hintIlluminationTooDarkText:x,hintIlluminationNormalText:k,hintHoldFaceForFreshnessText:w,hintCenterFaceText:m,hintCenterFaceInstructionText:g,hintFaceOffCenterText:y,hintMatchIndicatorText:A},cameraDisplayText:{cameraMinSpecificationsHeadingText:a,cameraMinSpecificationsMessageText:o,cameraNotFoundHeadingText:s,cameraNotFoundMessageText:i,retryCameraPermissionsText:K,waitingCameraPermissionText:ae,a11yVideoLabelText:r},instructionDisplayText:{photosensitivityWarningBodyText:z,photosensitivityWarningHeadingText:W,photosensitivityWarningInfoText:B,photosensitivityWarningLabelText:U,photosensitivyWarningBodyText:j,photosensitivyWarningHeadingText:H,photosensitivyWarningInfoText:V,photosensitivyWarningLabelText:q,goodFitCaptionText:R,goodFitAltText:F,tooFarCaptionText:te,tooFarAltText:ne,startScreenBeginCheckText:J},streamDisplayText:{cancelLivenessCheckText:l,recordingIndicatorText:Y},errorDisplayText:{connectionTimeoutHeaderText:u,connectionTimeoutMessageText:c,errorLabelText:h,timeoutHeaderText:Z,timeoutMessageText:ee,faceDistanceHeaderText:M,faceDistanceMessageText:O,multipleFacesHeaderText:$,multipleFacesMessageText:L,clientHeaderText:d,clientMessageText:p,serverHeaderText:Q,serverMessageText:X,landscapeHeaderText:D,landscapeMessageText:P,portraitMessageText:G,tryAgainText:re}}}const fU="liveness-detector";function mU(e){const{components:t,config:n,displayText:r}=e,a=x.useRef(null),{hintDisplayText:o,cameraDisplayText:s,instructionDisplayText:i,streamDisplayText:l,errorDisplayText:u}=hU(r),c=yn(kz,{devTools:!1,context:{componentProps:{...e,config:n??{}}}});return x.createElement(fW,{className:fU,testId:fU},x.createElement(zW,{componentProps:e,service:c},x.createElement($W,{direction:"column",ref:a},x.createElement(pU,{instructionDisplayText:i,hintDisplayText:o,cameraDisplayText:s,streamDisplayText:l,errorDisplayText:u,components:t}))))}const gU=async()=>{const{credentials:e}=await ge();if(!e)throw new Error("No credentials provided");return e};function yU(e){const{config:t,...n}=e;return x.createElement(mU,{...n,config:{credentialProvider:gU,...t}})}var vU=x.createContext(void 0),bU=e=>{const{dir:t,children:n}=e;return(0,E.jsx)(vU.Provider,{value:t,children:n})};const wU=e=>{let{cssText:t,...n}=e;return void 0===t||/<\/style/i.test(t)?null:x.createElement("style",{...n,dangerouslySetInnerHTML:{__html:t}})};wU.displayName="Style";const kU=e=>{let{theme:t,...n}=e;if(!t)return null;const{name:r,cssText:a}=t;return x.createElement(wU,{...n,cssText:a,id:`amplify-theme-${r}`})};function SU(e){let{children:t,colorMode:n,direction:r="ltr",nonce:a,theme:o}=e;const s=x.useMemo(()=>({theme:sW(o),colorMode:n}),[o,n]);return x.createElement(iW.Provider,{value:s},x.createElement(bU,{dir:r},x.createElement("div",{"data-amplify-theme":s.theme.name,"data-amplify-color-mode":n,dir:r},t),o?x.createElement(kU,{theme:s.theme,nonce:a}):null))}function xU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}kU.displayName="ThemeStyle";var IU,_U=function e(t,n){function r(e,r,a){if("undefined"!==typeof document){"number"===typeof(a=xU({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in a)a[s]&&(o+="; "+s,!0!==a[s]&&(o+="="+a[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},a=0;a<n.length;a++){var o=n[a].split("="),s=o.slice(1).join("=");try{var i=decodeURIComponent(o[0]);if(r[i]=t.read(s,i),e===i)break}catch(fP){}}return e?r[e]:r}},remove:function(e,t){r(e,"",xU({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,xU({},this.attributes,t))},withConverter:function(t){return e(xU({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class EU{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{path:t,domain:n,expires:r,sameSite:a,secure:o}=e;if(this.domain=n,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?r:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||o,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!a||!["strict","lax","none"].includes(a))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===a&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=a}}async setItem(e,t){_U.set(e,t,this.getData())}async getItem(e){return _U.get(e)??null}async removeItem(e){_U.remove(e,this.getData())}async clear(){const e=_U.get(),t=Object.keys(e).map(e=>this.removeItem(e));await Promise.all(t)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}!function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown",e.NetworkError="NetworkError"}(IU||(IU={}));class TU extends A{constructor(){super({name:IU.PlatformNotSupported,message:"Function not supported on current platform"})}}class NU{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new TU;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new TU;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new TU;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new TU;this.storage.clear()}}class CU{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}const AU=new C("CoreStorageUtils"),MU=()=>{try{if("undefined"!==typeof window&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch(fP){return AU.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new CU}};class OU{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new TU;return this._storage}setItem(e,t){this.storage.setItem(e,t)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}}const RU=new class extends NU{constructor(){super((()=>{try{if("undefined"!==typeof window&&window.localStorage)return window.localStorage}catch(fP){AU.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new CU})())}},FU=(new class extends NU{constructor(){super(MU())}},new class extends OU{constructor(){super(MU())}},new NU(new CU),e=>{const{headers:t,statusCode:n}=e;return{...DU(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}}),DU=e=>"object"===typeof e?.$metadata,PU=async e=>{if(!e||e.statusCode<300)return;const t=await $U(e),n=(e=>{const[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError"),r=t.message??t.Message??"Unknown error",a=new Error(r);return Object.assign(a,{name:n,$metadata:FU(e)})},$U=async e=>{if(!e.body)throw new Error("Missing response payload");const t=await e.body.json();return Object.assign(t,{$metadata:FU(e)})},LU=(e,t,n,r)=>async(a,o)=>{const s={...r,...a},i=await s.endpointResolver(s,o),l=await t(o,i),u=await e(l,{...s});return n(u)},zU=3,WU="amz-sdk-invocation-id",BU=3e5,UU=e=>{const t=jC(BU)(e);return!1===t?BU:t},jU=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],HU=e=>async(t,n)=>{const r=n??await e(t)??void 0,a=r?.code||r?.name,o=t?.statusCode;return{retryable:KU(n)||GU(o,a)||(e=>!!e&&jU.includes(e))(a)||YU(o,a)}},VU=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],qU=["TimeoutError","RequestTimeout","RequestTimeoutException"],GU=(e,t)=>429===e||!!t&&VU.includes(t),KU=e=>[IU.NetworkError,"ERR_NETWORK"].includes(e?.name),YU=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&qU.includes(t),QU="cognito-identity",XU={service:QU,retryDecider:HU(PU),computeDelay:UU,cache:"no-store"},JU=(e,t)=>{if(t?.aborted)return Promise.resolve();let n,r;const a=new Promise(t=>{r=t,n=setTimeout(t,e)});return t?.addEventListener("abort",function e(a){clearTimeout(n),t?.removeEventListener("abort",e),r()}),a},ZU=(e,t)=>{"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...e.$metadata??{},attempts:t})},ej=xn,tj=(e,t)=>(n,r)=>{const a={};let o=t=>e(t,r);for(let e=t.length-1;e>=0;e--){o=(0,t[e])(r)(o,a)}return o(n)},nj=e=>{let t;return()=>(t||(t=e()),t)},rj=e=>!["HEAD","GET","DELETE"].includes(e.toUpperCase()),aj=tj(async(e,t)=>{let n,{url:r,method:a,headers:o,body:s}=e,{abortSignal:i,cache:l,withCrossDomainCredentials:u}=t;try{n=await fetch(r,{method:a,headers:o,body:rj(a)?s:void 0,signal:i,cache:l,credentials:u?"include":"same-origin"})}catch(fP){if(fP instanceof TypeError)throw new A({name:IU.NetworkError,message:"A network error has occurred.",underlyingError:fP});throw fP}const c={};n.headers?.forEach((e,t)=>{c[t.toLowerCase()]=e});return{...{statusCode:n.status,headers:c,body:null},body:Object.assign(n.body??{},{text:nj(()=>n.text()),blob:nj(()=>n.blob()),json:nj(()=>n.json())})}},[e=>{let{userAgentHeader:t="x-amz-user-agent",userAgentValue:n=""}=e;return e=>async function(r){if(0===n.trim().length){return await e(r)}{const a=t.toLowerCase();r.headers[a]=r.headers[a]?`${r.headers[a]} ${n}`:n;return await e(r)}}},()=>e=>async function(t){return t.headers[WU]||(t.headers[WU]=ej()),e(t)},e=>{let{maxAttempts:t=zU,retryDecider:n,computeDelay:r,abortSignal:a}=e;if(t<1)throw new Error("maxAttempts must be greater than 0");return(e,o)=>async function(s){let i,l,u=o.attemptsCount??0;const c=()=>{if(l)return ZU(l,u),l;throw ZU(i,u),i};for(;!a?.aborted&&u<t;){try{l=await e(s),i=void 0}catch(fP){i=fP,l=void 0}u=(o.attemptsCount??0)>u?o.attemptsCount??0:u+1,o.attemptsCount=u;const{isCredentialsExpiredError:d,retryable:p}=await n(l,i,o);if(!p)return c();if(o.isCredentialsExpired=!!d,!a?.aborted&&u<t){const e=r(u);await JU(e,a)}}if(a?.aborted)throw new Error("Request aborted.");return c()}},e=>{let{maxAttempts:t=zU}=e;return(e,n)=>async function(r){const a=n.attemptsCount??0;return r.headers["amz-sdk-request"]=`attempt=${a+1}; max=${t}`,e(r)}}]),oj=tj(aj,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),sj=e=>(t,n)=>{const r=ij(e),a=JSON.stringify(t);return lj(n,r,a)},ij=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),lj=(e,t,n)=>{let{url:r}=e;return{headers:t,url:r,body:n,method:"POST"}},uj=e=>LU(oj,sj("GetCredentialsForIdentity"),cj,{...XU,...e,userAgentValue:_L()}),cj=async e=>{if(e.statusCode>=300){throw await PU(e)}const t=await $U(e);return{IdentityId:t.IdentityId,Credentials:dj(t.Credentials),$metadata:FU(e)}},dj=function(){let{Expiration:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...t,Expiration:e&&new Date(1e3*e)}},pj={convert(e,t){let n=e;return t?.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),(()=>{if("undefined"!==typeof window&&"function"===typeof window.atob)return window.atob;if("function"===typeof atob)return atob;throw new A({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})})()(n)}},hj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;return(n,r,a)=>{const{message:o,recoverySuggestion:s}=e[r];if(!n)throw new t({name:r,message:a?`${o} ${a}`:o,recoverySuggestion:s})}};var fj;!function(e){e.AuthTokenConfigException="AuthTokenConfigException",e.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",e.AuthUserPoolException="AuthUserPoolException",e.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",e.OAuthNotConfigureException="OAuthNotConfigureException"}(fj||(fj={}));const mj=hj({[fj.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[fj.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[fj.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[fj.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[fj.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}});function gj(e){let t=!0;t=!!e&&(!!e.userPoolId&&!!e.userPoolClientId),mj(t,fj.AuthUserPoolException)}function yj(e){mj(!!e?.identityPoolId,fj.InvalidIdentityPoolIdException)}function vj(e){const t=e.split(".");if(3!==t.length)throw new Error("Invalid token");try{const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(pj.convert(n).split("").map(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));return{toString:()=>e,payload:JSON.parse(r)}}catch(vH){throw new Error("Invalid token payload")}}class bj extends A{constructor(e){super(e),this.constructor=bj,Object.setPrototypeOf(this,bj.prototype)}}function wj(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new bj({name:IU.Unknown,message:"An unknown error has occurred.",underlyingError:e})}function kj(e){if(!e||!e.includes(":"))throw new bj({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}const Sj="UserUnAuthenticatedException";new bj({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),new bj({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),new bj({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),new bj({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const xj=new bj({name:"TokenRefreshException",message:"Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. \n\tPlease change your oauth configuration to use 'code grant' flow.",recoverySuggestion:"Please logout and change your Amplify configuration to use \"code grant\" flow. \n\tE.g { responseType: 'code' }"}),Ij=new bj({name:Sj,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function _j(e){if(function(e){return Tj(e)&&!e?.refreshToken}(e))throw xj;if(!function(e){return Tj(e)&&e?.refreshToken}(e))throw Ij}const Ej={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function Tj(e){return e?.accessToken||e?.idToken}const Nj={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},Cj={partitions:[Nj,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},Aj=e=>{const{partitions:t}=Cj;for(const{regions:n,outputs:r,regionRegex:a}of t){const t=new RegExp(a);if(n.includes(e)||t.test(e))return r.dnsSuffix}return Nj.outputs.dnsSuffix},Mj=URL,Oj=e=>{let{endpointOverride:t}=e;return e=>t?{url:new Mj(t)}:(e=>{let{region:t}=e;return{url:new Mj(`https://${QU}.${t}.${Aj(t)}`)}})(e)},Rj=async e=>{if(e.statusCode>=300){throw await PU(e)}return{IdentityId:(await $U(e)).IdentityId,$metadata:FU(e)}};function Fj(e){const t=vj(e).payload.iss,n={};if(!t)throw new bj({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return n[t.replace(/(^\w+:|^)\/\//,"")]=e,n}async function Dj(e){let{tokens:t,authConfig:n,identityIdStore:r}=e;r.setAuthConfig({Cognito:n});const a=await r.loadIdentityId();if(a)return a.id;const o=t?.idToken?Fj(t.idToken.toString()):{},s=await async function(e,t){const n=t?.identityPoolId,r=kj(n),a=(e=>LU(oj,sj("GetId"),Rj,{...XU,...e,userAgentValue:_L()}))({endpointResolver:Oj({endpointOverride:t.identityPoolEndpoint})});let o;try{o=(await a({region:r},{IdentityPoolId:n,Logins:e})).IdentityId}catch(fP){throw wj(fP),new bj(fP)}if(!o)throw new bj({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return o}(o,n);return r.storeIdentityId({id:s,type:t?"primary":"guest"}),s}const Pj=new C("CognitoCredentialsProvider"),$j=3e6;class Lj{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){Pj.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){Pj.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){const t=e.authenticated,{tokens:n}=e,{authConfig:r}=e;try{yj(r?.Cognito)}catch{return}if(!t&&!r.Cognito.allowGuestAccess)return;const{forceRefresh:a}=e,o=this.hasTokenChanged(n),s=await Dj({tokens:n,authConfig:r.Cognito,identityIdStore:this._identityIdStore});return(a||o)&&this.clearCredentials(),t?(function(e){if(!e||!e.idToken)throw new bj({name:Sj,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}(n),this.credsForOIDCTokens(r.Cognito,n,s)):this.getGuestCredentials(s,r.Cognito)}async getGuestCredentials(e,t){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return Pj.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const n=kj(t.identityPoolId),r=uj({endpointResolver:Oj({endpointOverride:t.identityPoolEndpoint})});let a;try{a=await r({region:n},{IdentityId:e})}catch(fP){throw wj(fP),new bj(fP)}if(a?.Credentials?.AccessKeyId&&a?.Credentials?.SecretKey){this._nextCredentialsRefresh=(new Date).getTime()+$j;const t={credentials:{accessKeyId:a.Credentials.AccessKeyId,secretAccessKey:a.Credentials.SecretKey,sessionToken:a.Credentials.SessionToken,expiration:a.Credentials.Expiration},identityId:e};return a.IdentityId&&(t.identityId=a.IdentityId,this._identityIdStore.storeIdentityId({id:a.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}throw new bj({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return Pj.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const r=t.idToken?Fj(t.idToken.toString()):{},a=kj(e.identityPoolId),o=uj({endpointResolver:Oj({endpointOverride:e.identityPoolEndpoint})});let s;try{s=await o({region:a},{IdentityId:n,Logins:r})}catch(fP){throw wj(fP),new bj(fP)}if(s?.Credentials?.AccessKeyId&&s?.Credentials?.SecretKey){this._nextCredentialsRefresh=(new Date).getTime()+$j;const e={credentials:{accessKeyId:s.Credentials.AccessKeyId,secretAccessKey:s.Credentials.SecretKey,sessionToken:s.Credentials.SessionToken,expiration:s.Credentials.Expiration},identityId:n};return s.IdentityId&&(e.identityId=s.IdentityId,this._identityIdStore.storeIdentityId({id:s.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:t.idToken?.toString()},e}throw new bj({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}const zj={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var Wj;!function(e){e.InvalidAuthTokens="InvalidAuthTokens"}(Wj||(Wj={}));const Bj=hj({[Wj.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}}),Uj="CognitoIdentityServiceProvider";class jj{getKeyValueStorage(){if(!this.keyValueStorage)throw new bj({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{const e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new bj({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const n=vj(t),r=await this.getKeyValueStorage().getItem(e.idToken),a=r?vj(r):void 0,o=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,s=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",i=Number.parseInt(s),l=await this.getKeyValueStorage().getItem(e.signInDetails),u={accessToken:n,idToken:a,refreshToken:o,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:i,username:await this.getLastAuthUser()};return l&&(u.signInDetails=JSON.parse(l)),u}catch(vH){return null}}async storeTokens(e){Bj(void 0!==e,Wj.InvalidAuthTokens);const t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);const n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,`${e.clockDrift}`)}async clearTokens(){const e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){const t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),r=await this.getKeyValueStorage().getItem(t.deviceGroupKey),a=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return a&&r&&n?{deviceKey:n,deviceGroupKey:r,randomPassword:a}:null}async clearDeviceMetadata(e){const t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){gj(this.authConfig?.Cognito);const t=e??await this.getLastAuthUser();return Hj(Uj,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){gj(this.authConfig?.Cognito);const e=this.authConfig.Cognito.userPoolClientId;return`${Uj}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(e){const{oauthMetadata:t}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(t,JSON.stringify(e))}async getOAuthMetadata(){const{oauthMetadata:e}=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e);return t&&JSON.parse(t)}}const Hj=(e,t)=>Vj(zj)(`${e}`,t);function Vj(e){const t=Object.values({...e});return(e,n)=>t.reduce((t,r)=>({...t,[r]:`${e}.${n}.${r}`}),{})}const qj={identityId:"identityId"},Gj=new C("DefaultIdentityIdStore");class Kj{setAuthConfig(e){yj(e.Cognito),this.authConfig=e,this._authKeys=Yj("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){yj(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const e=await this.keyValueStorage.getItem(this._authKeys.identityId);return e?(this._hasGuestIdentityId=!0,{id:e,type:"guest"}):null}}catch(vH){return Gj.log("Error getting stored IdentityId.",vH),null}}async storeIdentityId(e){yj(this.authConfig?.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const Yj=(e,t)=>Vj(qj)(`com.amplify.${e}`,t),Qj=new Lj(new Kj(RU)),Xj=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),Jj=(e,t,n)=>{let{url:r}=e;return{headers:t,url:r,body:n,method:"POST"}},Zj=tj(aj,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),eH="cognito-idp",tH={service:eH,retryDecider:HU(PU),computeDelay:UU,get userAgentValue(){return _L()},cache:"no-store"},nH=e=>{return LU(Zj,(t="InitiateAuth",(e,n)=>{const r=Xj(t),a=JSON.stringify(e);return Jj(n,r,a)}),async e=>{if(e.statusCode>=300){const t=await PU(e);throw wj(t),new bj({name:t.name,message:t.message,metadata:t.$metadata})}return $U(e)},{...tH,...e});var t},rH=e=>{let{endpointOverride:t}=e;return e=>t?{url:new Mj(t)}:(e=>{let{region:t}=e;return{url:new Mj(`https://${eH}.${t}.${Aj(t)}`)}})(e)};const aH=async e=>{let{tokens:t,authConfig:n,username:r}=e;gj(n?.Cognito);const{userPoolId:a,userPoolClientId:o,userPoolEndpoint:s}=n.Cognito,i=function(e){const t=e?.split("_")[0];if(!e||e.indexOf("_")<0||!t||"string"!==typeof t)throw new bj({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}(a);_j(t);const l=t.refreshToken,u={REFRESH_TOKEN:l};t.deviceMetadata?.deviceKey&&(u.DEVICE_KEY=t.deviceMetadata.deviceKey);const c=function(e){let{username:t,userPoolId:n,userPoolClientId:r}=e;if("undefined"===typeof window)return;const a=window.AmazonCognitoAdvancedSecurityData;if("undefined"===typeof a)return;const o=a.getData(t,n,r);if(o)return{EncodedData:o};return{}}({username:r,userPoolId:a,userPoolClientId:o}),d=nH({endpointResolver:rH({endpointOverride:s})}),{AuthenticationResult:p}=await d({region:i},{ClientId:o,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:u,UserContextData:c}),h=vj(p?.AccessToken??""),f=p?.IdToken?vj(p.IdToken):void 0,{iat:m}=h.payload;if(!m)throw new bj({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:h,idToken:f,clockDrift:1e3*m-(new Date).getTime(),refreshToken:l,username:r}},oH=(e=>{let t;return async function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t||(t=new Promise((n,a)=>{e(...r).then(e=>{n(e)}).catch(e=>{a(e)}).finally(()=>{t=void 0})}),t)}})(aH);function sH(e){let{expiresAt:t,clockDrift:n,tolerance:r=5e3}=e;return Date.now()+n+r>t}const iH="amplify-signin-with-hostedUI",lH="CognitoIdentityServiceProvider";const uH=(e,t)=>Vj(Ej)(e,t),cH=new class{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){gj(this.cognitoConfig);const e=uH(lH,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){gj(this.cognitoConfig);const e=uH(lH,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(iH),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){gj(this.cognitoConfig);const e=uH(lH,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){gj(this.cognitoConfig);const t=uH(lH,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){gj(this.cognitoConfig);const e=uH(lH,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){gj(this.cognitoConfig);const t=uH(lH,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){gj(this.cognitoConfig);const e=uH(lH,this.cognitoConfig.userPoolClientId);return"true"===await this.keyValueStorage.getItem(e.inflightOAuth)}async storeOAuthInFlight(e){gj(this.cognitoConfig);const t=uH(lH,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){gj(this.cognitoConfig);const e=uH(lH,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(iH),[n,r]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===n||"true"===t,preferPrivateSession:"true"===r}}async storeOAuthSignIn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];gj(this.cognitoConfig);const n=uH(lH,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${e},${t}`)}}(RU),dH=[];class pH{constructor(){this.waitForInflightOAuth="undefined"!==typeof window&&"undefined"!==typeof window.document?async()=>{if(await cH.loadOAuthInFlight())return this.inflightPromise||(this.inflightPromise=new Promise((e,t)=>{var n;n=e,dH.push(n)})),this.inflightPromise}:async()=>{}}setAuthConfig(e){cH.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new bj({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new bj({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let t;try{gj(this.authConfig?.Cognito)}catch(o){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();const n=await this.getTokenStore().getLastAuthUser();if(null===t)return null;const r=!!t?.idToken&&sH({expiresAt:1e3*(t.idToken?.payload?.exp??0),clockDrift:t.clockDrift??0}),a=sH({expiresAt:1e3*(t.accessToken?.payload?.exp??0),clockDrift:t.clockDrift??0});return(e?.forceRefresh||r||a)&&(t=await this.refreshTokens({tokens:t,username:n}),null===t)?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens(e){let{tokens:t,username:n}=e;try{const{signInDetails:e}=t,r=await this.getTokenRefresher()({tokens:t,authConfig:this.authConfig,username:n});return r.signInDetails=e,await this.setTokens({tokens:r}),F.dispatch("auth",{event:"tokenRefresh"},"Auth",M),r}catch(vH){return this.handleErrors(vH)}}handleErrors(e){if(wj(e),e.name!==IU.NetworkError&&this.clearTokens(),F.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",M),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens(e){let{tokens:t}=e;return this.getTokenStore().storeTokens(t)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}const hH=new class{constructor(){this.authTokenStore=new jj,this.authTokenStore.setKeyValueStorage(RU),this.tokenOrchestrator=new pH,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(oH)}getTokens(){let{forceRefresh:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{forceRefresh:!1};return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}},{tokenOrchestrator:fH}=hH,mH={aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"ap-southeast-1:66b6a0f0-3d6b-457c-aedc-cb0da3cd3417",aws_cognito_region:"us-east-1"};function gH(){const[e,t]=(0,x.useState)(null),[n,r]=(0,x.useState)(!0),[a,o]=(0,x.useState)(null),[s,i]=(0,x.useState)(null),l=async()=>{r(!0),o(null),i(null);try{const e=await fetch("http://localhost:8080/api/aws/employee-liveness/start-session",{method:"POST",headers:{"Content-Type":"application/json"}}),n=await e.json();t(n.sessionId)}catch(vH){i("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u062e\u0627\u062f\u0645")}finally{r(!1)}};(0,x.useEffect)(()=>{l()},[]);return n?(0,E.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,E.jsx)(VW,{})}):s?(0,E.jsxs)("div",{style:{color:"white",background:"#e3342f",padding:24,borderRadius:8,textAlign:"center",margin:"50px auto",maxWidth:400,fontSize:18},children:[s,(0,E.jsx)("div",{children:(0,E.jsx)("button",{onClick:l,style:{marginTop:16,padding:"8px 28px",border:"none",background:"#4a5568",color:"white",borderRadius:4,cursor:"pointer"},children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"})})]}):a?(0,E.jsx)(SU,{children:(0,E.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f7fa"},children:(0,E.jsxs)("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 6px 32px #cbd5e1",padding:32,minWidth:340,textAlign:"center"},children:[(0,E.jsx)("h2",{style:{color:"#26547c",marginBottom:16},children:"\u0646\u062a\u064a\u062c\u0629 \u0627\u0644\u0641\u062d\u0635 \u0627\u0644\u062d\u064a\u0648\u064a"}),(0,E.jsx)("pre",{style:{textAlign:"left",background:"#f8f8fa",padding:14,borderRadius:8,marginBottom:18,fontSize:14,direction:"ltr"},children:JSON.stringify(a,null,2)}),(0,E.jsx)("button",{onClick:()=>{o(null),l()},style:{background:"#26547c",color:"#fff",border:"none",padding:"10px 36px",borderRadius:8,fontSize:17,cursor:"pointer",fontWeight:600},children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0641\u062d\u0635"})]})})}):(0,E.jsx)(SU,{children:(0,E.jsx)(yU,{sessionId:e,region:"us-east-1",onAnalysisComplete:async()=>{r(!0);try{const t=await fetch(`http://localhost:8080/api/aws/employee-liveness/check-session?sessionId=${e}`),n=await t.json();o(n)}catch(vH){i("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u062c\u0644\u0633\u0629")}finally{r(!1)}},onError:e=>{i("\u062d\u062f\u062b \u062e\u0637\u0623: "+((null===e||void 0===e?void 0:e.message)||"")),console.error(e)}})})}({configure(e,t){const n=Y(e),r=new EU({sameSite:"lax"}),a=t?.ssr?r:RU,o=t?.ssr?new Lj(new Kj(r)):Qj;if(n.Auth)if(t?.Auth)me.configure(n,t);else{if(!me.libraryOptions.Auth)return hH.setAuthConfig(n.Auth),hH.setKeyValueStorage(a),void me.configure(n,{...t,Auth:{tokenProvider:hH,credentialsProvider:o}});if(t){const e=me.libraryOptions.Auth;return void 0!==t.ssr&&(hH.setKeyValueStorage(a),e.credentialsProvider=o),void me.configure(n,{Auth:e,...t})}me.configure(n)}else me.configure(n,t)},getConfig:()=>me.getConfig()}).configure(mH);const yH=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:o,getTTFB:s}=t;n(e),r(e),a(e),o(e),s(e)})};_.createRoot(document.getElementById("root")).render((0,E.jsx)(x.StrictMode,{children:(0,E.jsx)(gH,{})})),yH()})()})();
//# sourceMappingURL=main.889511a8.js.map