<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use BezhanSalleh\FilamentShield\Support\Utils;
use Spatie\Permission\PermissionRegistrar;

class ShieldSeeder extends Seeder
{
    public function run(): void
    {
        app()[PermissionRegistrar::class]->forgetCachedPermissions();

        $rolesWithPermissions = '[{"name":"super_admin","guard_name":"web","permissions":["view_order","view_any_order","view_branch","view_any_branch","create_branch","update_branch","restore_branch","restore_any_branch","replicate_branch","reorder_branch","delete_branch","delete_any_branch","force_delete_branch","force_delete_any_branch","view_category","view_any_category","create_category","update_category","restore_category","restore_any_category","replicate_category","reorder_category","delete_category","delete_any_category","force_delete_category","force_delete_any_category","create_order","update_order","delete_order","delete_any_order","publish_order","view_product","view_any_product","create_product","update_product","restore_product","restore_any_product","replicate_product","reorder_product","delete_product","delete_any_product","force_delete_product","force_delete_any_product","view_shield::role","view_any_shield::role","create_shield::role","update_shield::role","delete_shield::role","delete_any_shield::role","view_transfer::order","view_any_transfer::order","create_transfer::order","update_transfer::order","restore_transfer::order","restore_any_transfer::order","replicate_transfer::order","reorder_transfer::order","delete_transfer::order","delete_any_transfer::order","force_delete_transfer::order","force_delete_any_transfer::order","view_unit","view_any_unit","create_unit","update_unit","restore_unit","restore_any_unit","replicate_unit","reorder_unit","delete_unit","delete_any_unit","force_delete_unit","force_delete_any_unit","view_user","view_any_user","create_user","update_user","restore_user","restore_any_user","replicate_user","reorder_user","delete_user","delete_any_user","force_delete_user","force_delete_any_user","widget_LatestOrders","widget_OrderChart","widget_StatsOverview","view_circular","view_inventory","view_inventory::transaction::report","view_inventory::transaction::trucking::report","view_minimum::product::qty::report","view_notification::setting","view_order::purchase","view_purchase::invoice","view_reports::purchase::invoice::report","view_stock::report","view_stock::supply::order","view_store","view_supplier","view_task","update_order::purchase","view_any_order::purchase","import_order","cancel_order","view_absence::tracking::report","view_any_absence::tracking::report","create_absence::tracking::report","update_absence::tracking::report","restore_absence::tracking::report","restore_any_absence::tracking::report","replicate_absence::tracking::report","reorder_absence::tracking::report","delete_absence::tracking::report","delete_any_absence::tracking::report","force_delete_absence::tracking::report","force_delete_any_absence::tracking::report","view_administration","view_any_administration","create_administration","update_administration","restore_administration","restore_any_administration","replicate_administration","reorder_administration","delete_administration","delete_any_administration","force_delete_administration","force_delete_any_administration","view_allowance","view_any_allowance","create_allowance","update_allowance","restore_allowance","restore_any_allowance","replicate_allowance","reorder_allowance","delete_allowance","delete_any_allowance","force_delete_allowance","force_delete_any_allowance","view_approval","view_any_approval","create_approval","update_approval","restore_approval","restore_any_approval","replicate_approval","reorder_approval","delete_approval","delete_any_approval","force_delete_approval","force_delete_any_approval","view_attendance::images::uploaded","view_any_attendance::images::uploaded","create_attendance::images::uploaded","update_attendance::images::uploaded","restore_attendance::images::uploaded","restore_any_attendance::images::uploaded","replicate_attendance::images::uploaded","reorder_attendance::images::uploaded","delete_attendance::images::uploaded","delete_any_attendance::images::uploaded","force_delete_attendance::images::uploaded","force_delete_any_attendance::images::uploaded","view_attendnace","view_any_attendnace","create_attendnace","update_attendnace","restore_attendnace","restore_any_attendnace","replicate_attendnace","reorder_attendnace","delete_attendnace","delete_any_attendnace","force_delete_attendnace","force_delete_any_attendnace","view_audit","view_any_audit","create_audit","update_audit","restore_audit","restore_any_audit","replicate_audit","reorder_audit","delete_audit","delete_any_audit","force_delete_audit","force_delete_any_audit","view_any_circular","create_circular","update_circular","restore_circular","restore_any_circular","replicate_circular","reorder_circular","delete_circular","delete_any_circular","force_delete_circular","force_delete_any_circular","view_city","view_any_city","create_city","update_city","restore_city","restore_any_city","replicate_city","reorder_city","delete_city","delete_any_city","force_delete_city","force_delete_any_city","view_country","view_any_country","create_country","update_country","restore_country","restore_any_country","replicate_country","reorder_country","delete_country","delete_any_country","force_delete_country","force_delete_any_country","view_daily::tasks::setting::up","view_any_daily::tasks::setting::up","create_daily::tasks::setting::up","update_daily::tasks::setting::up","restore_daily::tasks::setting::up","restore_any_daily::tasks::setting::up","replicate_daily::tasks::setting::up","reorder_daily::tasks::setting::up","delete_daily::tasks::setting::up","delete_any_daily::tasks::setting::up","force_delete_daily::tasks::setting::up","force_delete_any_daily::tasks::setting::up","view_deduction","view_any_deduction","create_deduction","update_deduction","restore_deduction","restore_any_deduction","replicate_deduction","reorder_deduction","delete_deduction","delete_any_deduction","force_delete_deduction","force_delete_any_deduction","view_department","view_any_department","create_department","update_department","restore_department","restore_any_department","replicate_department","reorder_department","delete_department","delete_any_department","force_delete_department","force_delete_any_department","view_district","view_any_district","create_district","update_district","restore_district","restore_any_district","replicate_district","reorder_district","delete_district","delete_any_district","force_delete_district","force_delete_any_district","view_employee","view_any_employee","create_employee","update_employee","restore_employee","restore_any_employee","replicate_employee","reorder_employee","delete_employee","delete_any_employee","force_delete_employee","force_delete_any_employee","view_employee::absents::report","view_any_employee::absents::report","create_employee::absents::report","update_employee::absents::report","restore_employee::absents::report","restore_any_employee::absents::report","replicate_employee::absents::report","reorder_employee::absents::report","delete_employee::absents::report","delete_any_employee::absents::report","force_delete_employee::absents::report","force_delete_any_employee::absents::report","view_employee::advance::report","view_any_employee::advance::report","create_employee::advance::report","update_employee::advance::report","restore_employee::advance::report","restore_any_employee::advance::report","replicate_employee::advance::report","reorder_employee::advance::report","delete_employee::advance::report","delete_any_employee::advance::report","force_delete_employee::advance::report","force_delete_any_employee::advance::report","view_employee::application","view_any_employee::application","create_employee::application","update_employee::application","restore_employee::application","restore_any_employee::application","replicate_employee::application","reorder_employee::application","delete_employee::application","delete_any_employee::application","force_delete_employee::application","force_delete_any_employee::application","view_employee::attednace::report","view_any_employee::attednace::report","create_employee::attednace::report","update_employee::attednace::report","restore_employee::attednace::report","restore_any_employee::attednace::report","replicate_employee::attednace::report","reorder_employee::attednace::report","delete_employee::attednace::report","delete_any_employee::attednace::report","force_delete_employee::attednace::report","force_delete_any_employee::attednace::report","view_employee::attednace::report::for::employee","view_any_employee::attednace::report::for::employee","create_employee::attednace::report::for::employee","update_employee::attednace::report::for::employee","restore_employee::attednace::report::for::employee","restore_any_employee::attednace::report::for::employee","replicate_employee::attednace::report::for::employee","reorder_employee::attednace::report::for::employee","delete_employee::attednace::report::for::employee","delete_any_employee::attednace::report::for::employee","force_delete_employee::attednace::report::for::employee","force_delete_any_employee::attednace::report::for::employee","view_employee::deductoin::summary","view_any_employee::deductoin::summary","create_employee::deductoin::summary","update_employee::deductoin::summary","restore_employee::deductoin::summary","restore_any_employee::deductoin::summary","replicate_employee::deductoin::summary","reorder_employee::deductoin::summary","delete_employee::deductoin::summary","delete_any_employee::deductoin::summary","force_delete_employee::deductoin::summary","force_delete_any_employee::deductoin::summary","view_employee::leave::report","view_any_employee::leave::report","create_employee::leave::report","update_employee::leave::report","restore_employee::leave::report","restore_any_employee::leave::report","replicate_employee::leave::report","reorder_employee::leave::report","delete_employee::leave::report","delete_any_employee::leave::report","force_delete_employee::leave::report","force_delete_any_employee::leave::report","view_employee::overtime","view_any_employee::overtime","create_employee::overtime","update_employee::overtime","restore_employee::overtime","restore_any_employee::overtime","replicate_employee::overtime","reorder_employee::overtime","delete_employee::overtime","delete_any_employee::overtime","force_delete_employee::overtime","force_delete_any_employee::overtime","view_employee::rating::report","view_any_employee::rating::report","create_employee::rating::report","update_employee::rating::report","restore_employee::rating::report","restore_any_employee::rating::report","replicate_employee::rating::report","reorder_employee::rating::report","delete_employee::rating::report","delete_any_employee::rating::report","force_delete_employee::rating::report","force_delete_any_employee::rating::report","view_employee::task::report","view_any_employee::task::report","create_employee::task::report","update_employee::task::report","restore_employee::task::report","restore_any_employee::task::report","replicate_employee::task::report","reorder_employee::task::report","delete_employee::task::report","delete_any_employee::task::report","force_delete_employee::task::report","force_delete_any_employee::task::report","view_employees::attednace::report","view_any_employees::attednace::report","create_employees::attednace::report","update_employees::attednace::report","restore_employees::attednace::report","restore_any_employees::attednace::report","replicate_employees::attednace::report","reorder_employees::attednace::report","delete_employees::attednace::report","delete_any_employees::attednace::report","force_delete_employees::attednace::report","force_delete_any_employees::attednace::report","view_equipment","view_any_equipment","create_equipment","update_equipment","restore_equipment","restore_any_equipment","replicate_equipment","reorder_equipment","delete_equipment","delete_any_equipment","force_delete_equipment","force_delete_any_equipment","view_holiday","view_any_holiday","create_holiday","update_holiday","restore_holiday","restore_any_holiday","replicate_holiday","reorder_holiday","delete_holiday","delete_any_holiday","force_delete_holiday","force_delete_any_holiday","view_any_inventory","create_inventory","update_inventory","restore_inventory","restore_any_inventory","replicate_inventory","reorder_inventory","delete_inventory","delete_any_inventory","force_delete_inventory","force_delete_any_inventory","view_any_inventory::transaction::report","create_inventory::transaction::report","update_inventory::transaction::report","restore_inventory::transaction::report","restore_any_inventory::transaction::report","replicate_inventory::transaction::report","reorder_inventory::transaction::report","delete_inventory::transaction::report","delete_any_inventory::transaction::report","force_delete_inventory::transaction::report","force_delete_any_inventory::transaction::report","view_any_inventory::transaction::trucking::report","create_inventory::transaction::trucking::report","update_inventory::transaction::trucking::report","restore_inventory::transaction::trucking::report","restore_any_inventory::transaction::trucking::report","replicate_inventory::transaction::trucking::report","reorder_inventory::transaction::trucking::report","delete_inventory::transaction::trucking::report","delete_any_inventory::transaction::trucking::report","force_delete_inventory::transaction::trucking::report","force_delete_any_inventory::transaction::trucking::report","view_leave::application","view_any_leave::application","create_leave::application","update_leave::application","restore_leave::application","restore_any_leave::application","replicate_leave::application","reorder_leave::application","delete_leave::application","delete_any_leave::application","force_delete_leave::application","force_delete_any_leave::application","view_leave::balance","view_any_leave::balance","create_leave::balance","update_leave::balance","restore_leave::balance","restore_any_leave::balance","replicate_leave::balance","reorder_leave::balance","delete_leave::balance","delete_any_leave::balance","force_delete_leave::balance","force_delete_any_leave::balance","view_leave::type","view_any_leave::type","create_leave::type","update_leave::type","restore_leave::type","restore_any_leave::type","replicate_leave::type","reorder_leave::type","delete_leave::type","delete_any_leave::type","force_delete_leave::type","force_delete_any_leave::type","view_any_minimum::product::qty::report","create_minimum::product::qty::report","update_minimum::product::qty::report","restore_minimum::product::qty::report","restore_any_minimum::product::qty::report","replicate_minimum::product::qty::report","reorder_minimum::product::qty::report","delete_minimum::product::qty::report","delete_any_minimum::product::qty::report","force_delete_minimum::product::qty::report","force_delete_any_minimum::product::qty::report","view_month::salary","view_any_month::salary","create_month::salary","update_month::salary","restore_month::salary","restore_any_month::salary","replicate_month::salary","reorder_month::salary","delete_month::salary","delete_any_month::salary","force_delete_month::salary","force_delete_any_month::salary","view_monthly::incentive","view_any_monthly::incentive","create_monthly::incentive","update_monthly::incentive","restore_monthly::incentive","restore_any_monthly::incentive","replicate_monthly::incentive","reorder_monthly::incentive","delete_monthly::incentive","delete_any_monthly::incentive","force_delete_monthly::incentive","force_delete_any_monthly::incentive","view_any_notification::setting","create_notification::setting","update_notification::setting","restore_notification::setting","restore_any_notification::setting","replicate_notification::setting","reorder_notification::setting","delete_notification::setting","delete_any_notification::setting","force_delete_notification::setting","force_delete_any_notification::setting","export_order","create_order::purchase","restore_order::purchase","restore_any_order::purchase","replicate_order::purchase","reorder_order::purchase","delete_order::purchase","delete_any_order::purchase","force_delete_order::purchase","force_delete_any_order::purchase","view_order::reports","view_any_order::reports","create_order::reports","update_order::reports","restore_order::reports","restore_any_order::reports","replicate_order::reports","reorder_order::reports","delete_order::reports","delete_any_order::reports","force_delete_order::reports","force_delete_any_order::reports","view_penalty::deduction","view_any_penalty::deduction","create_penalty::deduction","update_penalty::deduction","restore_penalty::deduction","restore_any_penalty::deduction","replicate_penalty::deduction","reorder_penalty::deduction","delete_penalty::deduction","delete_any_penalty::deduction","force_delete_penalty::deduction","force_delete_any_penalty::deduction","view_position","view_any_position","create_position","update_position","restore_position","restore_any_position","replicate_position","reorder_position","delete_position","delete_any_position","force_delete_position","force_delete_any_position","view_any_purchase::invoice","create_purchase::invoice","update_purchase::invoice","restore_purchase::invoice","restore_any_purchase::invoice","replicate_purchase::invoice","reorder_purchase::invoice","delete_purchase::invoice","delete_any_purchase::invoice","force_delete_purchase::invoice","force_delete_any_purchase::invoice","view_reports::branch::store::report","view_any_reports::branch::store::report","create_reports::branch::store::report","update_reports::branch::store::report","restore_reports::branch::store::report","restore_any_reports::branch::store::report","replicate_reports::branch::store::report","reorder_reports::branch::store::report","delete_reports::branch::store::report","delete_any_reports::branch::store::report","force_delete_reports::branch::store::report","force_delete_any_reports::branch::store::report","view_any_reports::purchase::invoice::report","create_reports::purchase::invoice::report","update_reports::purchase::invoice::report","restore_reports::purchase::invoice::report","restore_any_reports::purchase::invoice::report","replicate_reports::purchase::invoice::report","reorder_reports::purchase::invoice::report","delete_reports::purchase::invoice::report","delete_any_reports::purchase::invoice::report","force_delete_reports::purchase::invoice::report","force_delete_any_reports::purchase::invoice::report","view_reports::stores::report","view_any_reports::stores::report","create_reports::stores::report","update_reports::stores::report","restore_reports::stores::report","restore_any_reports::stores::report","replicate_reports::stores::report","reorder_reports::stores::report","delete_reports::stores::report","delete_any_reports::stores::report","force_delete_reports::stores::report","force_delete_any_reports::stores::report","view_service::request","view_any_service::request","create_service::request","update_service::request","restore_service::request","restore_any_service::request","replicate_service::request","reorder_service::request","delete_service::request","delete_any_service::request","force_delete_service::request","force_delete_any_service::request","view_setting","view_any_setting","create_setting","update_setting","restore_setting","restore_any_setting","replicate_setting","reorder_setting","delete_setting","delete_any_setting","force_delete_setting","force_delete_any_setting","view_stock::adjustment::reason","view_any_stock::adjustment::reason","create_stock::adjustment::reason","update_stock::adjustment::reason","restore_stock::adjustment::reason","restore_any_stock::adjustment::reason","replicate_stock::adjustment::reason","reorder_stock::adjustment::reason","delete_stock::adjustment::reason","delete_any_stock::adjustment::reason","force_delete_stock::adjustment::reason","force_delete_any_stock::adjustment::reason","view_stock::adjustment::report","view_any_stock::adjustment::report","create_stock::adjustment::report","update_stock::adjustment::report","restore_stock::adjustment::report","restore_any_stock::adjustment::report","replicate_stock::adjustment::report","reorder_stock::adjustment::report","delete_stock::adjustment::report","delete_any_stock::adjustment::report","force_delete_stock::adjustment::report","force_delete_any_stock::adjustment::report","view_stock::inventory","view_any_stock::inventory","create_stock::inventory","update_stock::inventory","restore_stock::inventory","restore_any_stock::inventory","replicate_stock::inventory","reorder_stock::inventory","delete_stock::inventory","delete_any_stock::inventory","force_delete_stock::inventory","force_delete_any_stock::inventory","view_stock::issue::order","view_any_stock::issue::order","create_stock::issue::order","update_stock::issue::order","restore_stock::issue::order","restore_any_stock::issue::order","replicate_stock::issue::order","reorder_stock::issue::order","delete_stock::issue::order","delete_any_stock::issue::order","force_delete_stock::issue::order","force_delete_any_stock::issue::order","view_any_stock::report","create_stock::report","update_stock::report","restore_stock::report","restore_any_stock::report","replicate_stock::report","reorder_stock::report","delete_stock::report","delete_any_stock::report","force_delete_stock::report","force_delete_any_stock::report","view_any_stock::supply::order","create_stock::supply::order","update_stock::supply::order","restore_stock::supply::order","restore_any_stock::supply::order","replicate_stock::supply::order","reorder_stock::supply::order","delete_stock::supply::order","delete_any_stock::supply::order","force_delete_stock::supply::order","force_delete_any_stock::supply::order","view_any_store","create_store","update_store","restore_store","restore_any_store","replicate_store","reorder_store","delete_store","delete_any_store","force_delete_store","force_delete_any_store","view_any_supplier","create_supplier","update_supplier","restore_supplier","restore_any_supplier","replicate_supplier","reorder_supplier","delete_supplier","delete_any_supplier","force_delete_supplier","force_delete_any_supplier","view_system::setting","view_any_system::setting","create_system::setting","update_system::setting","restore_system::setting","restore_any_system::setting","replicate_system::setting","reorder_system::setting","delete_system::setting","delete_any_system::setting","force_delete_system::setting","force_delete_any_system::setting","view_any_task","view_own_task","create_task","update_task","publish_task","rating_task","add_comment_task","add_photo_task","move_status_task","view_task::attachment","view_any_task::attachment","create_task::attachment","update_task::attachment","restore_task::attachment","restore_any_task::attachment","replicate_task::attachment","reorder_task::attachment","delete_task::attachment","delete_any_task::attachment","force_delete_task::attachment","force_delete_any_task::attachment","view_task::comment","view_any_task::comment","create_task::comment","update_task::comment","restore_task::comment","restore_any_task::comment","replicate_task::comment","reorder_task::comment","delete_task::comment","delete_any_task::comment","force_delete_task::comment","force_delete_any_task::comment","view_task::status","view_any_task::status","create_task::status","update_task::status","restore_task::status","restore_any_task::status","replicate_task::status","reorder_task::status","delete_task::status","delete_any_task::status","force_delete_task::status","force_delete_any_task::status","view_tasks::menu","view_any_tasks::menu","create_tasks::menu","update_tasks::menu","restore_tasks::menu","restore_any_tasks::menu","replicate_tasks::menu","reorder_tasks::menu","delete_tasks::menu","delete_any_tasks::menu","force_delete_tasks::menu","force_delete_any_tasks::menu","view_tenant","view_any_tenant","create_tenant","update_tenant","restore_tenant","restore_any_tenant","replicate_tenant","reorder_tenant","delete_tenant","delete_any_tenant","force_delete_tenant","force_delete_any_tenant","view_test::info::list::testinfo::list","view_any_test::info::list::testinfo::list","create_test::info::list::testinfo::list","update_test::info::list::testinfo::list","restore_test::info::list::testinfo::list","restore_any_test::info::list::testinfo::list","replicate_test::info::list::testinfo::list","reorder_test::info::list::testinfo::list","delete_test::info::list::testinfo::list","delete_any_test::info::list::testinfo::list","force_delete_test::info::list::testinfo::list","force_delete_any_test::info::list::testinfo::list","view_user::type","view_any_user::type","create_user::type","update_user::type","restore_user::type","restore_any_user::type","replicate_user::type","reorder_user::type","delete_user::type","delete_any_user::type","force_delete_user::type","force_delete_any_user::type","view_visit::log","view_any_visit::log","create_visit::log","update_visit::log","restore_visit::log","restore_any_visit::log","replicate_visit::log","reorder_visit::log","delete_visit::log","delete_any_visit::log","force_delete_visit::log","force_delete_any_visit::log","view_weekly::holiday","view_any_weekly::holiday","create_weekly::holiday","update_weekly::holiday","restore_weekly::holiday","restore_any_weekly::holiday","replicate_weekly::holiday","reorder_weekly::holiday","delete_weekly::holiday","delete_any_weekly::holiday","force_delete_weekly::holiday","force_delete_any_weekly::holiday","view_work::period","view_any_work::period","create_work::period","update_work::period","restore_work::period","restore_any_work::period","replicate_work::period","reorder_work::period","delete_work::period","delete_any_work::period","force_delete_work::period","force_delete_any_work::period","page_EmployeeRecords","page_TestDashboard","page_AccountantCluster","page_AreaManagementCluster","page_HRApplicationsCluster","page_HRAttenanceCluster","page_HRAttendanceReport","page_HRCircularCluster","page_HRCluster","page_HRLeaveManagementCluster","page_HRSalaryCluster","page_HRSalarySettingCluster","page_HRServiceRequestCluster","page_HRTaskReport","page_HRTasksSystem","page_HrClusteReport","page_InventoryCluster","page_InventoryManagementCluster","page_InventoryReportCluster","page_InventoryReportsCluster","page_MainInventoryCluster","page_MainOrdersCluster","page_OrderCluster","page_ProductUnitCluster","page_ReportOrdersCluster","page_Settings","page_SettingsCluster","page_SupplierCluster","page_SupplierStoresReportsCluster","page_UserCluster","widget_CircularWidget","widget_EmployeeSearchWidget","widget_TaskWidget"]},{"name":"Ops Manager","guard_name":"web","permissions":["view_order","view_any_order","view_branch","view_any_branch","create_branch","update_branch","restore_branch","restore_any_branch","replicate_branch","reorder_branch","delete_branch","delete_any_branch","force_delete_branch","force_delete_any_branch","view_category","view_any_category","create_category","update_category","restore_category","restore_any_category","replicate_category","reorder_category","delete_category","delete_any_category","force_delete_category","force_delete_any_category","create_order","update_order","delete_order","delete_any_order","publish_order","view_product","view_any_product","create_product","update_product","restore_product","restore_any_product","replicate_product","reorder_product","delete_product","delete_any_product","force_delete_product","force_delete_any_product","view_shield::role","view_any_shield::role","create_shield::role","update_shield::role","delete_shield::role","delete_any_shield::role","view_transfer::order","view_any_transfer::order","create_transfer::order","update_transfer::order","restore_transfer::order","restore_any_transfer::order","replicate_transfer::order","reorder_transfer::order","delete_transfer::order","delete_any_transfer::order","force_delete_transfer::order","force_delete_any_transfer::order","view_unit","view_any_unit","create_unit","update_unit","restore_unit","restore_any_unit","replicate_unit","reorder_unit","delete_unit","delete_any_unit","force_delete_unit","force_delete_any_unit","view_user","view_any_user","create_user","update_user","restore_user","restore_any_user","replicate_user","reorder_user","delete_user","delete_any_user","force_delete_user","force_delete_any_user","widget_LatestOrders","widget_OrderChart","widget_StatsOverview"]},{"name":"Customer","guard_name":"web","permissions":[]},{"name":"Store","guard_name":"web","permissions":["view_order","view_any_order","view_category","view_any_category","create_category","update_category","restore_category","restore_any_category","delete_category","delete_any_category","create_order","delete_order","delete_any_order","view_product","view_any_product","create_product","update_product","delete_product","delete_any_product","view_unit","view_any_unit","create_unit","update_unit","restore_unit","restore_any_unit","delete_unit","delete_any_unit","force_delete_unit","force_delete_any_unit","view_any_order::purchase","import_order","cancel_order","view_any_employee","view_any_position","create_position","view_any_order_purchased_order::purchase","create_purchased_order::purchase","view_any_employee::file::type"]},{"name":"Driver","guard_name":"web","permissions":[]},{"name":"Branch Manager","guard_name":"web","permissions":[]},{"name":"Branch Staff","guard_name":"web","permissions":[]},{"name":"Accountant","guard_name":"web","permissions":["view_order","view_any_order","view_branch","view_any_branch","create_branch","update_branch","restore_branch","restore_any_branch","replicate_branch","reorder_branch","delete_branch","delete_any_branch","force_delete_branch","force_delete_any_branch","view_category","view_any_category","create_category","update_category","restore_category","restore_any_category","replicate_category","reorder_category","delete_category","delete_any_category","force_delete_category","force_delete_any_category","create_order","update_order","delete_order","delete_any_order","publish_order","view_product","view_any_product","create_product","update_product","restore_product","restore_any_product","replicate_product","reorder_product","delete_product","delete_any_product","force_delete_product","force_delete_any_product","view_shield::role","view_any_shield::role","create_shield::role","update_shield::role","delete_shield::role","delete_any_shield::role","view_transfer::order","view_any_transfer::order","create_transfer::order","update_transfer::order","restore_transfer::order","restore_any_transfer::order","replicate_transfer::order","reorder_transfer::order","delete_transfer::order","delete_any_transfer::order","force_delete_transfer::order","force_delete_any_transfer::order","view_unit","view_any_unit","create_unit","update_unit","restore_unit","restore_any_unit","replicate_unit","reorder_unit","delete_unit","delete_any_unit","force_delete_unit","force_delete_any_unit","view_user","view_any_user","create_user","update_user","restore_user","restore_any_user","replicate_user","reorder_user","delete_user","delete_any_user","force_delete_user","force_delete_any_user","widget_LatestOrders","widget_OrderChart","widget_StatsOverview"]},{"name":"Supplier","guard_name":"web","permissions":[]},{"name":"panel_user","guard_name":"web","permissions":[]},{"name":"Maintenance Manager","guard_name":"web","permissions":[]},{"name":"Supervisor","guard_name":"web","permissions":["view_order","view_branch","view_category","view_product","view_transfer::order","view_circular","view_inventory","view_inventory::transaction::report","view_inventory::transaction::trucking::report","view_minimum::product::qty::report","view_notification::setting","view_order::purchase","view_purchase::invoice","view_reports::purchase::invoice::report","view_stock::report","view_stock::supply::order","view_store","view_supplier","view_task"]},{"name":"Finance Manager","guard_name":"web","permissions":[]},{"name":"Attendance","guard_name":"web","permissions":[]}]';
        $directPermissions = '{"0":{"name":"view_role","guard_name":"web"},"1":{"name":"view_any_role","guard_name":"web"},"2":{"name":"create_role","guard_name":"web"},"3":{"name":"update_role","guard_name":"web"},"4":{"name":"delete_role","guard_name":"web"},"5":{"name":"delete_any_role","guard_name":"web"},"944":{"name":"approve_order","guard_name":"web"},"945":{"name":"view_any_order::transfer","guard_name":"web"},"946":{"name":"view_order::transfer","guard_name":"web"},"947":{"name":"view_any_order_purchased","guard_name":"web"},"948":{"name":"view_order_purchased","guard_name":"web"},"949":{"name":"create_order_purchased","guard_name":"web"},"950":{"name":"update_order_purchased","guard_name":"web"},"951":{"name":"delete_order_purchased","guard_name":"web"},"952":{"name":"delete_any_order_purchased","guard_name":"web"},"954":{"name":"view_any_purchased_order::purchase","guard_name":"web"}}';

        static::makeRolesWithPermissions($rolesWithPermissions);
        static::makeDirectPermissions($directPermissions);

        $this->command->info('Shield Seeding Completed.');
    }

    protected static function makeRolesWithPermissions(string $rolesWithPermissions): void
    {
        if (! blank($rolePlusPermissions = json_decode($rolesWithPermissions, true))) {
            /** @var Model $roleModel */
            $roleModel = Utils::getRoleModel();
            /** @var Model $permissionModel */
            $permissionModel = Utils::getPermissionModel();

            foreach ($rolePlusPermissions as $rolePlusPermission) {
                $role = $roleModel::firstOrCreate([
                    'name' => $rolePlusPermission['name'],
                    'guard_name' => $rolePlusPermission['guard_name'],
                ]);

                if (! blank($rolePlusPermission['permissions'])) {
                    $permissionModels = collect($rolePlusPermission['permissions'])
                        ->map(fn ($permission) => $permissionModel::firstOrCreate([
                            'name' => $permission,
                            'guard_name' => $rolePlusPermission['guard_name'],
                        ]))
                        ->all();

                    $role->syncPermissions($permissionModels);
                }
            }
        }
    }

    public static function makeDirectPermissions(string $directPermissions): void
    {
        if (! blank($permissions = json_decode($directPermissions, true))) {
            /** @var Model $permissionModel */
            $permissionModel = Utils::getPermissionModel();

            foreach ($permissions as $permission) {
                if ($permissionModel::whereName($permission)->doesntExist()) {
                    $permissionModel::create([
                        'name' => $permission['name'],
                        'guard_name' => $permission['guard_name'],
                    ]);
                }
            }
        }
    }
}
